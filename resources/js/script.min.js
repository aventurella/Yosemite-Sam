(function(){function a(){if(a.is(arguments[0],ka)){for(var d=arguments[0],i=g[y](a,d.splice(0,3+a.is(d[0],ea))),l=i.set(),o=0,s=d[M];o<s;o++){var p=d[o]||{};r[D](p.type)&&l[va](i[p.type]().attr(p))}return l}return g[y](a,arguments)}function b(d,i,l){function o(){var s=Array[I].slice.call(arguments,0),p=s[Q]("\u25ba"),z=o.cache=o.cache||{},C=o.count=o.count||[];if(z[D](p))return l?l(z[p]):z[p];C[M]>=1E3&&delete z[C.shift()];C[va](p);z[p]=d[y](i,s);return l?l(z[p]):z[p]}return o}function f(){return this.x+
ca+this.y}function e(d){return function(i,l,o,s){var p={back:d};a.is(o,"function")?s=o:p.rot=o;i&&i.constructor==Ba&&(i=i.attrs.path);i&&(p.along=i);return this.animate(p,l,s)}}function h(d,i,l,o,s,p){function z(ma,ha){var ia,fa,qa,sa;qa=ma;for(fa=0;fa<8;fa++){sa=((F*qa+E)*qa+C)*qa-ma;if(J.abs(sa)<ha)return qa;ia=(3*F*qa+2*E)*qa+C;if(J.abs(ia)<1.0E-6)break;qa-=sa/ia}ia=0;fa=1;qa=ma;if(qa<ia)return ia;if(qa>fa)return fa;for(;ia<fa;){sa=((F*qa+E)*qa+C)*qa;if(J.abs(sa-ma)<ha)return qa;if(ma>sa)ia=qa;
else fa=qa;qa=(fa-ia)/2+ia}return qa}var C=3*i,E=3*(o-i)-C,F=1-C-E,N=3*l,T=3*(s-l)-N,ba=1-N-T;return function(ma,ha){var ia=z(ma,ha);return((ba*ia+T)*ia+N)*ia}(d,1/(200*p))}a.version="1.5.0";var m=/[, ]+/,r={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},G=/\{(\d+)\}/g,I="prototype",D="hasOwnProperty",w=document,u=window,n={was:Object[I][D].call(u,"Raphael"),is:u.Raphael},t=function(){this.customAttributes={}},x,y="apply",k="createTouch"in w,ca=" ",X=String,na="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(ca),
oa={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},Q="join",M="length",O=X[I].toLowerCase,J=Math,U=J.max,aa=J.min,W=J.pow,ea="number",ka="array",wa=Object[I].toString,va="push",Aa=/^(?=[\da-f]$)/,Ia=/^url\(['"]?([^\)]+?)['"]?\)$/i,La=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%)?)\s*\)|hsb\(\s*([\d\.]+(?:deg|\xb0)?\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hsb\(\s*([\d\.]+(?:deg|\xb0|%)\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hsl\(\s*([\d\.]+(?:deg|\xb0)?\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hsl\(\s*([\d\.]+(?:deg|\xb0|%)\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,
Ja=/^(NaN|-?Infinity)$/,Ea=/^cubic-bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,Fa=J.round,ta=parseFloat,Ra=parseInt,bb=X[I].toUpperCase,cb={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt",
"stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},ib={along:"along",blur:ea,"clip-rect":"csv",cx:ea,cy:ea,fill:"colour","fill-opacity":ea,"font-size":ea,height:ea,opacity:ea,path:"path",r:ea,rotation:"csv",rx:ea,ry:ea,scale:"csv",stroke:"colour","stroke-opacity":ea,"stroke-width":ea,translation:"csv",width:ea,x:ea,y:ea},Gb=/,?([achlmqrstvxz]),?/gi,Ua=/\s*,\s*/,Hb={hs:1,rg:1},
qb=/^(from|to|\d+%)$/,db=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,rb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,sb=function(d,i){return d.key-i.key};a.type=u.SVGAngle||w.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a.type=="VML"){var Pa=w.createElement("div");Pa.innerHTML='<v:shape adj="1"/>';Pa=Pa.firstChild;Pa.style.behavior="url(#default#VML)";if(!(Pa&&typeof Pa.adj=="object"))return a.type=null;Pa=null}a.svg=!(a.vml=a.type==
"VML");t[I]=a[I];x=t[I];a._id=0;a._oid=0;a.fn={};a.is=function(d,i){i=O.call(i);if(i=="finite")return!Ja.test(+d);return i=="null"&&d===null||i==typeof d||i=="object"&&d===Object(d)||i=="array"&&Array.isArray&&Array.isArray(d)||wa.call(d).slice(8,-1).toLowerCase()==i};a.angle=function(d,i,l,o,s,p){if(s==null){d=d-l;i=i-o;if(!d&&!i)return 0;return((d<0)*180+J.atan(-i/-d)*180/J.PI+360)%360}else return a.angle(d,i,s,p)-a.angle(l,o,s,p)};a.snapTo=function(d,i,l){l=l||10;d=[].concat(d);for(var o=d.length;o--;)if(J.abs(d[o]-
i)<=l)return d[o];return i};a.setWindow=function(d){u=d;w=u.document};var eb=function(d){if(a.vml){var i=/^\s+|\s+$/g,l;try{var o=new ActiveXObject("htmlfile");o.write("<body>");o.close();l=o.body}catch(s){l=createPopup().document.body}var p=l.createTextRange();eb=b(function(C){try{l.style.color=X(C).replace(i,"");var E=p.queryCommandValue("ForeColor");E=(E&255)<<16|E&65280|(E&16711680)>>>16;return"#"+("000000"+E.toString(16)).slice(-6)}catch(F){return"none"}})}else{var z=w.createElement("i");z.title=
"Rapha\u00ebl Colour Picker";z.style.display="none";w.body.appendChild(z);eb=b(function(C){z.style.color=C;return w.defaultView.getComputedStyle(z,"").getPropertyValue("color")})}return eb(d)},jb=function(){return"hsb("+[this.h,this.s,this.b]+")"},tb=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ib=function(){return this.hex};a.hsb2rgb=function(d,i,l){if(a.is(d,"object")&&"h"in d&&"s"in d&&"b"in d){l=d.b;i=d.s;d=d.h}return a.hsl2rgb(d,i,l/2)};a.hsl2rgb=function(d,i,l){if(a.is(d,"object")&&"h"in
d&&"s"in d&&"l"in d){l=d.l;i=d.s;d=d.h}if(d>1||i>1||l>1){d/=360;i/=100;l/=100}var o={},s=["r","g","b"],p;if(i){i=l<0.5?l*(1+i):l+i-l*i;l=2*l-i;for(var z=0,C=s.length;z<C;z++){p=d+1/3*-(z-1);p<0&&p++;p>1&&p--;o[s[z]]=p*6<1?l+(i-l)*6*p:p*2<1?i:p*3<2?l+(i-l)*(2/3-p)*6:l}}else o={r:l,g:l,b:l};o.r*=255;o.g*=255;o.b*=255;d=(~~o.r).toString(16);s=(~~o.g).toString(16);i=(~~o.b).toString(16);d=d.replace(Aa,"0");s=s.replace(Aa,"0");i=i.replace(Aa,"0");o.hex="#"+d+s+i;o.toString=Ib;return o};a.rgb2hsb=function(d,
i,l){if(i==null&&a.is(d,"object")&&"r"in d&&"g"in d&&"b"in d){l=d.b;i=d.g;d=d.r}if(i==null&&a.is(d,"string")){var o=a.getRGB(d);d=o.r;i=o.g;l=o.b}if(d>1||i>1||l>1){d/=255;i/=255;l/=255}o=U(d,i,l);var s=aa(d,i,l);if(s==o)return{h:0,s:0,b:o,toString:jb};else{var p=o-s;s=p/o;d=d==o?(i-l)/p:i==o?2+(l-d)/p:4+(d-i)/p;d/=6;d<0&&d++;d>1&&d--}return{h:d,s:s,b:o,toString:jb}};a.rgb2hsl=function(d,i,l){if(i==null&&a.is(d,"object")&&"r"in d&&"g"in d&&"b"in d){l=d.b;i=d.g;d=d.r}if(i==null&&a.is(d,"string")){var o=
a.getRGB(d);d=o.r;i=o.g;l=o.b}if(d>1||i>1||l>1){d/=255;i/=255;l/=255}var s=U(d,i,l),p=aa(d,i,l);o=(s+p)/2;if(p==s)d={h:0,s:0,l:o};else{var z=s-p;p=o<0.5?z/(s+p):z/(2-s-p);d=d==s?(i-l)/z:i==s?2+(l-d)/z:4+(d-i)/z;d/=6;d<0&&d++;d>1&&d--;d={h:d,s:p,l:o}}d.toString=tb;return d};a._path2string=function(){return this.join(",").replace(Gb,"$1")};a.getRGB=b(function(d){if(!d||(d=X(d)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(d=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(Hb[D](d.substring(0,
2))||d.charAt()=="#")&&(d=eb(d));var i,l,o,s,p;if(d=d.match(La)){if(d[2]){o=Ra(d[2].substring(5),16);l=Ra(d[2].substring(3,5),16);i=Ra(d[2].substring(1,3),16)}if(d[3]){o=Ra((p=d[3].charAt(3))+p,16);l=Ra((p=d[3].charAt(2))+p,16);i=Ra((p=d[3].charAt(1))+p,16)}if(d[4]){d=d[4].split(Ua);i=ta(d[0]);l=ta(d[1]);o=ta(d[2]);s=ta(d[3])}if(d[5]){d=d[5].split(Ua);i=ta(d[0])*2.55;l=ta(d[1])*2.55;o=ta(d[2])*2.55;s=ta(d[3])}if(d[6]){d=d[6].split(Ua);i=ta(d[0]);l=ta(d[1]);o=ta(d[2]);(d[0].slice(-3)=="deg"||d[0].slice(-1)==
"\u00b0")&&(i/=360);return a.hsb2rgb(i,l,o)}if(d[7]){d=d[7].split(Ua);i=ta(d[0])*2.55;l=ta(d[1])*2.55;o=ta(d[2])*2.55;(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(i/=360*2.55);return a.hsb2rgb(i,l,o)}if(d[8]){d=d[8].split(Ua);i=ta(d[0]);l=ta(d[1]);o=ta(d[2]);(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(i/=360);return a.hsl2rgb(i,l,o)}if(d[9]){d=d[9].split(Ua);i=ta(d[0])*2.55;l=ta(d[1])*2.55;o=ta(d[2])*2.55;(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(i/=360*2.55);return a.hsl2rgb(i,
l,o)}d={r:i,g:l,b:o};i=(~~i).toString(16);l=(~~l).toString(16);o=(~~o).toString(16);i=i.replace(Aa,"0");l=l.replace(Aa,"0");o=o.replace(Aa,"0");d.hex="#"+i+l+o;isFinite(ta(s))&&(d.o=s);return d}return{r:-1,g:-1,b:-1,hex:"none",error:1}},a);a.getColor=function(d){d=this.getColor.start=this.getColor.start||{h:0,s:1,b:d||0.75};var i=this.hsb2rgb(d.h,d.s,d.b);d.h+=0.075;if(d.h>1){d.h=0;d.s-=0.2;d.s<=0&&(this.getColor.start={h:0,s:1,b:d.b})}return i.hex};a.getColor.reset=function(){delete this.start};
a.parsePathString=b(function(d){if(!d)return null;var i={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},l=[];if(a.is(d,ka)&&a.is(d[0],ka))l=Ya(d);l[M]||X(d).replace(db,function(o,s,p){var z=[];o=O.call(s);p.replace(rb,function(C,E){E&&z[va](+E)});if(o=="m"&&z[M]>2){l[va]([s].concat(z.splice(0,2)));o="l";s=s=="m"?"l":"L"}for(;z[M]>=i[o];){l[va]([s].concat(z.splice(0,i[o])));if(!i[o])break}});l.toString=a._path2string;return l});a.findDotsAtSegment=function(d,i,l,o,s,p,z,C,E){var F=1-E,N=W(F,3)*d+W(F,2)*
3*E*l+F*3*E*E*s+W(E,3)*z;F=W(F,3)*i+W(F,2)*3*E*o+F*3*E*E*p+W(E,3)*C;var T=d+2*E*(l-d)+E*E*(s-2*l+d),ba=i+2*E*(o-i)+E*E*(p-2*o+i),ma=l+2*E*(s-l)+E*E*(z-2*s+l),ha=o+2*E*(p-o)+E*E*(C-2*p+o);d=(1-E)*d+E*l;i=(1-E)*i+E*o;s=(1-E)*s+E*z;p=(1-E)*p+E*C;C=90-J.atan((T-ma)/(ba-ha))*180/J.PI;(T>ma||ba<ha)&&(C+=180);return{x:N,y:F,m:{x:T,y:ba},n:{x:ma,y:ha},start:{x:d,y:i},end:{x:s,y:p},alpha:C}};var Na=b(function(d){if(!d)return{x:0,y:0,width:0,height:0};d=fb(d);for(var i=0,l=0,o=[],s=[],p,z=0,C=d[M];z<C;z++){p=
d[z];if(p[0]=="M"){i=p[1];l=p[2];o[va](i);s[va](l)}else{i=Jb(i,l,p[1],p[2],p[3],p[4],p[5],p[6]);o=o.concat(i.min.x,i.max.x);s=s.concat(i.min.y,i.max.y);i=p[5];l=p[6]}}d=aa[y](0,o);p=aa[y](0,s);return{x:d,y:p,width:U[y](0,o)-d,height:U[y](0,s)-p}}),Ya=function(d){var i=[];if(!a.is(d,ka)||!a.is(d&&d[0],ka))d=a.parsePathString(d);for(var l=0,o=d[M];l<o;l++){i[l]=[];for(var s=0,p=d[l][M];s<p;s++)i[l][s]=d[l][s]}i.toString=a._path2string;return i},kb=b(function(d){if(!a.is(d,ka)||!a.is(d&&d[0],ka))d=a.parsePathString(d);
var i=[],l=0,o=0,s=0,p=0,z=0;if(d[0][0]=="M"){l=d[0][1];o=d[0][2];s=l;p=o;z++;i[va](["M",l,o])}z=z;for(var C=d[M];z<C;z++){var E=i[z]=[],F=d[z];if(F[0]!=O.call(F[0])){E[0]=O.call(F[0]);switch(E[0]){case "a":E[1]=F[1];E[2]=F[2];E[3]=F[3];E[4]=F[4];E[5]=F[5];E[6]=+(F[6]-l).toFixed(3);E[7]=+(F[7]-o).toFixed(3);break;case "v":E[1]=+(F[1]-o).toFixed(3);break;case "m":s=F[1];p=F[2];default:for(var N=1,T=F[M];N<T;N++)E[N]=+(F[N]-(N%2?l:o)).toFixed(3)}}else{i[z]=[];if(F[0]=="m"){s=F[1]+l;p=F[2]+o}E=0;for(N=
F[M];E<N;E++)i[z][E]=F[E]}F=i[z][M];switch(i[z][0]){case "z":l=s;o=p;break;case "h":l+=+i[z][F-1];break;case "v":o+=+i[z][F-1];break;default:l+=+i[z][F-2];o+=+i[z][F-1]}}i.toString=a._path2string;return i},0,Ya),Za=b(function(d){if(!a.is(d,ka)||!a.is(d&&d[0],ka))d=a.parsePathString(d);var i=[],l=0,o=0,s=0,p=0,z=0;if(d[0][0]=="M"){l=+d[0][1];o=+d[0][2];s=l;p=o;z++;i[0]=["M",l,o]}z=z;for(var C=d[M];z<C;z++){var E=i[z]=[],F=d[z];if(F[0]!=bb.call(F[0])){E[0]=bb.call(F[0]);switch(E[0]){case "A":E[1]=F[1];
E[2]=F[2];E[3]=F[3];E[4]=F[4];E[5]=F[5];E[6]=+(F[6]+l);E[7]=+(F[7]+o);break;case "V":E[1]=+F[1]+o;break;case "H":E[1]=+F[1]+l;break;case "M":s=+F[1]+l;p=+F[2]+o;default:for(var N=1,T=F[M];N<T;N++)E[N]=+F[N]+(N%2?l:o)}}else{N=0;for(T=F[M];N<T;N++)i[z][N]=F[N]}switch(E[0]){case "Z":l=s;o=p;break;case "H":l=E[1];break;case "V":o=E[1];break;case "M":s=i[z][i[z][M]-2];p=i[z][i[z][M]-1];default:l=i[z][i[z][M]-2];o=i[z][i[z][M]-1]}}i.toString=a._path2string;return i},null,Ya),ub=function(d,i,l,o,s,p){var z=
1/3,C=2/3;return[z*d+C*l,z*i+C*o,z*s+C*l,z*p+C*o,s,p]},lb=function(d,i,l,o,s,p,z,C,E,F){var N=J.PI,T=N*120/180,ba=N/180*(+s||0),ma=[],ha,ia=b(function(Ca,Va,vb){var Lb=Ca*J.cos(vb)-Va*J.sin(vb);Ca=Ca*J.sin(vb)+Va*J.cos(vb);return{x:Lb,y:Ca}});if(F){sa=F[0];ha=F[1];p=F[2];qa=F[3]}else{ha=ia(d,i,-ba);d=ha.x;i=ha.y;ha=ia(C,E,-ba);C=ha.x;E=ha.y;J.cos(N/180*s);J.sin(N/180*s);ha=(d-C)/2;sa=(i-E)/2;qa=ha*ha/(l*l)+sa*sa/(o*o);if(qa>1){qa=J.sqrt(qa);l=qa*l;o=qa*o}qa=l*l;var fa=o*o;qa=(p==z?-1:1)*J.sqrt(J.abs((qa*
fa-qa*sa*sa-fa*ha*ha)/(qa*sa*sa+fa*ha*ha)));p=qa*l*sa/o+(d+C)/2;var qa=qa*-o*ha/l+(i+E)/2,sa=J.asin(((i-qa)/o).toFixed(9));ha=J.asin(((E-qa)/o).toFixed(9));sa=d<p?N-sa:sa;ha=C<p?N-ha:ha;sa<0&&(sa=N*2+sa);ha<0&&(ha=N*2+ha);if(z&&sa>ha)sa-=N*2;if(!z&&ha>sa)ha-=N*2}N=ha-sa;if(J.abs(N)>T){ma=ha;N=C;fa=E;ha=sa+T*(z&&ha>sa?1:-1);C=p+l*J.cos(ha);E=qa+o*J.sin(ha);ma=lb(C,E,l,o,s,0,z,N,fa,[ha,ma,p,qa])}N=ha-sa;s=J.cos(sa);T=J.sin(sa);z=J.cos(ha);ha=J.sin(ha);N=J.tan(N/4);l=4/3*l*N;N=4/3*o*N;o=[d,i];d=[d+l*
T,i-N*s];i=[C+l*ha,E-N*z];C=[C,E];d[0]=2*o[0]-d[0];d[1]=2*o[1]-d[1];if(F)return[d,i,C].concat(ma);else{ma=[d,i,C].concat(ma)[Q]().split(",");F=[];C=0;for(E=ma[M];C<E;C++)F[C]=C%2?ia(ma[C-1],ma[C],ba).y:ia(ma[C],ma[C+1],ba).x;return F}},gb=function(d,i,l,o,s,p,z,C,E){var F=1-E;return{x:W(F,3)*d+W(F,2)*3*E*l+F*3*E*E*s+W(E,3)*z,y:W(F,3)*i+W(F,2)*3*E*o+F*3*E*E*p+W(E,3)*C}},Jb=b(function(d,i,l,o,s,p,z,C){var E=s-2*l+d-(z-2*s+l),F=2*(l-d)-2*(s-l),N=d-l,T=(-F+J.sqrt(F*F-4*E*N))/2/E;E=(-F-J.sqrt(F*F-4*E*
N))/2/E;var ba=[i,C],ma=[d,z];J.abs(T)>"1e12"&&(T=0.5);J.abs(E)>"1e12"&&(E=0.5);if(T>0&&T<1){T=gb(d,i,l,o,s,p,z,C,T);ma[va](T.x);ba[va](T.y)}if(E>0&&E<1){T=gb(d,i,l,o,s,p,z,C,E);ma[va](T.x);ba[va](T.y)}E=p-2*o+i-(C-2*p+o);F=2*(o-i)-2*(p-o);N=i-o;T=(-F+J.sqrt(F*F-4*E*N))/2/E;E=(-F-J.sqrt(F*F-4*E*N))/2/E;J.abs(T)>"1e12"&&(T=0.5);J.abs(E)>"1e12"&&(E=0.5);if(T>0&&T<1){T=gb(d,i,l,o,s,p,z,C,T);ma[va](T.x);ba[va](T.y)}if(E>0&&E<1){T=gb(d,i,l,o,s,p,z,C,E);ma[va](T.x);ba[va](T.y)}return{min:{x:aa[y](0,ma),
y:aa[y](0,ba)},max:{x:U[y](0,ma),y:U[y](0,ba)}}}),fb=b(function(d,i){var l=Za(d),o=i&&Za(i),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},p={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},z=function(ia,fa){var qa,sa;if(!ia)return["C",fa.x,fa.y,fa.x,fa.y,fa.x,fa.y];!(ia[0]in{T:1,Q:1})&&(fa.qx=fa.qy=null);switch(ia[0]){case "M":fa.X=ia[1];fa.Y=ia[2];break;case "A":ia=["C"].concat(lb[y](0,[fa.x,fa.y].concat(ia.slice(1))));break;case "S":qa=fa.x+(fa.x-(fa.bx||fa.x));sa=fa.y+(fa.y-(fa.by||fa.y));ia=["C",qa,
sa].concat(ia.slice(1));break;case "T":fa.qx=fa.x+(fa.x-(fa.qx||fa.x));fa.qy=fa.y+(fa.y-(fa.qy||fa.y));ia=["C"].concat(ub(fa.x,fa.y,fa.qx,fa.qy,ia[1],ia[2]));break;case "Q":fa.qx=ia[1];fa.qy=ia[2];ia=["C"].concat(ub(fa.x,fa.y,ia[1],ia[2],ia[3],ia[4]));break;case "L":ia=["C"].concat([fa.x,fa.y,ia[1],ia[2],ia[1],ia[2]]);break;case "H":ia=["C"].concat([fa.x,fa.y,ia[1],fa.y,ia[1],fa.y]);break;case "V":ia=["C"].concat([fa.x,fa.y,fa.x,ia[1],fa.x,ia[1]]);break;case "Z":ia=["C"].concat([fa.x,fa.y,fa.X,fa.Y,
fa.X,fa.Y]);break}return ia},C=function(ia,fa){if(ia[fa][M]>7){ia[fa].shift();for(var qa=ia[fa];qa[M];)ia.splice(fa++,0,["C"].concat(qa.splice(0,6)));ia.splice(fa,1);N=U(l[M],o&&o[M]||0)}},E=function(ia,fa,qa,sa,Ca){if(ia&&fa&&ia[Ca][0]=="M"&&fa[Ca][0]!="M"){fa.splice(Ca,0,["M",sa.x,sa.y]);qa.bx=0;qa.by=0;qa.x=ia[Ca][1];qa.y=ia[Ca][2];N=U(l[M],o&&o[M]||0)}},F=0,N=U(l[M],o&&o[M]||0);for(;F<N;F++){l[F]=z(l[F],s);C(l,F);o&&(o[F]=z(o[F],p));o&&C(o,F);E(l,o,s,p,F);E(o,l,p,s,F);var T=l[F],ba=o&&o[F],ma=
T[M],ha=o&&ba[M];s.x=T[ma-2];s.y=T[ma-1];s.bx=ta(T[ma-4])||s.x;s.by=ta(T[ma-3])||s.y;p.bx=o&&(ta(ba[ha-4])||p.x);p.by=o&&(ta(ba[ha-3])||p.y);p.x=o&&ba[ha-2];p.y=o&&ba[ha-1]}return o?[l,o]:l},null,Ya),wb=b(function(d){for(var i=[],l=0,o=d[M];l<o;l++){var s={},p=d[l].match(/^([^:]*):?([\d\.]*)/);s.color=a.getRGB(p[1]);if(s.color.error)return null;s.color=s.color.hex;p[2]&&(s.offset=p[2]+"%");i[va](s)}l=1;for(o=i[M]-1;l<o;l++)if(!i[l].offset){d=ta(i[l-1].offset||0);p=0;for(s=l+1;s<o;s++)if(i[s].offset){p=
i[s].offset;break}if(!p){p=100;s=o}p=ta(p);for(p=(p-d)/(s-l+1);l<s;l++){d+=p;i[l].offset=d+"%"}}return i}),Wa=function(d,i,l,o){if(a.is(d,"string")||a.is(d,"object")){d=a.is(d,"string")?w.getElementById(d):d;if(d.tagName)return i==null?{container:d,width:d.style.pixelWidth||d.offsetWidth,height:d.style.pixelHeight||d.offsetHeight}:{container:d,width:i,height:l}}else return{container:1,x:d,y:i,width:l,height:o}},mb=function(d,i){var l=this;for(var o in i)if(i[D](o)&&!(o in d))switch(typeof i[o]){case "function":(function(s){d[o]=
d===l?s:function(){return s[y](l,arguments)}})(i[o]);break;case "object":d[o]=d[o]||{};mb.call(this,d[o],i[o]);break;default:d[o]=i[o];break}},Xa=function(d,i){d==i.top&&(i.top=d.prev);d==i.bottom&&(i.bottom=d.next);d.next&&(d.next.prev=d.prev);d.prev&&(d.prev.next=d.next)},xb=function(d,i){if(i.top!==d){Xa(d,i);d.next=null;d.prev=i.top;i.top.next=d;i.top=d}},yb=function(d,i){if(i.bottom!==d){Xa(d,i);d.next=i.bottom;d.prev=null;i.bottom.prev=d;i.bottom=d}},zb=function(d,i,l){Xa(d,l);i==l.top&&(l.top=
d);i.next&&(i.next.prev=d);d.next=i.next;d.prev=i;i.next=d},Ab=function(d,i,l){Xa(d,l);i==l.bottom&&(l.bottom=d);i.prev&&(i.prev.next=d);d.prev=i.prev;i.prev=d;d.next=i},Bb=function(d){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+d+"\u201d of removed object");}},Cb=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;a.pathToRelative=kb;if(a.svg){x.svgns="http://www.w3.org/2000/svg";x.xlink="http://www.w3.org/1999/xlink";Fa=function(d){return+d+(~~d===d)*0.5};var ra=function(d,
i){if(i)for(var l in i)i[D](l)&&d.setAttribute(l,X(i[l]));else{d=w.createElementNS(x.svgns,d);d.style.webkitTapHighlightColor="rgba(0,0,0,0)";return d}};a.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var hb=function(d,i){var l=ra("path");i.canvas&&i.canvas.appendChild(l);l=new Ba(l,i);l.type="path";Ta(l,{fill:"none",stroke:"#000",path:d});return l},$a=function(d,i,l){var o="linear",s=0.5,p=0.5,z=d.style;i=X(i).replace(Cb,function(N,T,ba){o="radial";
if(T&&ba){s=ta(T);p=ta(ba);N=(p>0.5)*2-1;W(s-0.5,2)+W(p-0.5,2)>0.25&&(p=J.sqrt(0.25-W(s-0.5,2))*N+0.5)&&p!=0.5&&(p=p.toFixed(5)-1.0E-5*N)}return""});i=i.split(/\s*\-\s*/);if(o=="linear"){var C=i.shift();C=-ta(C);if(isNaN(C))return null;C=[0,0,J.cos(C*J.PI/180),J.sin(C*J.PI/180)];var E=1/(U(J.abs(C[2]),J.abs(C[3]))||1);C[2]*=E;C[3]*=E;if(C[2]<0){C[0]=-C[2];C[2]=0}if(C[3]<0){C[1]=-C[3];C[3]=0}}i=wb(i);if(!i)return null;E=d.getAttribute("fill");(E=E.match(/^url\(#(.*)\)$/))&&l.defs.removeChild(w.getElementById(E[1]));
E=ra(o+"Gradient");E.id="r"+(a._id++).toString(36);ra(E,o=="radial"?{fx:s,fy:p}:{x1:C[0],y1:C[1],x2:C[2],y2:C[3]});l.defs.appendChild(E);l=0;for(C=i[M];l<C;l++){var F=ra("stop");ra(F,{offset:i[l].offset?i[l].offset:!l?"0%":"100%","stop-color":i[l].color||"#fff"});E.appendChild(F)}ra(d,{fill:"url(#"+E.id+")",opacity:1,"fill-opacity":1});z.fill="";z.opacity=1;return z.fillOpacity=1},nb=function(d){var i=d.getBBox();ra(d.pattern,{patternTransform:a.format("translate({0},{1})",i.x,i.y)})},Ta=function(d,
i){var l={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},o=d.node,s=d.attrs,p=d.rotate(),z=function(ha,ia){if(ia=l[O.call(ia)]){for(var fa=ha.attrs["stroke-width"]||"1",qa={round:fa,square:fa,butt:0}[ha.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,sa=[],Ca=ia[M];Ca--;)sa[Ca]=ia[Ca]*fa+(Ca%2?1:-1)*qa;ra(o,{"stroke-dasharray":sa[Q](",")})}};i[D]("rotation")&&(p=i.rotation);var C=X(p).split(m);
if(C.length-1){C[1]=+C[1];C[2]=+C[2]}else C=null;ta(p)&&d.rotate(0,true);for(var E in i)if(i[D](E))if(cb[D](E)){var F=i[E];s[E]=F;switch(E){case "blur":d.blur(F);break;case "rotation":d.rotate(F,true);break;case "href":case "title":case "target":var N=o.parentNode;if(O.call(N.tagName)!="a"){var T=ra("a");N.insertBefore(T,o);T.appendChild(o);N=T}E=="target"&&F=="blank"?N.setAttributeNS(d.paper.xlink,"show","new"):N.setAttributeNS(d.paper.xlink,E,F);break;case "cursor":o.style.cursor=F;break;case "clip-rect":N=
X(F).split(m);if(N[M]==4){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var ba=ra("clipPath");T=ra("rect");ba.id="r"+(a._id++).toString(36);ra(T,{x:N[0],y:N[1],width:N[2],height:N[3]});ba.appendChild(T);d.paper.defs.appendChild(ba);ra(o,{"clip-path":"url(#"+ba.id+")"});d.clip=T}if(!F){(F=w.getElementById(o.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&F.parentNode.removeChild(F);ra(o,{"clip-path":""});delete d.clip}break;case "path":if(d.type=="path")ra(o,{d:F?s.path=
Za(F):"M0,0"});break;case "width":o.setAttribute(E,F);if(s.fx){E="x";F=s.x}else break;case "x":if(s.fx)F=-s.x-(s.width||0);case "rx":if(E=="rx"&&d.type=="rect")break;case "cx":C&&(E=="x"||E=="cx")&&(C[1]+=F-s[E]);o.setAttribute(E,F);d.pattern&&nb(d);break;case "height":o.setAttribute(E,F);if(s.fy){E="y";F=s.y}else break;case "y":if(s.fy)F=-s.y-(s.height||0);case "ry":if(E=="ry"&&d.type=="rect")break;case "cy":C&&(E=="y"||E=="cy")&&(C[2]+=F-s[E]);o.setAttribute(E,F);d.pattern&&nb(d);break;case "r":d.type==
"rect"?ra(o,{rx:F,ry:F}):o.setAttribute(E,F);break;case "src":d.type=="image"&&o.setAttributeNS(d.paper.xlink,"href",F);break;case "stroke-width":o.style.strokeWidth=F;o.setAttribute(E,F);s["stroke-dasharray"]&&z(d,s["stroke-dasharray"]);break;case "stroke-dasharray":z(d,F);break;case "translation":F=X(F).split(m);F[0]=+F[0]||0;F[1]=+F[1]||0;if(C){C[1]+=F[0];C[2]+=F[1]}Qa.call(d,F[0],F[1]);break;case "scale":F=X(F).split(m);d.scale(+F[0]||1,+F[1]||+F[0]||1,isNaN(ta(F[2]))?null:+F[2],isNaN(ta(F[3]))?
null:+F[3]);break;case "fill":if(N=X(F).match(Ia)){ba=ra("pattern");var ma=ra("image");ba.id="r"+(a._id++).toString(36);ra(ba,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});ra(ma,{x:0,y:0});ma.setAttributeNS(d.paper.xlink,"href",N[1]);ba.appendChild(ma);F=w.createElement("img");F.style.cssText="position:absolute;left:-9999em;top-9999em";F.onload=function(){ra(ba,{width:this.offsetWidth,height:this.offsetHeight});ra(ma,{width:this.offsetWidth,height:this.offsetHeight});w.body.removeChild(this);
d.paper.safari()};w.body.appendChild(F);F.src=N[1];d.paper.defs.appendChild(ba);o.style.fill="url(#"+ba.id+")";ra(o,{fill:"url(#"+ba.id+")"});d.pattern=ba;d.pattern&&nb(d);break}N=a.getRGB(F);if(N.error){if(({circle:1,ellipse:1}[D](d.type)||X(F).charAt()!="r")&&$a(o,F,d.paper)){s.gradient=F;s.fill="none";break}}else{delete i.gradient;delete s.gradient;!a.is(s.opacity,"undefined")&&a.is(i.opacity,"undefined")&&ra(o,{opacity:s.opacity});!a.is(s["fill-opacity"],"undefined")&&a.is(i["fill-opacity"],"undefined")&&
ra(o,{"fill-opacity":s["fill-opacity"]})}N[D]("o")&&ra(o,{"fill-opacity":N.o>1?N.o/100:N.o});case "stroke":N=a.getRGB(F);o.setAttribute(E,N.hex);E=="stroke"&&N[D]("o")&&ra(o,{"stroke-opacity":N.o>1?N.o/100:N.o});break;case "gradient":(({circle:1,ellipse:1})[D](d.type)||X(F).charAt()!="r")&&$a(o,F,d.paper);break;case "opacity":case "fill-opacity":if(s.gradient){if(N=w.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,""))){N=N.getElementsByTagName("stop");N[N[M]-1].setAttribute("stop-opacity",
F)}break}default:E=="font-size"&&(F=Ra(F,10)+"px");N=E.replace(/(\-.)/g,function(ha){return bb.call(ha.substring(1))});o.style[N]=F;o.setAttribute(E,F);break}}Kb(d,i);if(C)d.rotate(C.join(ca));else ta(p)&&d.rotate(p,true)},Kb=function(d,i){if(!(d.type!="text"||!(i[D]("text")||i[D]("font")||i[D]("font-size")||i[D]("x")||i[D]("y")))){var l=d.attrs,o=d.node,s=o.firstChild?Ra(w.defaultView.getComputedStyle(o.firstChild,"").getPropertyValue("font-size"),10):10;if(i[D]("text")){for(l.text=i.text;o.firstChild;)o.removeChild(o.firstChild);
for(var p=X(i.text).split("\n"),z=0,C=p[M];z<C;z++)if(p[z]){var E=ra("tspan");z&&ra(E,{dy:s*1.2,x:l.x});E.appendChild(w.createTextNode(p[z]));o.appendChild(E)}}else{p=o.getElementsByTagName("tspan");z=0;for(C=p[M];z<C;z++)z&&ra(p[z],{dy:s*1.2,x:l.x})}ra(o,{y:l.y});s=d.getBBox();(s=l.y-(s.y+s.height/2))&&isFinite(s)&&ra(o,{y:l.y+s})}},Ba=function(d,i){this[0]=d;this.id=a._oid++;this.node=d;d.raphael=this;this.paper=i;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,
cy:0},sx:1,sy:1};!i.bottom&&(i.bottom=this);(this.prev=i.top)&&(i.top.next=this);i.top=this;this.next=null},za=Ba[I];Ba[I].rotate=function(d,i,l){if(this.removed)return this;if(d==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][Q](ca);return this._.rt.deg}var o=this.getBBox();d=X(d).split(m);if(d[M]-1){i=ta(d[1]);l=ta(d[2])}d=ta(d[0]);if(i!=null&&i!==false)this._.rt.deg=d;else this._.rt.deg+=d;l==null&&(i=null);this._.rt.cx=i;this._.rt.cy=l;i=i==null?o.x+o.width/2:i;l=l==null?
o.y+o.height/2:l;if(this._.rt.deg){this.transformations[0]=a.format("rotate({0} {1} {2})",this._.rt.deg,i,l);this.clip&&ra(this.clip,{transform:a.format("rotate({0} {1} {2})",-this._.rt.deg,i,l)})}else{this.transformations[0]="";this.clip&&ra(this.clip,{transform:""})}ra(this.node,{transform:this.transformations[Q](ca)});return this};Ba[I].hide=function(){!this.removed&&(this.node.style.display="none");return this};Ba[I].show=function(){!this.removed&&(this.node.style.display="");return this};Ba[I].remove=
function(){if(!this.removed){Xa(this,this.paper);this.node.parentNode.removeChild(this.node);for(var d in this)delete this[d];this.removed=true}};Ba[I].getBBox=function(){if(this.removed)return this;if(this.type=="path")return Na(this.attrs.path);if(this.node.style.display=="none"){this.show();var d=true}var i={};try{i=this.node.getBBox()}catch(l){}finally{i=i||{}}if(this.type=="text"){i={x:i.x,y:Infinity,width:0,height:0};for(var o=0,s=this.node.getNumberOfChars();o<s;o++){var p=this.node.getExtentOfChar(o);
p.y<i.y&&(i.y=p.y);p.y+p.height-i.y>i.height&&(i.height=p.y+p.height-i.y);p.x+p.width-i.x>i.width&&(i.width=p.x+p.width-i.x)}}d&&this.hide();return i};Ba[I].attr=function(d,i){if(this.removed)return this;if(d==null){var l={};for(var o in this.attrs)if(this.attrs[D](o))l[o]=this.attrs[o];this._.rt.deg&&(l.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(l.scale=this.scale());l.gradient&&l.fill=="none"&&(l.fill=l.gradient)&&delete l.gradient;return l}if(i==null&&a.is(d,"string")){if(d=="translation")return Qa.call(this);
if(d=="rotation")return this.rotate();if(d=="scale")return this.scale();if(d=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[d]}if(i==null&&a.is(d,ka)){o={};l=0;for(var s=d.length;l<s;l++)o[d[l]]=this.attr(d[l]);return o}if(i!=null){l={};l[d]=i}else if(d!=null&&a.is(d,"object"))l=d;for(s in this.paper.customAttributes)if(this.paper.customAttributes[D](s)&&l[D](s)&&a.is(this.paper.customAttributes[s],"function")){o=this.paper.customAttributes[s].apply(this,
[].concat(l[s]));this.attrs[s]=l[s];for(var p in o)if(o[D](p))l[p]=o[p]}Ta(this,l);return this};Ba[I].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var d=this.paper;d.top!=this&&xb(this,d);return this};Ba[I].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);yb(this,this.paper)}return this};Ba[I].insertAfter=function(d){if(this.removed)return this;
var i=d.node||d[d.length-1].node;i.nextSibling?i.parentNode.insertBefore(this.node,i.nextSibling):i.parentNode.appendChild(this.node);zb(this,d,this.paper);return this};Ba[I].insertBefore=function(d){if(this.removed)return this;var i=d.node||d[0].node;i.parentNode.insertBefore(this.node,i);Ab(this,d,this.paper);return this};Ba[I].blur=function(d){if(+d!==0){var i=ra("filter"),l=ra("feGaussianBlur");this.attrs.blur=d;i.id="r"+(a._id++).toString(36);ra(l,{stdDeviation:+d||1.5});i.appendChild(l);this.paper.defs.appendChild(i);
this._blur=i;ra(this.node,{filter:"url(#"+i.id+")"})}else{if(this._blur){this._blur.parentNode.removeChild(this._blur);delete this._blur;delete this.attrs.blur}this.node.removeAttribute("filter")}};var Db=function(d,i,l,o){var s=ra("circle");d.canvas&&d.canvas.appendChild(s);d=new Ba(s,d);d.attrs={cx:i,cy:l,r:o,fill:"none",stroke:"#000"};d.type="circle";ra(s,d.attrs);return d},Eb=function(d,i,l,o,s,p){var z=ra("rect");d.canvas&&d.canvas.appendChild(z);d=new Ba(z,d);d.attrs={x:i,y:l,width:o,height:s,
r:p||0,rx:p||0,ry:p||0,fill:"none",stroke:"#000"};d.type="rect";ra(z,d.attrs);return d},ab=function(d,i,l,o,s){var p=ra("ellipse");d.canvas&&d.canvas.appendChild(p);d=new Ba(p,d);d.attrs={cx:i,cy:l,rx:o,ry:s,fill:"none",stroke:"#000"};d.type="ellipse";ra(p,d.attrs);return d},ob=function(d,i,l,o,s,p){var z=ra("image");ra(z,{x:l,y:o,width:s,height:p,preserveAspectRatio:"none"});z.setAttributeNS(d.xlink,"href",i);d.canvas&&d.canvas.appendChild(z);d=new Ba(z,d);d.attrs={x:l,y:o,width:s,height:p,src:i};
d.type="image";return d},Fb=function(d,i,l,o){var s=ra("text");ra(s,{x:i,y:l,"text-anchor":"middle"});d.canvas&&d.canvas.appendChild(s);d=new Ba(s,d);d.attrs={x:i,y:l,"text-anchor":"middle",text:o,font:cb.font,stroke:"none",fill:"#000"};d.type="text";Ta(d,d.attrs);return d},pb=function(d,i){this.width=d||this.width;this.height=i||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},g=function(){var d=Wa[y](0,arguments),i=d&&d.container,
l=d.x,o=d.y,s=d.width;d=d.height;if(!i)throw Error("SVG container not found.");var p=ra("svg");l=l||0;o=o||0;s=s||512;d=d||342;ra(p,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:s,height:d});if(i==1){p.style.cssText="position:absolute;left:"+l+"px;top:"+o+"px";w.body.appendChild(p)}else i.firstChild?i.insertBefore(p,i.firstChild):i.appendChild(p);i=new t;i.width=s;i.height=d;i.canvas=p;mb.call(i,i,a.fn);i.clear();return i};x.clear=function(){for(var d=this.canvas;d.firstChild;)d.removeChild(d.firstChild);
this.bottom=this.top=null;(this.desc=ra("desc")).appendChild(w.createTextNode("Created with Rapha\u00ebl"));d.appendChild(this.desc);d.appendChild(this.defs=ra("defs"))};x.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var d in this)this[d]=Bb(d)}}if(a.vml){var j={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},q=/([clmz]),?([^clmz]*)/gi,v=/ progid:\S+Blur\([^\)]+\)/g,A=/-?[^,\s-]+/g,H=1E3+ca+1E3,L={path:1,rect:1},P=function(d){var i=/[ahqstv]/ig,l=
Za;X(d).match(i)&&(l=fb);i=/[clmz]/g;if(l==Za&&!X(d).match(i))return d=X(d).replace(q,function(E,F,N){var T=[],ba=O.call(F)=="m",ma=j[F];N.replace(A,function(ha){if(ba&&T[M]==2){ma+=T+j[F=="m"?"l":"L"];T=[]}T[va](Fa(ha*10))});return ma+T});i=l(d);var o;d=[];for(var s=0,p=i[M];s<p;s++){l=i[s];o=O.call(i[s][0]);o=="z"&&(o="x");for(var z=1,C=l[M];z<C;z++)o+=Fa(l[z]*10)+(z!=C-1?",":"");d[va](o)}return d[Q](ca)};a.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};hb=function(d,i){var l=da("group");l.style.cssText="position:absolute;left:0;top:0;width:"+i.width+"px;height:"+i.height+"px";l.coordsize=i.coordsize;l.coordorigin=i.coordorigin;var o=da("shape"),s=o.style;s.width=i.width+"px";s.height=i.height+"px";o.coordsize=H;o.coordorigin=i.coordorigin;l.appendChild(o);o=new Ba(o,l,i);s={fill:"none",stroke:"#000"};d&&(s.path=d);o.type="path";o.path=[];o.Path="";Ta(o,s);i.canvas.appendChild(l);return o};Ta=function(d,i){d.attrs=d.attrs||{};var l=
d.node,o=d.attrs,s=l.style,p;p=(i.x!=o.x||i.y!=o.y||i.width!=o.width||i.height!=o.height||i.r!=o.r)&&d.type=="rect";for(var z in i)if(i[D](z))o[z]=i[z];if(p){o.path=S(o.x,o.y,o.width,o.height,o.r);d.X=o.x;d.Y=o.y;d.W=o.width;d.H=o.height}i.href&&(l.href=i.href);i.title&&(l.title=i.title);i.target&&(l.target=i.target);i.cursor&&(s.cursor=i.cursor);"blur"in i&&d.blur(i.blur);if(i.path&&d.type=="path"||p)l.path=P(o.path);i.rotation!=null&&d.rotate(i.rotation,true);if(i.translation){p=X(i.translation).split(m);
Qa.call(d,p[0],p[1]);if(d._.rt.cx!=null){d._.rt.cx+=+p[0];d._.rt.cy+=+p[1];d.setBox(d.attrs,p[0],p[1])}}if(i.scale){p=X(i.scale).split(m);d.scale(+p[0]||1,+p[1]||+p[0]||1,+p[2]||null,+p[3]||null)}if("clip-rect"in i){p=X(i["clip-rect"]).split(m);if(p[M]==4){p[2]=+p[2]+ +p[0];p[3]=+p[3]+ +p[1];z=l.clipRect||w.createElement("div");var C=z.style,E=l.parentNode;C.clip=a.format("rect({1}px {2}px {3}px {0}px)",p);if(!l.clipRect){C.position="absolute";C.top=0;C.left=0;C.width=d.paper.width+"px";C.height=
d.paper.height+"px";E.parentNode.insertBefore(z,E);z.appendChild(E);l.clipRect=z}}if(!i["clip-rect"])l.clipRect&&(l.clipRect.style.clip="")}if(d.type=="image"&&i.src)l.src=i.src;if(d.type=="image"&&i.opacity){l.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+i.opacity*100+")";s.filter=(l.filterMatrix||"")+(l.filterOpacity||"")}i.font&&(s.font=i.font);i["font-family"]&&(s.fontFamily='"'+i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');i["font-size"]&&(s.fontSize=i["font-size"]);
i["font-weight"]&&(s.fontWeight=i["font-weight"]);i["font-style"]&&(s.fontStyle=i["font-style"]);if(i.opacity!=null||i["stroke-width"]!=null||i.fill!=null||i.stroke!=null||i["stroke-width"]!=null||i["stroke-opacity"]!=null||i["fill-opacity"]!=null||i["stroke-dasharray"]!=null||i["stroke-miterlimit"]!=null||i["stroke-linejoin"]!=null||i["stroke-linecap"]!=null){l=d.shape||l;p=l.getElementsByTagName("fill")&&l.getElementsByTagName("fill")[0];z=false;!p&&(z=p=da("fill"));if("fill-opacity"in i||"opacity"in
i){s=((+o["fill-opacity"]+1||2)-1)*((+o.opacity+1||2)-1)*((+a.getRGB(i.fill).o+1||2)-1);s=aa(U(s,0),1);p.opacity=s}i.fill&&(p.on=true);if(p.on==null||i.fill=="none")p.on=false;if(p.on&&i.fill)if(s=i.fill.match(Ia)){p.src=s[1];p.type="tile"}else{p.color=a.getRGB(i.fill).hex;p.src="";p.type="solid";if(a.getRGB(i.fill).error&&(d.type in{circle:1,ellipse:1}||X(i.fill).charAt()!="r")&&$a(d,i.fill)){o.fill="none";o.gradient=i.fill}}z&&l.appendChild(p);p=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0];
z=false;!p&&(z=p=da("stroke"));if(i.stroke&&i.stroke!="none"||i["stroke-width"]||i["stroke-opacity"]!=null||i["stroke-dasharray"]||i["stroke-miterlimit"]||i["stroke-linejoin"]||i["stroke-linecap"])p.on=true;(i.stroke=="none"||p.on==null||i.stroke==0||i["stroke-width"]==0)&&(p.on=false);s=a.getRGB(i.stroke);p.on&&i.stroke&&(p.color=s.hex);s=((+o["stroke-opacity"]+1||2)-1)*((+o.opacity+1||2)-1)*((+s.o+1||2)-1);C=(ta(i["stroke-width"])||1)*0.75;s=aa(U(s,0),1);i["stroke-width"]==null&&(C=o["stroke-width"]);
i["stroke-width"]&&(p.weight=C);C&&C<1&&(s*=C)&&(p.weight=1);p.opacity=s;i["stroke-linejoin"]&&(p.joinstyle=i["stroke-linejoin"]||"miter");p.miterlimit=i["stroke-miterlimit"]||8;i["stroke-linecap"]&&(p.endcap=i["stroke-linecap"]=="butt"?"flat":i["stroke-linecap"]=="square"?"square":"round");if(i["stroke-dasharray"]){s={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};p.dashstyle=
s[D](i["stroke-dasharray"])?s[i["stroke-dasharray"]]:""}z&&l.appendChild(p)}if(d.type=="text"){s=d.paper.span.style;o.font&&(s.font=o.font);o["font-family"]&&(s.fontFamily=o["font-family"]);o["font-size"]&&(s.fontSize=o["font-size"]);o["font-weight"]&&(s.fontWeight=o["font-weight"]);o["font-style"]&&(s.fontStyle=o["font-style"]);d.node.string&&(d.paper.span.innerHTML=X(d.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));d.W=o.w=d.paper.span.offsetWidth;d.H=o.h=d.paper.span.offsetHeight;
d.X=o.x;d.Y=o.y+Fa(d.H/2);switch(o["text-anchor"]){case "start":d.node.style["v-text-align"]="left";d.bbx=Fa(d.W/2);break;case "end":d.node.style["v-text-align"]="right";d.bbx=-Fa(d.W/2);break;default:d.node.style["v-text-align"]="center";break}}};$a=function(d,i){d.attrs=d.attrs||{};var l,o="linear",s=".5 .5";d.attrs.gradient=i;i=X(i).replace(Cb,function(N,T,ba){o="radial";if(T&&ba){T=ta(T);ba=ta(ba);W(T-0.5,2)+W(ba-0.5,2)>0.25&&(ba=J.sqrt(0.25-W(T-0.5,2))*((ba>0.5)*2-1)+0.5);s=T+ca+ba}return""});
i=i.split(/\s*\-\s*/);if(o=="linear"){var p=i.shift();p=-ta(p);if(isNaN(p))return null}var z=wb(i);if(!z)return null;d=d.shape||d.node;l=d.getElementsByTagName("fill")[0]||da("fill");!l.parentNode&&d.appendChild(l);if(z[M]){l.on=true;l.method="none";l.color=z[0].color;l.color2=z[z[M]-1].color;for(var C=[],E=0,F=z[M];E<F;E++)z[E].offset&&C[va](z[E].offset+ca+z[E].color);l.colors&&(l.colors.value=C[M]?C[Q]():"0% "+l.color);if(o=="radial"){l.type="gradientradial";l.focus="100%";l.focussize=s;l.focusposition=
s}else{l.type="gradient";l.angle=(270-p)%360}}return 1};Ba=function(d,i,l){this[0]=d;this.id=a._oid++;this.node=d;d.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=i;this.paper=l;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!l.bottom&&(l.bottom=this);(this.prev=l.top)&&(l.top.next=this);l.top=this;this.next=null};za=Ba[I];za.rotate=function(d,i,l){if(this.removed)return this;if(d==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][Q](ca);return this._.rt.deg}d=X(d).split(m);if(d[M]-
1){i=ta(d[1]);l=ta(d[2])}d=ta(d[0]);if(i!=null)this._.rt.deg=d;else this._.rt.deg+=d;l==null&&(i=null);this._.rt.cx=i;this._.rt.cy=l;this.setBox(this.attrs,i,l);this.Group.style.rotation=this._.rt.deg;return this};za.setBox=function(d,i,l){if(this.removed)return this;var o=this.Group.style,s=this.shape&&this.shape.style||this.node.style;d=d||{};for(var p in d)if(d[D](p))this.attrs[p]=d[p];i=i||this._.rt.cx;l=l||this._.rt.cy;var z=this.attrs,C;switch(this.type){case "circle":d=z.cx-z.r;p=z.cy-z.r;
C=z=z.r*2;break;case "ellipse":d=z.cx-z.rx;p=z.cy-z.ry;C=z.rx*2;z=z.ry*2;break;case "image":d=+z.x;p=+z.y;C=z.width||0;z=z.height||0;break;case "text":this.textpath.v=["m",Fa(z.x),", ",Fa(z.y-2),"l",Fa(z.x)+1,", ",Fa(z.y-2)][Q]("");d=z.x-Fa(this.W/2);p=z.y-this.H/2;C=this.W;z=this.H;break;case "rect":case "path":if(this.attrs.path){z=Na(this.attrs.path);d=z.x;p=z.y;C=z.width;z=z.height}else{p=d=0;C=this.paper.width;z=this.paper.height}break;default:p=d=0;C=this.paper.width;z=this.paper.height;break}i=
i==null?d+C/2:i;l=l==null?p+z/2:l;i=i-this.paper.width/2;l=l-this.paper.height/2;var E;o.left!=(E=i+"px")&&(o.left=E);o.top!=(E=l+"px")&&(o.top=E);this.X=L[D](this.type)?-i:d;this.Y=L[D](this.type)?-l:p;this.W=C;this.H=z;if(L[D](this.type)){s.left!=(E=-i*10+"px")&&(s.left=E);s.top!=(E=-l*10+"px")&&(s.top=E)}else if(this.type=="text"){s.left!=(E=-i+"px")&&(s.left=E);s.top!=(E=-l+"px")&&(s.top=E)}else{o.width!=(E=this.paper.width+"px")&&(o.width=E);o.height!=(E=this.paper.height+"px")&&(o.height=E);
s.left!=(E=d-i+"px")&&(s.left=E);s.top!=(E=p-l+"px")&&(s.top=E);s.width!=(E=C+"px")&&(s.width=E);s.height!=(E=z+"px")&&(s.height=E)}};za.hide=function(){!this.removed&&(this.Group.style.display="none");return this};za.show=function(){!this.removed&&(this.Group.style.display="block");return this};za.getBBox=function(){if(this.removed)return this;if(L[D](this.type))return Na(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};za.remove=function(){if(!this.removed){Xa(this,
this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var d in this)delete this[d];this.removed=true}};za.attr=function(d,i){if(this.removed)return this;if(d==null){var l={};for(var o in this.attrs)if(this.attrs[D](o))l[o]=this.attrs[o];this._.rt.deg&&(l.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(l.scale=this.scale());l.gradient&&l.fill=="none"&&(l.fill=l.gradient)&&delete l.gradient;
return l}if(i==null&&a.is(d,"string")){if(d=="translation")return Qa.call(this);if(d=="rotation")return this.rotate();if(d=="scale")return this.scale();if(d=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[d]}if(this.attrs&&i==null&&a.is(d,ka)){var s={};o=0;for(l=d[M];o<l;o++)s[d[o]]=this.attr(d[o]);return s}if(i!=null){l={};l[d]=i}i==null&&a.is(d,"object")&&(l=d);if(l){for(s in this.paper.customAttributes)if(this.paper.customAttributes[D](s)&&l[D](s)&&
a.is(this.paper.customAttributes[s],"function")){o=this.paper.customAttributes[s].apply(this,[].concat(l[s]));this.attrs[s]=l[s];for(var p in o)if(o[D](p))l[p]=o[p]}if(l.text&&this.type=="text")this.node.string=l.text;Ta(this,l);if(l.gradient&&({circle:1,ellipse:1}[D](this.type)||X(l.gradient).charAt()!="r"))$a(this,l.gradient);(!L[D](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};za.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=
this&&xb(this,this.paper);return this};za.toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);yb(this,this.paper)}return this};za.insertAfter=function(d){if(this.removed)return this;if(d.constructor==Ga)d=d[d.length];d.Group.nextSibling?d.Group.parentNode.insertBefore(this.Group,d.Group.nextSibling):d.Group.parentNode.appendChild(this.Group);zb(this,d,this.paper);return this};
za.insertBefore=function(d){if(this.removed)return this;if(d.constructor==Ga)d=d[0];d.Group.parentNode.insertBefore(this.Group,d.Group);Ab(this,d,this.paper);return this};za.blur=function(d){var i=this.node.runtimeStyle,l=i.filter;l=l.replace(v,"");if(+d!==0){this.attrs.blur=d;i.filter=l+ca+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+d||1.5)+")";i.margin=a.format("-{0}px 0 0 -{0}px",Fa(+d||1.5))}else{i.filter=l;i.margin=0;delete this.attrs.blur}};Db=function(d,i,l,o){var s=da("group"),
p=da("oval");s.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";s.coordsize=H;s.coordorigin=d.coordorigin;s.appendChild(p);p=new Ba(p,s,d);p.type="circle";Ta(p,{stroke:"#000",fill:"none"});p.attrs.cx=i;p.attrs.cy=l;p.attrs.r=o;p.setBox({x:i-o,y:l-o,width:o*2,height:o*2});d.canvas.appendChild(s);return p};var S=function(d,i,l,o,s){return s?a.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",
d+s,i,l-s*2,s,-s,o-s*2,s*2-l,s*2-o):a.format("M{0},{1}l{2},0,0,{3},{4},0z",d,i,l,o,-l)};Eb=function(d,i,l,o,s,p){var z=S(i,l,o,s,p);d=d.path(z);var C=d.attrs;d.X=C.x=i;d.Y=C.y=l;d.W=C.width=o;d.H=C.height=s;C.r=p;C.path=z;d.type="rect";return d};ab=function(d,i,l,o,s){var p=da("group"),z=da("oval");p.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";p.coordsize=H;p.coordorigin=d.coordorigin;p.appendChild(z);z=new Ba(z,p,d);z.type="ellipse";Ta(z,{stroke:"#000"});
z.attrs.cx=i;z.attrs.cy=l;z.attrs.rx=o;z.attrs.ry=s;z.setBox({x:i-o,y:l-s,width:o*2,height:s*2});d.canvas.appendChild(p);return z};ob=function(d,i,l,o,s,p){var z=da("group"),C=da("image");z.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";z.coordsize=H;z.coordorigin=d.coordorigin;C.src=i;z.appendChild(C);C=new Ba(C,z,d);C.type="image";C.attrs.src=i;C.attrs.x=l;C.attrs.y=o;C.attrs.w=s;C.attrs.h=p;C.setBox({x:l,y:o,width:s,height:p});d.canvas.appendChild(z);return C};
Fb=function(d,i,l,o){var s=da("group"),p=da("shape"),z=p.style,C=da("path"),E=da("textpath");s.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";s.coordsize=H;s.coordorigin=d.coordorigin;C.v=a.format("m{0},{1}l{2},{1}",Fa(i*10),Fa(l*10),Fa(i*10)+1);C.textpathok=true;z.width=d.width;z.height=d.height;E.string=X(o);E.on=true;p.appendChild(E);p.appendChild(C);s.appendChild(p);z=new Ba(E,s,d);z.shape=p;z.textpath=C;z.type="text";z.attrs.text=o;z.attrs.x=i;z.attrs.y=
l;z.attrs.w=1;z.attrs.h=1;Ta(z,{font:cb.font,stroke:"none",fill:"#000"});z.setBox();d.canvas.appendChild(s);return z};pb=function(d,i){var l=this.canvas.style;d==+d&&(d+="px");i==+i&&(i+="px");l.width=d;l.height=i;l.clip="rect(0 "+d+" "+i+" 0)";return this};var da;w.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!w.namespaces.rvml&&w.namespaces.add("rvml","urn:schemas-microsoft-com:vml");da=function(d){return w.createElement("<rvml:"+d+' class="rvml">')}}catch(ja){da=function(d){return w.createElement("<"+
d+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}g=function(){var d=Wa[y](0,arguments),i=d.container,l=d.height,o=d.width,s=d.x;d=d.y;if(!i)throw Error("VML container not found.");var p=new t,z=p.canvas=w.createElement("div"),C=z.style;s=s||0;d=d||0;o=o||512;l=l||342;o==+o&&(o+="px");l==+l&&(l+="px");p.width=1E3;p.height=1E3;p.coordsize=1E4+ca+1E4;p.coordorigin="0 0";p.span=w.createElement("span");p.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
z.appendChild(p.span);C.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,l);if(i==1){w.body.appendChild(z);C.left=s+"px";C.top=d+"px";C.position="absolute"}else i.firstChild?i.insertBefore(z,i.firstChild):i.appendChild(z);mb.call(p,p,a.fn);return p};x.clear=function(){this.canvas.innerHTML="";this.span=w.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
this.canvas.appendChild(this.span);this.bottom=this.top=null};x.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var d in this)this[d]=Bb(d);return true}}Pa=navigator.userAgent.match(/Version\/(.*?)\s/);x.safari=navigator.vendor=="Apple Computer, Inc."&&(Pa&&Pa[1]<4||navigator.platform.slice(0,2)=="iP")?function(){var d=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});u.setTimeout(function(){d.remove()})}:function(){};var ua=function(){this.returnValue=false},
ya=function(){return this.originalEvent.preventDefault()},Ka=function(){this.cancelBubble=true},pa=function(){return this.originalEvent.stopPropagation()},Ha=function(){if(w.addEventListener)return function(d,i,l,o){var s=k&&oa[i]?oa[i]:i,p=function(z){if(k&&oa[D](i))for(var C=0,E=z.targetTouches&&z.targetTouches.length;C<E;C++)if(z.targetTouches[C].target==d){E=z;z=z.targetTouches[C];z.originalEvent=E;z.preventDefault=ya;z.stopPropagation=pa;break}return l.call(o,z)};d.addEventListener(s,p,false);
return function(){d.removeEventListener(s,p,false);return true}};else if(w.attachEvent)return function(d,i,l,o){var s=function(p){p=p||u.event;p.preventDefault=p.preventDefault||ua;p.stopPropagation=p.stopPropagation||Ka;return l.call(o,p)};d.attachEvent("on"+i,s);return function(){d.detachEvent("on"+i,s);return true}}}(),Da=[],B=function(d){for(var i=d.clientX,l=d.clientY,o=w.documentElement.scrollTop||w.body.scrollTop,s=w.documentElement.scrollLeft||w.body.scrollLeft,p,z=Da.length;z--;){p=Da[z];
if(k)for(var C=d.touches.length,E;C--;){E=d.touches[C];if(E.identifier==p.el._drag.id){i=E.clientX;l=E.clientY;(d.originalEvent?d.originalEvent:d).preventDefault();break}}else d.preventDefault();i+=s;l+=o;p.move&&p.move.call(p.el,i-p.el._drag.x,l-p.el._drag.y,i,l)}},K=function(){a.unmousemove(B).unmouseup(K);for(var d=Da.length,i;d--;){i=Da[d];i.el._drag={};i.end&&i.end.call(i.el)}Da=[]};for(Pa=na[M];Pa--;)(function(d){a[d]=Ba[I][d]=function(i){if(a.is(i,"function")){this.events=this.events||[];this.events.push({name:d,
f:i,unbind:Ha(this.shape||this.node||w,d,i,this)})}return this};a["un"+d]=Ba[I]["un"+d]=function(i){for(var l=this.events,o=l[M];o--;)if(l[o].name==d&&l[o].f==i){l[o].unbind();l.splice(o,1);!l.length&&delete this.events;return this}return this}})(na[Pa]);za.hover=function(d,i){return this.mouseover(d).mouseout(i)};za.unhover=function(d,i){return this.unmouseover(d).unmouseout(i)};za.drag=function(d,i,l){this._drag={};this.mousedown(function(o){(o.originalEvent||o).preventDefault();var s=w.documentElement.scrollTop||
w.body.scrollTop,p=w.documentElement.scrollLeft||w.body.scrollLeft;this._drag.x=o.clientX+p;this._drag.y=o.clientY+s;this._drag.id=o.identifier;i&&i.call(this,o.clientX+p,o.clientY+s);!Da.length&&a.mousemove(B).mouseup(K);Da.push({el:this,move:d,end:l})});return this};za.undrag=function(d,i,l){for(i=Da.length;i--;){Da[i].el==this&&Da[i].move==d&&Da[i].end==l&&Da.splice(i,1);!Da.length&&a.unmousemove(B).unmouseup(K)}};x.circle=function(d,i,l){return Db(this,d||0,i||0,l||0)};x.rect=function(d,i,l,o,
s){return Eb(this,d||0,i||0,l||0,o||0,s||0)};x.ellipse=function(d,i,l,o){return ab(this,d||0,i||0,l||0,o||0)};x.path=function(d){d&&!a.is(d,"string")&&!a.is(d[0],ka)&&(d+="");return hb(a.format[y](a,arguments),this)};x.image=function(d,i,l,o,s){return ob(this,d||"about:blank",i||0,l||0,o||0,s||0)};x.text=function(d,i,l){return Fb(this,d||0,i||0,X(l))};x.set=function(d){arguments[M]>1&&(d=Array[I].splice.call(arguments,0,arguments[M]));return new Ga(d)};x.setSize=pb;x.top=x.bottom=null;x.raphael=a;
za.resetScale=function(){if(this.removed)return this;this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};za.scale=function(d,i,l,o){if(this.removed)return this;if(d==null&&i==null)return{x:this._.sx,y:this._.sy,toString:f};i=i||d;!+i&&(i=d);var s,p,z=this.attrs;if(d!=0){var C=this.getBBox(),E=C.x+C.width/2,F=C.y+C.height/2;s=d/this._.sx;p=i/this._.sy;l=+l||l==0?l:E;o=+o||o==0?o:F;C=~~(d/J.abs(d));var N=~~(i/J.abs(i)),T=this.node.style,ba=l+(E-l)*s;F=o+(F-o)*p;switch(this.type){case "rect":case "image":var ma=
z.width*C*s,ha=z.height*N*p;this.attr({height:ha,r:z.r*aa(C*s,N*p),width:ma,x:ba-ma/2,y:F-ha/2});break;case "circle":case "ellipse":this.attr({rx:z.rx*C*s,ry:z.ry*N*p,r:z.r*aa(C*s,N*p),cx:ba,cy:F});break;case "text":this.attr({x:ba,y:F});break;case "path":E=kb(z.path);for(var ia=true,fa=0,qa=E[M];fa<qa;fa++){var sa=E[fa],Ca=bb.call(sa[0]);if(!(Ca=="M"&&ia)){ia=false;if(Ca=="A"){sa[E[fa][M]-2]*=s;sa[E[fa][M]-1]*=p;sa[1]*=C*s;sa[2]*=N*p;sa[5]=+!(C+N?!+sa[5]:+sa[5])}else if(Ca=="H"){Ca=1;for(var Va=
sa[M];Ca<Va;Ca++)sa[Ca]*=s}else if(Ca=="V"){Ca=1;for(Va=sa[M];Ca<Va;Ca++)sa[Ca]*=p}else{Ca=1;for(Va=sa[M];Ca<Va;Ca++)sa[Ca]*=Ca%2?s:p}}}p=Na(E);s=ba-p.x-p.width/2;p=F-p.y-p.height/2;E[0][1]+=s;E[0][2]+=p;this.attr({path:E});break}if(this.type in{text:1,image:1}&&(C!=1||N!=1))if(this.transformations){this.transformations[2]="scale(".concat(C,",",N,")");this.node.setAttribute("transform",this.transformations[Q](ca));s=C==-1?-z.x-(ma||0):z.x;p=N==-1?-z.y-(ha||0):z.y;this.attr({x:s,y:p});z.fx=C-1;z.fy=
N-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+".Matrix(M11=".concat(C,", M12=0, M21=0, M22=",N,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");T.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[Q](ca));z.fx=0;z.fy=0}else{this.node.filterMatrix="";T.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}z.scale=[d,i,
l,o][Q](ca);this._.sx=d;this._.sy=i}return this};za.clone=function(){if(this.removed)return null;var d=this.attr();delete d.scale;delete d.translation;return this.paper[this.type]().attr(d)};var V={},R=function(d,i,l,o,s,p,z,C,E){var F=0,N=[d,i,l,o,s,p,z,C].join(),T=V[N],ba,ma;!T&&(V[N]=T={data:[]});T.timer&&clearTimeout(T.timer);T.timer=setTimeout(function(){delete V[N]},2E3);for(var ha=0;ha<101;ha++){if(T.data[E]>ha)ma=T.data[ha*100];else{ma=a.findDotsAtSegment(d,i,l,o,s,p,z,C,ha/100);T.data[ha]=
ma}ha&&(F+=W(W(ba.x-ma.x,2)+W(ba.y-ma.y,2),0.5));if(E!=null&&F>=E)return ma;ba=ma}if(E==null)return F};na=function(d,i){return function(l,o,s){l=fb(l);for(var p,z,C,E,F="",N={},T=0,ba=0,ma=l.length;ba<ma;ba++){C=l[ba];if(C[0]=="M"){p=+C[1];z=+C[2]}else{E=R(p,z,C[1],C[2],C[3],C[4],C[5],C[6]);if(T+E>o){if(i&&!N.start){p=R(p,z,C[1],C[2],C[3],C[4],C[5],C[6],o-T);F+=["C",p.start.x,p.start.y,p.m.x,p.m.y,p.x,p.y];if(s)return F;N.start=F;F=["M",p.x,p.y+"C",p.n.x,p.n.y,p.end.x,p.end.y,C[5],C[6]][Q]();T+=E;
p=+C[5];z=+C[6];continue}if(!d&&!i){p=R(p,z,C[1],C[2],C[3],C[4],C[5],C[6],o-T);return{x:p.x,y:p.y,alpha:p.alpha}}}T+=E;p=+C[5];z=+C[6]}F+=C}N.end=F;p=d?T:i?N:a.findDotsAtSegment(p,z,C[1],C[2],C[3],C[4],C[5],C[6],1);p.alpha&&(p={x:p.x,y:p.y,alpha:p.alpha});return p}};var Y=na(1),Z=na(),ga=na(0,1);za.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return Y(this.attrs.path)}};za.getPointAtLength=function(d){if(this.type=="path"){if(this.node.getPointAtLength)return this.node.getPointAtLength(d);
return Z(this.attrs.path,d)}};za.getSubpath=function(d,i){if(this.type=="path"){if(J.abs(this.getTotalLength()-i)<"1e-6")return ga(this.attrs.path,d).end;var l=ga(this.attrs.path,i,1);return d?ga(l,d).end:l}};a.easing_formulas={linear:function(d){return d},"<":function(d){return W(d,3)},">":function(d){return W(d-1,3)+1},"<>":function(d){d*=2;if(d<1)return W(d,3)/2;d-=2;return(W(d,3)+2)/2},backIn:function(d){return d*d*(2.70158*d-1.70158)},backOut:function(d){d-=1;return d*d*(2.70158*d+1.70158)+1},
elastic:function(d){if(d==0||d==1)return d;return W(2,-10*d)*J.sin((d-0.075)*2*J.PI/0.3)+1},bounce:function(d){if(d<1/2.75)d=7.5625*d*d;else if(d<2/2.75){d-=1.5/2.75;d=7.5625*d*d+0.75}else if(d<2.5/2.75){d-=2.25/2.75;d=7.5625*d*d+0.9375}else{d-=2.625/2.75;d=7.5625*d*d+0.984375}return d}};var la=[],xa=function(){for(var d=+new Date,i=0;i<la[M];i++){var l=la[i];if(!(l.stop||l.el.removed)){var o=d-l.start,s=l.ms,p=l.easing,z=l.from,C=l.diff,E=l.to,F=l.t,N=l.el;l={};var T;if(o<s){o=p(o/s);for(var ba in z)if(z[D](ba)){switch(ib[ba]){case "along":T=
o*s*C[ba];E.back&&(T=E.len-T);p=Z(E[ba],T);N.translate(C.sx-C.x||0,C.sy-C.y||0);C.x=p.x;C.y=p.y;N.translate(p.x-C.sx,p.y-C.sy);E.rot&&N.rotate(C.r+p.alpha,p.x,p.y);break;case ea:T=+z[ba]+o*s*C[ba];break;case "colour":T="rgb("+[Oa(Fa(z[ba].r+o*s*C[ba].r)),Oa(Fa(z[ba].g+o*s*C[ba].g)),Oa(Fa(z[ba].b+o*s*C[ba].b))][Q](",")+")";break;case "path":T=[];p=0;for(var ma=z[ba][M];p<ma;p++){T[p]=[z[ba][p][0]];for(var ha=1,ia=z[ba][p][M];ha<ia;ha++)T[p][ha]=+z[ba][p][ha]+o*s*C[ba][p][ha];T[p]=T[p][Q](ca)}T=T[Q](ca);
break;case "csv":switch(ba){case "translation":T=o*s*C[ba][0]-F.x;p=o*s*C[ba][1]-F.y;F.x+=T;F.y+=p;T=T+ca+p;break;case "rotation":T=+z[ba][0]+o*s*C[ba][0];z[ba][1]&&(T+=","+z[ba][1]+","+z[ba][2]);break;case "scale":T=[+z[ba][0]+o*s*C[ba][0],+z[ba][1]+o*s*C[ba][1],2 in E[ba]?E[ba][2]:"",3 in E[ba]?E[ba][3]:""][Q](ca);break;case "clip-rect":T=[];for(p=4;p--;)T[p]=+z[ba][p]+o*s*C[ba][p];break}break;default:ma=[].concat(z[ba]);T=[];for(p=N.paper.customAttributes[ba].length;p--;)T[p]=+ma[p]+o*s*C[ba][p];
break}l[ba]=T}N.attr(l);N._run&&N._run.call(N)}else{if(E.along){p=Z(E.along,E.len*!E.back);N.translate(C.sx-(C.x||0)+p.x-C.sx,C.sy-(C.y||0)+p.y-C.sy);E.rot&&N.rotate(C.r+p.alpha,p.x,p.y)}(F.x||F.y)&&N.translate(-F.x,-F.y);E.scale&&(E.scale+="");N.attr(E);la.splice(i--,1)}}}a.svg&&N&&N.paper&&N.paper.safari();la[M]&&setTimeout(xa)},Sa=function(d,i,l,o,s){var p=l-o;i.timeouts.push(setTimeout(function(){a.is(s,"function")&&s.call(i);i.animate(d,p,d.easing)},o))},Oa=function(d){return U(aa(d,255),0)},
Qa=function(d,i){if(d==null)return{x:this._.tx,y:this._.ty,toString:f};this._.tx+=+d;this._.ty+=+i;switch(this.type){case "circle":case "ellipse":this.attr({cx:+d+this.attrs.cx,cy:+i+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+d+this.attrs.x,y:+i+this.attrs.y});break;case "path":var l=kb(this.attrs.path);l[0][1]+=+d;l[0][2]+=+i;this.attr({path:l});break}return this};za.animateWith=function(d,i,l,o,s){for(var p=0,z=la.length;p<z;p++)if(la[p].el.id==d.id)i.start=la[p].start;
return this.animate(i,l,o,s)};za.animateAlong=e();za.animateAlongBack=e(1);za.onAnimation=function(d){this._run=d||0;return this};za.animate=function(d,i,l,o){var s=this;s.timeouts=s.timeouts||[];if(a.is(l,"function")||!l)o=l||null;if(s.removed){o&&o.call(s);return s}var p={},z={},C=false,E={};for(var F in d)if(d[D](F))if(ib[D](F)||s.paper.customAttributes[D](F)){C=true;p[F]=s.attr(F);p[F]==null&&(p[F]=cb[F]);z[F]=d[F];switch(ib[F]){case "along":var N=Y(d[F]),T=Z(d[F],N*!!d.back),ba=s.getBBox();E[F]=
N/i;E.tx=ba.x;E.ty=ba.y;E.sx=T.x;E.sy=T.y;z.rot=d.rot;z.back=d.back;z.len=N;d.rot&&(E.r=ta(s.rotate())||0);break;case ea:E[F]=(z[F]-p[F])/i;break;case "colour":p[F]=a.getRGB(p[F]);N=a.getRGB(z[F]);E[F]={r:(N.r-p[F].r)/i,g:(N.g-p[F].g)/i,b:(N.b-p[F].b)/i};break;case "path":N=fb(p[F],z[F]);p[F]=N[0];ba=N[1];E[F]=[];N=0;for(T=p[F][M];N<T;N++){E[F][N]=[0];for(var ma=1,ha=p[F][N][M];ma<ha;ma++)E[F][N][ma]=(ba[N][ma]-p[F][N][ma])/i}break;case "csv":T=X(d[F]).split(m);ba=X(p[F]).split(m);switch(F){case "translation":p[F]=
[0,0];E[F]=[T[0]/i,T[1]/i];break;case "rotation":p[F]=ba[1]==T[1]&&ba[2]==T[2]?ba:[0,T[1],T[2]];E[F]=[(T[0]-p[F][0])/i,0,0];break;case "scale":d[F]=T;p[F]=X(p[F]).split(m);E[F]=[(T[0]-p[F][0])/i,(T[1]-p[F][1])/i,0,0];break;case "clip-rect":p[F]=X(p[F]).split(m);E[F]=[];for(N=4;N--;)E[F][N]=(T[N]-p[F][N])/i;break}z[F]=T;break;default:T=[].concat(d[F]);ba=[].concat(p[F]);E[F]=[];for(N=s.paper.customAttributes[F][M];N--;)E[F][N]=((T[N]||0)-(ba[N]||0))/i;break}}if(C){F=a.easing_formulas[l];if(!F)if((F=
X(l).match(Ea))&&F[M]==5){var ia=F;F=function(sa){return h(sa,+ia[1],+ia[2],+ia[3],+ia[4],i)}}else F=function(sa){return sa};la.push({start:d.start||+new Date,ms:i,easing:F,from:p,diff:E,to:z,el:s,t:{x:0,y:0}});a.is(o,"function")&&(s._ac=setTimeout(function(){o.call(s)},i));la[M]==1&&setTimeout(xa)}else{l=[];var fa;for(var qa in d)if(d[D](qa)&&qb.test(qa)){F={value:d[qa]};qa=="from"&&(qa=0);qa=="to"&&(qa=100);F.key=Ra(qa,10);l.push(F)}l.sort(sb);l[0].key&&l.unshift({key:0,value:s.attrs});N=0;for(T=
l[M];N<T;N++)Sa(l[N].value,s,i/100*l[N].key,i/100*(l[N-1]&&l[N-1].key||0),l[N-1]&&l[N-1].value.callback);(fa=l[l[M]-1].value.callback)&&s.timeouts.push(setTimeout(function(){fa.call(s)},i))}return this};za.stop=function(){for(var d=0;d<la.length;d++)la[d].el.id==this.id&&la.splice(d--,1);d=0;for(ii=this.timeouts&&this.timeouts.length;d<ii;d++)clearTimeout(this.timeouts[d]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};za.translate=function(d,i){return this.attr({translation:d+
" "+i})};za.toString=function(){return"Rapha\u00ebl\u2019s object"};a.ae=la;var Ga=function(d){this.items=[];this[M]=0;this.type="set";if(d)for(var i=0,l=d[M];i<l;i++)if(d[i]&&(d[i].constructor==Ba||d[i].constructor==Ga)){this[this.items[M]]=this.items[this.items[M]]=d[i];this[M]++}};Ga[I][va]=function(){for(var d,i,l=0,o=arguments[M];l<o;l++)if((d=arguments[l])&&(d.constructor==Ba||d.constructor==Ga)){i=this.items[M];this[i]=this.items[i]=d;this[M]++}return this};Ga[I].pop=function(){delete this[this[M]--];
return this.items.pop()};for(var Ma in za)if(za[D](Ma))Ga[I][Ma]=function(d){return function(){for(var i=0,l=this.items[M];i<l;i++)this.items[i][d][y](this.items[i],arguments);return this}}(Ma);Ga[I].attr=function(d,i){if(d&&a.is(d,ka)&&a.is(d[0],"object"))for(var l=0,o=d[M];l<o;l++)this.items[l].attr(d[l]);else{l=0;for(o=this.items[M];l<o;l++)this.items[l].attr(d,i)}return this};Ga[I].animate=function(d,i,l,o){(a.is(l,"function")||!l)&&(o=l||null);var s=this.items[M],p=s,z,C=this,E;o&&(E=function(){!--s&&
o.call(C)});l=a.is(l,"string")?l:E;for(z=this.items[--p].animate(d,i,l,E);p--;)this.items[p]&&!this.items[p].removed&&this.items[p].animateWith(z,d,i,l,E);return this};Ga[I].insertAfter=function(d){for(var i=this.items[M];i--;)this.items[i].insertAfter(d);return this};Ga[I].getBBox=function(){for(var d=[],i=[],l=[],o=[],s=this.items[M];s--;){var p=this.items[s].getBBox();d[va](p.x);i[va](p.y);l[va](p.x+p.width);o[va](p.y+p.height)}d=aa[y](0,d);i=aa[y](0,i);return{x:d,y:i,width:U[y](0,l)-d,height:U[y](0,
o)-i}};Ga[I].clone=function(d){d=new Ga;for(var i=0,l=this.items[M];i<l;i++)d[va](this.items[i].clone());return d};a.registerFont=function(d){if(!d.face)return d;this.fonts=this.fonts||{};var i={w:d.w,face:{},glyphs:{}},l=d.face["font-family"];for(var o in d.face)if(d.face[D](o))i.face[o]=d.face[o];if(this.fonts[l])this.fonts[l][va](i);else this.fonts[l]=[i];if(!d.svg){i.face["units-per-em"]=Ra(d.face["units-per-em"],10);for(var s in d.glyphs)if(d.glyphs[D](s)){l=d.glyphs[s];i.glyphs[s]={w:l.w,k:{},
d:l.d&&"M"+l.d.replace(/[mlcxtrv]/g,function(z){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[z]||"M"})+"z"};if(l.k)for(var p in l.k)if(l[D](p))i.glyphs[s].k[p]=l.k[p]}}return d};x.getFont=function(d,i,l,o){o=o||"normal";l=l||"normal";i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400;if(a.fonts){var s=a.fonts[d];if(!s){d=RegExp("(^|\\s)"+d.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var p in a.fonts)if(a.fonts[D](p))if(d.test(p)){s=a.fonts[p];break}}var z;if(s){p=0;for(d=s[M];p<d;p++){z=
s[p];if(z.face["font-weight"]==i&&(z.face["font-style"]==l||!z.face["font-style"])&&z.face["font-stretch"]==o)break}}return z}};x.print=function(d,i,l,o,s,p,z){p=p||"middle";z=U(aa(z||0,1),-1);var C=this.set(),E=X(l).split(""),F=0;a.is(o,l)&&(o=this.getFont(o));if(o){l=(s||16)/o.face["units-per-em"];var N=o.face.bbox.split(m);s=+N[0];p=+N[1]+(p=="baseline"?N[3]-N[1]+ +o.face.descent:(N[3]-N[1])/2);N=0;for(var T=E[M];N<T;N++){var ba=N&&o.glyphs[E[N-1]]||{},ma=o.glyphs[E[N]];F+=N?(ba.w||o.w)+(ba.k&&
ba.k[E[N]]||0)+o.w*z:0;ma&&ma.d&&C[va](this.path(ma.d).attr({fill:"#000",stroke:"none",translation:[F,0]}))}C.scale(l,l,s,p).translate(d-s,i-p)}return C};a.format=function(d,i){var l=a.is(i,ka)?[0].concat(i):arguments;d&&a.is(d,"string")&&l[M]-1&&(d=d.replace(G,function(o,s){return l[++s]==null?"":l[s]}));return d||""};a.ninja=function(){n.was?u.Raphael=n.is:delete Raphael;return a};a.el=za;a.st=Ga[I];n.was?u.Raphael=a:Raphael=a})();(function(a,b){function f(){return false}function e(){return true}function h(g,j,q){q[0].type=g;return k.event.handle.apply(j,q)}function m(g){var j,q,v=[],A=[],H,L,P,S,da,ja,ua,ya;L=k.data(this,this.nodeType?"events":"__events__");if(typeof L==="function")L=L.events;if(!(g.liveFired===this||!L||!L.live||g.button&&g.type==="click")){if(g.namespace)ya=RegExp("(^|\\.)"+g.namespace.split(".").join("\\.(?:.*\\.)?")+"(\\.|$)");g.liveFired=this;var Ka=L.live.slice(0);for(S=0;S<Ka.length;S++){L=Ka[S];L.origType.replace(W,
"")===g.type?A.push(L.selector):Ka.splice(S--,1)}A=k(g.target).closest(A,g.currentTarget);da=0;for(ja=A.length;da<ja;da++){ua=A[da];for(S=0;S<Ka.length;S++){L=Ka[S];if(ua.selector===L.selector&&(!ya||ya.test(L.namespace))){P=ua.elem;H=null;if(L.preType==="mouseenter"||L.preType==="mouseleave"){g.type=L.preType;H=k(g.relatedTarget).closest(L.selector)[0]}if(!H||H!==P)v.push({elem:P,handleObj:L,level:ua.level})}}}da=0;for(ja=v.length;da<ja;da++){A=v[da];if(q&&A.level>q)break;g.currentTarget=A.elem;
g.data=A.handleObj.data;g.handleObj=A.handleObj;ya=A.handleObj.origHandler.apply(A.elem,arguments);if(ya===false||g.isPropagationStopped()){q=A.level;if(ya===false)j=false}}return j}}function r(g,j){return(g&&g!=="*"?g+".":"")+j.replace(ka,"`").replace(wa,"&")}function G(g,j,q){if(k.isFunction(j))return k.grep(g,function(A,H){return!!j.call(A,H,A)===q});else if(j.nodeType)return k.grep(g,function(A){return A===j===q});else if(typeof j==="string"){var v=k.grep(g,function(A){return A.nodeType===1});
if(Gb.test(j))return k.filter(j,v,!q);else j=k.filter(j,v)}return k.grep(g,function(A){return k.inArray(A,j)>=0===q})}function I(g,j){var q=0;j.each(function(){if(this.nodeName===(g[q]&&g[q].nodeName)){var v=k.data(g[q++]),A=k.data(this,v);if(v=v&&v.events){delete A.handle;A.events={};for(var H in v)for(var L in v[H])k.event.add(this,H,v[H][L],v[H][L].data)}}})}function D(g,j){j.src?k.ajax({url:j.src,async:false,dataType:"script"}):k.globalEval(j.text||j.textContent||j.innerHTML||"");j.parentNode&&
j.parentNode.removeChild(j)}function w(g,j,q){var v=j==="width"?g.offsetWidth:g.offsetHeight;if(q==="border")return v;k.each(j==="width"?fb:wb,function(){q||(v-=parseFloat(k.css(g,"padding"+this))||0);if(q==="margin")v+=parseFloat(k.css(g,"margin"+this))||0;else v-=parseFloat(k.css(g,"border"+this+"Width"))||0});return v}function u(g,j,q,v){if(k.isArray(j)&&j.length)k.each(j,function(A,H){q||Cb.test(g)?v(g,H):u(g+"["+(typeof H==="object"||k.isArray(H)?A:"")+"]",H,q,v)});else if(!q&&j!=null&&typeof j===
"object")k.isEmptyObject(j)?v(g,""):k.each(j,function(A,H){u(g+"["+A+"]",H,q,v)});else v(g,j)}function n(g,j){var q={};k.each(ob.concat.apply([],ob.slice(0,j)),function(){q[this]=g});return q}function t(g){if(!za[g]){var j=k("<"+g+">").appendTo("body"),q=j.css("display");j.remove();if(q==="none"||q==="")q="block";za[g]=q}return za[g]}function x(g){return k.isWindow(g)?g:g.nodeType===9?g.defaultView||g.parentWindow:false}var y=a.document,k=function(){function g(){if(!j.isReady){try{y.documentElement.doScroll("left")}catch(d){setTimeout(g,
1);return}j.ready()}}var j=function(d,i){return new j.fn.init(d,i)},q=a.jQuery,v=a.$,A,H=/^(?:[^<]*(<[\w\W]+>)[^>]*$|#([\w\-]+)$)/,L=/\S/,P=/^\s+/,S=/\s+$/,da=/\W/,ja=/\d/,ua=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,ya=/^[\],:{}\s]*$/,Ka=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,pa=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Ha=/(?:^|:|,)(?:\s*\[)+/g,Da=/(webkit)[ \/]([\w.]+)/,B=/(opera)(?:.*version)?[ \/]([\w.]+)/,K=/(msie) ([\w.]+)/,V=/(mozilla)(?:.*? rv:([\w.]+))?/,R=navigator.userAgent,
Y=false,Z=[],ga,la=Object.prototype.toString,xa=Object.prototype.hasOwnProperty,Sa=Array.prototype.push,Oa=Array.prototype.slice,Qa=String.prototype.trim,Ga=Array.prototype.indexOf,Ma={};j.fn=j.prototype={init:function(d,i){var l,o,s;if(!d)return this;if(d.nodeType){this.context=this[0]=d;this.length=1;return this}if(d==="body"&&!i&&y.body){this.context=y;this[0]=y.body;this.selector="body";this.length=1;return this}if(typeof d==="string")if((l=H.exec(d))&&(l[1]||!i))if(l[1]){s=i?i.ownerDocument||
i:y;if(o=ua.exec(d))if(j.isPlainObject(i)){d=[y.createElement(o[1])];j.fn.attr.call(d,i,true)}else d=[s.createElement(o[1])];else{o=j.buildFragment([l[1]],[s]);d=(o.cacheable?o.fragment.cloneNode(true):o.fragment).childNodes}return j.merge(this,d)}else{if((o=y.getElementById(l[2]))&&o.parentNode){if(o.id!==l[2])return A.find(d);this.length=1;this[0]=o}this.context=y;this.selector=d;return this}else if(!i&&!da.test(d)){this.selector=d;this.context=y;d=y.getElementsByTagName(d);return j.merge(this,
d)}else return!i||i.jquery?(i||A).find(d):j(i).find(d);else if(j.isFunction(d))return A.ready(d);if(d.selector!==b){this.selector=d.selector;this.context=d.context}return j.makeArray(d,this)},selector:"",jquery:"1.4.3",length:0,size:function(){return this.length},toArray:function(){return Oa.call(this,0)},get:function(d){return d==null?this.toArray():d<0?this.slice(d)[0]:this[d]},pushStack:function(d,i,l){var o=j();j.isArray(d)?Sa.apply(o,d):j.merge(o,d);o.prevObject=this;o.context=this.context;if(i===
"find")o.selector=this.selector+(this.selector?" ":"")+l;else if(i)o.selector=this.selector+"."+i+"("+l+")";return o},each:function(d,i){return j.each(this,d,i)},ready:function(d){j.bindReady();if(j.isReady)d.call(y,j);else Z&&Z.push(d);return this},eq:function(d){return d===-1?this.slice(d):this.slice(d,+d+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Oa.apply(this,arguments),"slice",Oa.call(arguments).join(","))},map:function(d){return this.pushStack(j.map(this,
function(i,l){return d.call(i,l,i)}))},end:function(){return this.prevObject||j(null)},push:Sa,sort:[].sort,splice:[].splice};j.fn.init.prototype=j.fn;j.extend=j.fn.extend=function(){var d=arguments[0]||{},i=1,l=arguments.length,o=false,s,p,z,C,E;if(typeof d==="boolean"){o=d;d=arguments[1]||{};i=2}if(typeof d!=="object"&&!j.isFunction(d))d={};if(l===i){d=this;--i}for(;i<l;i++)if((s=arguments[i])!=null)for(p in s){z=d[p];C=s[p];if(d!==C)if(o&&C&&(j.isPlainObject(C)||(E=j.isArray(C)))){if(E){E=false;
clone=z&&j.isArray(z)?z:[]}else clone=z&&j.isPlainObject(z)?z:{};d[p]=j.extend(o,clone,C)}else if(C!==b)d[p]=C}return d};j.extend({noConflict:function(d){a.$=v;if(d)a.jQuery=q;return j},isReady:false,readyWait:1,ready:function(d){d===true&&j.readyWait--;if(!j.readyWait||d!==true&&!j.isReady){if(!y.body)return setTimeout(j.ready,1);j.isReady=true;if(!(d!==true&&--j.readyWait>0)){if(Z){for(var i=0;d=Z[i++];)d.call(y,j);Z=null}j.fn.triggerHandler&&j(y).triggerHandler("ready")}}},bindReady:function(){if(!Y){Y=
true;if(y.readyState==="complete")return setTimeout(j.ready,1);if(y.addEventListener){y.addEventListener("DOMContentLoaded",ga,false);a.addEventListener("load",j.ready,false)}else if(y.attachEvent){y.attachEvent("onreadystatechange",ga);a.attachEvent("onload",j.ready);var d=false;try{d=a.frameElement==null}catch(i){}y.documentElement.doScroll&&d&&g()}}},isFunction:function(d){return j.type(d)==="function"},isArray:Array.isArray||function(d){return j.type(d)==="array"},isWindow:function(d){return d&&
typeof d==="object"&&"setInterval"in d},isNaN:function(d){return d==null||!ja.test(d)||isNaN(d)},type:function(d){return d==null?String(d):Ma[la.call(d)]||"object"},isPlainObject:function(d){if(!d||j.type(d)!=="object"||d.nodeType||j.isWindow(d))return false;if(d.constructor&&!xa.call(d,"constructor")&&!xa.call(d.constructor.prototype,"isPrototypeOf"))return false;for(var i in d);return i===b||xa.call(d,i)},isEmptyObject:function(d){for(var i in d)return false;return true},error:function(d){throw d;
},parseJSON:function(d){if(typeof d!=="string"||!d)return null;d=j.trim(d);if(ya.test(d.replace(Ka,"@").replace(pa,"]").replace(Ha,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(d):(new Function("return "+d))();else j.error("Invalid JSON: "+d)},noop:function(){},globalEval:function(d){if(d&&L.test(d)){var i=y.getElementsByTagName("head")[0]||y.documentElement,l=y.createElement("script");l.type="text/javascript";if(j.support.scriptEval)l.appendChild(y.createTextNode(d));else l.text=d;i.insertBefore(l,
i.firstChild);i.removeChild(l)}},nodeName:function(d,i){return d.nodeName&&d.nodeName.toUpperCase()===i.toUpperCase()},each:function(d,i,l){var o,s=0,p=d.length,z=p===b||j.isFunction(d);if(l)if(z)for(o in d){if(i.apply(d[o],l)===false)break}else for(;s<p;){if(i.apply(d[s++],l)===false)break}else if(z)for(o in d){if(i.call(d[o],o,d[o])===false)break}else for(l=d[0];s<p&&i.call(l,s,l)!==false;l=d[++s]);return d},trim:Qa?function(d){return d==null?"":Qa.call(d)}:function(d){return d==null?"":d.toString().replace(P,
"").replace(S,"")},makeArray:function(d,i){var l=i||[];if(d!=null){var o=j.type(d);d.length==null||o==="string"||o==="function"||o==="regexp"||j.isWindow(d)?Sa.call(l,d):j.merge(l,d)}return l},inArray:function(d,i){if(i.indexOf)return i.indexOf(d);for(var l=0,o=i.length;l<o;l++)if(i[l]===d)return l;return-1},merge:function(d,i){var l=d.length,o=0;if(typeof i.length==="number")for(var s=i.length;o<s;o++)d[l++]=i[o];else for(;i[o]!==b;)d[l++]=i[o++];d.length=l;return d},grep:function(d,i,l){var o=[],
s;l=!!l;for(var p=0,z=d.length;p<z;p++){s=!!i(d[p],p);l!==s&&o.push(d[p])}return o},map:function(d,i,l){for(var o=[],s,p=0,z=d.length;p<z;p++){s=i(d[p],p,l);if(s!=null)o[o.length]=s}return o.concat.apply([],o)},guid:1,proxy:function(d,i,l){if(arguments.length===2)if(typeof i==="string"){l=d;d=l[i];i=b}else if(i&&!j.isFunction(i)){l=i;i=b}if(!i&&d)i=function(){return d.apply(l||this,arguments)};if(d)i.guid=d.guid=d.guid||i.guid||j.guid++;return i},access:function(d,i,l,o,s,p){var z=d.length;if(typeof i===
"object"){for(var C in i)j.access(d,C,i[C],o,s,l);return d}if(l!==b){o=!p&&o&&j.isFunction(l);for(C=0;C<z;C++)s(d[C],i,o?l.call(d[C],C,s(d[C],i)):l,p);return d}return z?s(d[0],i):b},now:function(){return(new Date).getTime()},uaMatch:function(d){d=d.toLowerCase();d=Da.exec(d)||B.exec(d)||K.exec(d)||d.indexOf("compatible")<0&&V.exec(d)||[];return{browser:d[1]||"",version:d[2]||"0"}},browser:{}});j.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(d,i){Ma["[object "+
i+"]"]=i.toLowerCase()});R=j.uaMatch(R);if(R.browser){j.browser[R.browser]=true;j.browser.version=R.version}if(j.browser.webkit)j.browser.safari=true;if(Ga)j.inArray=function(d,i){return Ga.call(i,d)};if(!/\s/.test("\u00a0")){P=/^[\s\xA0]+/;S=/[\s\xA0]+$/}A=j(y);if(y.addEventListener)ga=function(){y.removeEventListener("DOMContentLoaded",ga,false);j.ready()};else if(y.attachEvent)ga=function(){if(y.readyState==="complete"){y.detachEvent("onreadystatechange",ga);j.ready()}};return a.jQuery=a.$=j}();
(function(){k.support={};var g=y.documentElement,j=y.createElement("script"),q=y.createElement("div"),v="script"+k.now();q.style.display="none";q.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var A=q.getElementsByTagName("*"),H=q.getElementsByTagName("a")[0],L=y.createElement("select"),P=L.appendChild(y.createElement("option"));if(!(!A||!A.length||!H)){k.support={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,
htmlSerialize:!!q.getElementsByTagName("link").length,style:/red/.test(H.getAttribute("style")),hrefNormalized:H.getAttribute("href")==="/a",opacity:/^0.55$/.test(H.style.opacity),cssFloat:!!H.style.cssFloat,checkOn:q.getElementsByTagName("input")[0].value==="on",optSelected:P.selected,optDisabled:false,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableHiddenOffsets:true};L.disabled=true;k.support.optDisabled=!P.disabled;
j.type="text/javascript";try{j.appendChild(y.createTextNode("window."+v+"=1;"))}catch(S){}g.insertBefore(j,g.firstChild);if(a[v]){k.support.scriptEval=true;delete a[v]}g.removeChild(j);if(q.attachEvent&&q.fireEvent){q.attachEvent("onclick",function da(){k.support.noCloneEvent=false;q.detachEvent("onclick",da)});q.cloneNode(true).fireEvent("onclick")}q=y.createElement("div");q.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";g=y.createDocumentFragment();g.appendChild(q.firstChild);
k.support.checkClone=g.cloneNode(true).cloneNode(true).lastChild.checked;k(function(){var da=y.createElement("div");da.style.width=da.style.paddingLeft="1px";y.body.appendChild(da);k.boxModel=k.support.boxModel=da.offsetWidth===2;if("zoom"in da.style){da.style.display="inline";da.style.zoom=1;k.support.inlineBlockNeedsLayout=da.offsetWidth===2;da.style.display="";da.innerHTML="<div style='width:4px;'></div>";k.support.shrinkWrapBlocks=da.offsetWidth!==2}da.innerHTML="<table><tr><td style='padding:0;display:none'></td><td>t</td></tr></table>";
var ja=da.getElementsByTagName("td");k.support.reliableHiddenOffsets=ja[0].offsetHeight===0;ja[0].style.display="";ja[1].style.display="none";k.support.reliableHiddenOffsets=k.support.reliableHiddenOffsets&&ja[0].offsetHeight===0;da.innerHTML="";y.body.removeChild(da).style.display="none"});g=function(da){var ja=y.createElement("div");da="on"+da;var ua=da in ja;if(!ua){ja.setAttribute(da,"return;");ua=typeof ja[da]==="function"}return ua};k.support.submitBubbles=g("submit");k.support.changeBubbles=
g("change");g=j=q=A=H=null}})();k.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var ca={},X=/^(?:\{.*\}|\[.*\])$/;k.extend({cache:{},uuid:0,expando:"jQuery"+k.now(),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},data:function(g,j,q){if(k.acceptData(g)){g=g==a?ca:g;var v=g.nodeType,A=v?g[k.expando]:null,
H=k.cache;if(!(v&&!A&&typeof j==="string"&&q===b)){if(v)A||(g[k.expando]=A=++k.uuid);else H=g;if(typeof j==="object")if(v)H[A]=k.extend(H[A],j);else k.extend(H,j);else if(v&&!H[A])H[A]={};g=v?H[A]:H;if(q!==b)g[j]=q;return typeof j==="string"?g[j]:g}}},removeData:function(g,j){if(k.acceptData(g)){g=g==a?ca:g;var q=g.nodeType,v=q?g[k.expando]:g,A=k.cache,H=q?A[v]:v;if(j){if(H){delete H[j];q&&k.isEmptyObject(H)&&k.removeData(g)}}else if(q&&k.support.deleteExpando)delete g[k.expando];else if(g.removeAttribute)g.removeAttribute(k.expando);
else if(q)delete A[v];else for(var L in g)delete g[L]}},acceptData:function(g){if(g.nodeName){var j=k.noData[g.nodeName.toLowerCase()];if(j)return!(j===true||g.getAttribute("classid")!==j)}return true}});k.fn.extend({data:function(g,j){if(typeof g==="undefined")return this.length?k.data(this[0]):null;else if(typeof g==="object")return this.each(function(){k.data(this,g)});var q=g.split(".");q[1]=q[1]?"."+q[1]:"";if(j===b){var v=this.triggerHandler("getData"+q[1]+"!",[q[0]]);if(v===b&&this.length){v=
k.data(this[0],g);if(v===b&&this[0].nodeType===1){v=this[0].getAttribute("data-"+g);if(typeof v==="string")try{v=v==="true"?true:v==="false"?false:v==="null"?null:!k.isNaN(v)?parseFloat(v):X.test(v)?k.parseJSON(v):v}catch(A){}else v=b}}return v===b&&q[1]?this.data(q[0]):v}else return this.each(function(){var H=k(this),L=[q[0],j];H.triggerHandler("setData"+q[1]+"!",L);k.data(this,g,j);H.triggerHandler("changeData"+q[1]+"!",L)})},removeData:function(g){return this.each(function(){k.removeData(this,
g)})}});k.extend({queue:function(g,j,q){if(g){j=(j||"fx")+"queue";var v=k.data(g,j);if(!q)return v||[];if(!v||k.isArray(q))v=k.data(g,j,k.makeArray(q));else v.push(q);return v}},dequeue:function(g,j){j=j||"fx";var q=k.queue(g,j),v=q.shift();if(v==="inprogress")v=q.shift();if(v){j==="fx"&&q.unshift("inprogress");v.call(g,function(){k.dequeue(g,j)})}}});k.fn.extend({queue:function(g,j){if(typeof g!=="string"){j=g;g="fx"}if(j===b)return k.queue(this[0],g);return this.each(function(){var q=k.queue(this,
g,j);g==="fx"&&q[0]!=="inprogress"&&k.dequeue(this,g)})},dequeue:function(g){return this.each(function(){k.dequeue(this,g)})},delay:function(g,j){g=k.fx?k.fx.speeds[g]||g:g;j=j||"fx";return this.queue(j,function(){var q=this;setTimeout(function(){k.dequeue(q,j)},g)})},clearQueue:function(g){return this.queue(g||"fx",[])}});var na=/[\n\t]/g,oa=/\s+/,Q=/\r/g,M=/^(?:href|src|style)$/,O=/^(?:button|input)$/i,J=/^(?:button|input|object|select|textarea)$/i,U=/^a(?:rea)?$/i,aa=/^(?:radio|checkbox)$/i;k.fn.extend({attr:function(g,
j){return k.access(this,g,j,true,k.attr)},removeAttr:function(g){return this.each(function(){k.attr(this,g,"");this.nodeType===1&&this.removeAttribute(g)})},addClass:function(g){if(k.isFunction(g))return this.each(function(da){var ja=k(this);ja.addClass(g.call(this,da,ja.attr("class")))});if(g&&typeof g==="string")for(var j=(g||"").split(oa),q=0,v=this.length;q<v;q++){var A=this[q];if(A.nodeType===1)if(A.className){for(var H=" "+A.className+" ",L=A.className,P=0,S=j.length;P<S;P++)if(H.indexOf(" "+
j[P]+" ")<0)L+=" "+j[P];A.className=k.trim(L)}else A.className=g}return this},removeClass:function(g){if(k.isFunction(g))return this.each(function(S){var da=k(this);da.removeClass(g.call(this,S,da.attr("class")))});if(g&&typeof g==="string"||g===b)for(var j=(g||"").split(oa),q=0,v=this.length;q<v;q++){var A=this[q];if(A.nodeType===1&&A.className)if(g){for(var H=(" "+A.className+" ").replace(na," "),L=0,P=j.length;L<P;L++)H=H.replace(" "+j[L]+" "," ");A.className=k.trim(H)}else A.className=""}return this},
toggleClass:function(g,j){var q=typeof g,v=typeof j==="boolean";if(k.isFunction(g))return this.each(function(A){var H=k(this);H.toggleClass(g.call(this,A,H.attr("class"),j),j)});return this.each(function(){if(q==="string")for(var A,H=0,L=k(this),P=j,S=g.split(oa);A=S[H++];){P=v?P:!L.hasClass(A);L[P?"addClass":"removeClass"](A)}else if(q==="undefined"||q==="boolean"){this.className&&k.data(this,"__className__",this.className);this.className=this.className||g===false?"":k.data(this,"__className__")||
""}})},hasClass:function(g){g=" "+g+" ";for(var j=0,q=this.length;j<q;j++)if((" "+this[j].className+" ").replace(na," ").indexOf(g)>-1)return true;return false},val:function(g){if(!arguments.length){var j=this[0];if(j){if(k.nodeName(j,"option")){var q=j.attributes.value;return!q||q.specified?j.value:j.text}if(k.nodeName(j,"select")){var v=j.selectedIndex;q=[];var A=j.options;j=j.type==="select-one";if(v<0)return null;var H=j?v:0;for(v=j?v+1:A.length;H<v;H++){var L=A[H];if(L.selected&&(k.support.optDisabled?
!L.disabled:L.getAttribute("disabled")===null)&&(!L.parentNode.disabled||!k.nodeName(L.parentNode,"optgroup"))){g=k(L).val();if(j)return g;q.push(g)}}return q}if(aa.test(j.type)&&!k.support.checkOn)return j.getAttribute("value")===null?"on":j.value;return(j.value||"").replace(Q,"")}return b}var P=k.isFunction(g);return this.each(function(S){var da=k(this),ja=g;if(this.nodeType===1){if(P)ja=g.call(this,S,da.val());if(ja==null)ja="";else if(typeof ja==="number")ja+="";else if(k.isArray(ja))ja=k.map(ja,
function(ya){return ya==null?"":ya+""});if(k.isArray(ja)&&aa.test(this.type))this.checked=k.inArray(da.val(),ja)>=0;else if(k.nodeName(this,"select")){var ua=k.makeArray(ja);k("option",this).each(function(){this.selected=k.inArray(k(this).val(),ua)>=0});if(!ua.length)this.selectedIndex=-1}else this.value=ja}})}});k.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(g,j,q,v){if(!g||g.nodeType===3||g.nodeType===8)return b;if(v&&j in k.attrFn)return k(g)[j](q);
v=g.nodeType!==1||!k.isXMLDoc(g);var A=q!==b;j=v&&k.props[j]||j;if(g.nodeType===1){var H=M.test(j);if((j in g||g[j]!==b)&&v&&!H){if(A){j==="type"&&O.test(g.nodeName)&&g.parentNode&&k.error("type property can't be changed");if(q===null)g.nodeType===1&&g.removeAttribute(j);else g[j]=q}if(k.nodeName(g,"form")&&g.getAttributeNode(j))return g.getAttributeNode(j).nodeValue;if(j==="tabIndex")return(j=g.getAttributeNode("tabIndex"))&&j.specified?j.value:J.test(g.nodeName)||U.test(g.nodeName)&&g.href?0:b;
return g[j]}if(!k.support.style&&v&&j==="style"){if(A)g.style.cssText=""+q;return g.style.cssText}A&&g.setAttribute(j,""+q);if(!g.attributes[j]&&g.hasAttribute&&!g.hasAttribute(j))return b;g=!k.support.hrefNormalized&&v&&H?g.getAttribute(j,2):g.getAttribute(j);return g===null?b:g}}});var W=/\.(.*)$/,ea=/^(?:textarea|input|select)$/i,ka=/\./g,wa=/ /g,va=/[^\w\s.|`]/g,Aa=function(g){return g.replace(va,"\\$&")},Ia={focusin:0,focusout:0};k.event={add:function(g,j,q,v){if(!(g.nodeType===3||g.nodeType===
8)){if(k.isWindow(g)&&g!==a&&!g.frameElement)g=a;if(q===false)q=f;var A,H;if(q.handler){A=q;q=A.handler}if(!q.guid)q.guid=k.guid++;if(H=k.data(g)){var L=g.nodeType?"events":"__events__",P=H[L],S=H.handle;if(typeof P==="function"){S=P.handle;P=P.events}else if(!P){g.nodeType||(H[L]=H=function(){});H.events=P={}}if(!S)H.handle=S=function(){return typeof k!=="undefined"&&!k.event.triggered?k.event.handle.apply(S.elem,arguments):b};S.elem=g;j=j.split(" ");for(var da=0,ja;L=j[da++];){H=A?k.extend({},A):
{handler:q,data:v};if(L.indexOf(".")>-1){ja=L.split(".");L=ja.shift();H.namespace=ja.slice(0).sort().join(".")}else{ja=[];H.namespace=""}H.type=L;if(!H.guid)H.guid=q.guid;var ua=P[L],ya=k.event.special[L]||{};if(!ua){ua=P[L]=[];if(!ya.setup||ya.setup.call(g,v,ja,S)===false)if(g.addEventListener)g.addEventListener(L,S,false);else g.attachEvent&&g.attachEvent("on"+L,S)}if(ya.add){ya.add.call(g,H);if(!H.handler.guid)H.handler.guid=q.guid}ua.push(H);k.event.global[L]=true}g=null}}},global:{},remove:function(g,
j,q,v){if(!(g.nodeType===3||g.nodeType===8)){if(q===false)q=f;var A,H,L=0,P,S,da,ja,ua,ya,Ka=g.nodeType?"events":"__events__",pa=k.data(g),Ha=pa&&pa[Ka];if(pa&&Ha){if(typeof Ha==="function"){pa=Ha;Ha=Ha.events}if(j&&j.type){q=j.handler;j=j.type}if(!j||typeof j==="string"&&j.charAt(0)==="."){j=j||"";for(A in Ha)k.event.remove(g,A+j)}else{for(j=j.split(" ");A=j[L++];){ja=A;P=A.indexOf(".")<0;S=[];if(!P){S=A.split(".");A=S.shift();da=RegExp("(^|\\.)"+k.map(S.slice(0).sort(),Aa).join("\\.(?:.*\\.)?")+
"(\\.|$)")}if(ua=Ha[A])if(q){ja=k.event.special[A]||{};for(H=v||0;H<ua.length;H++){ya=ua[H];if(q.guid===ya.guid){if(P||da.test(ya.namespace)){v==null&&ua.splice(H--,1);ja.remove&&ja.remove.call(g,ya)}if(v!=null)break}}if(ua.length===0||v!=null&&ua.length===1){if(!ja.teardown||ja.teardown.call(g,S)===false)k.removeEvent(g,A,pa.handle);delete Ha[A]}}else for(H=0;H<ua.length;H++){ya=ua[H];if(P||da.test(ya.namespace)){k.event.remove(g,ja,ya.handler,H);ua.splice(H--,1)}}}if(k.isEmptyObject(Ha)){if(j=pa.handle)j.elem=
null;delete pa.events;delete pa.handle;if(typeof pa==="function")k.removeData(g,Ka);else k.isEmptyObject(pa)&&k.removeData(g)}}}}},trigger:function(g,j,q,v){var A=g.type||g;if(!v){g=typeof g==="object"?g[k.expando]?g:k.extend(k.Event(A),g):k.Event(A);if(A.indexOf("!")>=0){g.type=A=A.slice(0,-1);g.exclusive=true}if(!q){g.stopPropagation();k.event.global[A]&&k.each(k.cache,function(){this.events&&this.events[A]&&k.event.trigger(g,j,this.handle.elem)})}if(!q||q.nodeType===3||q.nodeType===8)return b;
g.result=b;g.target=q;j=k.makeArray(j);j.unshift(g)}g.currentTarget=q;(v=q.nodeType?k.data(q,"handle"):(k.data(q,"__events__")||{}).handle)&&v.apply(q,j);v=q.parentNode||q.ownerDocument;try{if(!(q&&q.nodeName&&k.noData[q.nodeName.toLowerCase()]))if(q["on"+A]&&q["on"+A].apply(q,j)===false){g.result=false;g.preventDefault()}}catch(H){}if(!g.isPropagationStopped()&&v)k.event.trigger(g,j,v,true);else if(!g.isDefaultPrevented()){v=g.target;var L,P=A.replace(W,""),S=k.nodeName(v,"a")&&P==="click",da=k.event.special[P]||
{};if((!da._default||da._default.call(q,g)===false)&&!S&&!(v&&v.nodeName&&k.noData[v.nodeName.toLowerCase()])){try{if(v[P]){if(L=v["on"+P])v["on"+P]=null;k.event.triggered=true;v[P]()}}catch(ja){}if(L)v["on"+P]=L;k.event.triggered=false}}},handle:function(g){var j,q,v;q=[];var A,H=k.makeArray(arguments);g=H[0]=k.event.fix(g||a.event);g.currentTarget=this;j=g.type.indexOf(".")<0&&!g.exclusive;if(!j){v=g.type.split(".");g.type=v.shift();q=v.slice(0).sort();v=RegExp("(^|\\.)"+q.join("\\.(?:.*\\.)?")+
"(\\.|$)")}g.namespace=g.namespace||q.join(".");A=k.data(this,this.nodeType?"events":"__events__");if(typeof A==="function")A=A.events;q=(A||{})[g.type];if(A&&q){q=q.slice(0);A=0;for(var L=q.length;A<L;A++){var P=q[A];if(j||v.test(P.namespace)){g.handler=P.handler;g.data=P.data;g.handleObj=P;P=P.handler.apply(this,H);if(P!==b){g.result=P;if(P===false){g.preventDefault();g.stopPropagation()}}if(g.isImmediatePropagationStopped())break}}}return g.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(g){if(g[k.expando])return g;var j=g;g=k.Event(j);for(var q=this.props.length,v;q;){v=this.props[--q];g[v]=j[v]}if(!g.target)g.target=g.srcElement||y;if(g.target.nodeType===3)g.target=g.target.parentNode;if(!g.relatedTarget&&g.fromElement)g.relatedTarget=g.fromElement===g.target?g.toElement:g.fromElement;if(g.pageX==null&&g.clientX!=null){j=y.documentElement;q=y.body;g.pageX=g.clientX+(j&&j.scrollLeft||q&&q.scrollLeft||0)-(j&&j.clientLeft||q&&q.clientLeft||0);g.pageY=g.clientY+(j&&j.scrollTop||
q&&q.scrollTop||0)-(j&&j.clientTop||q&&q.clientTop||0)}if(g.which==null&&(g.charCode!=null||g.keyCode!=null))g.which=g.charCode!=null?g.charCode:g.keyCode;if(!g.metaKey&&g.ctrlKey)g.metaKey=g.ctrlKey;if(!g.which&&g.button!==b)g.which=g.button&1?1:g.button&2?3:g.button&4?2:0;return g},guid:1E8,proxy:k.proxy,special:{ready:{setup:k.bindReady,teardown:k.noop},live:{add:function(g){k.event.add(this,r(g.origType,g.selector),k.extend({},g,{handler:m,guid:g.handler.guid}))},remove:function(g){k.event.remove(this,
r(g.origType,g.selector),g)}},beforeunload:{setup:function(g,j,q){if(k.isWindow(this))this.onbeforeunload=q},teardown:function(g,j){if(this.onbeforeunload===j)this.onbeforeunload=null}}}};k.removeEvent=y.removeEventListener?function(g,j,q){g.removeEventListener&&g.removeEventListener(j,q,false)}:function(g,j,q){g.detachEvent&&g.detachEvent("on"+j,q)};k.Event=function(g){if(!this.preventDefault)return new k.Event(g);if(g&&g.type){this.originalEvent=g;this.type=g.type}else this.type=g;this.timeStamp=
k.now();this[k.expando]=true};k.Event.prototype={preventDefault:function(){this.isDefaultPrevented=e;var g=this.originalEvent;if(g)if(g.preventDefault)g.preventDefault();else g.returnValue=false},stopPropagation:function(){this.isPropagationStopped=e;var g=this.originalEvent;if(g){g.stopPropagation&&g.stopPropagation();g.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=e;this.stopPropagation()},isDefaultPrevented:f,isPropagationStopped:f,isImmediatePropagationStopped:f};
var La=function(g){var j=g.relatedTarget;try{for(;j&&j!==this;)j=j.parentNode;if(j!==this){g.type=g.data;k.event.handle.apply(this,arguments)}}catch(q){}},Ja=function(g){g.type=g.data;k.event.handle.apply(this,arguments)};k.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(g,j){k.event.special[g]={setup:function(q){k.event.add(this,j,q&&q.selector?Ja:La,g)},teardown:function(q){k.event.remove(this,j,q&&q.selector?Ja:La)}}});if(!k.support.submitBubbles)k.event.special.submit={setup:function(){if(this.nodeName.toLowerCase()!==
"form"){k.event.add(this,"click.specialSubmit",function(g){var j=g.target,q=j.type;if((q==="submit"||q==="image")&&k(j).closest("form").length){g.liveFired=b;return h("submit",this,arguments)}});k.event.add(this,"keypress.specialSubmit",function(g){var j=g.target,q=j.type;if((q==="text"||q==="password")&&k(j).closest("form").length&&g.keyCode===13){g.liveFired=b;return h("submit",this,arguments)}})}else return false},teardown:function(){k.event.remove(this,".specialSubmit")}};if(!k.support.changeBubbles){var Ea,
Fa=function(g){var j=g.type,q=g.value;if(j==="radio"||j==="checkbox")q=g.checked;else if(j==="select-multiple")q=g.selectedIndex>-1?k.map(g.options,function(v){return v.selected}).join("-"):"";else if(g.nodeName.toLowerCase()==="select")q=g.selectedIndex;return q},ta=function(g,j){var q=g.target,v,A;if(!(!ea.test(q.nodeName)||q.readOnly)){v=k.data(q,"_change_data");A=Fa(q);if(g.type!=="focusout"||q.type!=="radio")k.data(q,"_change_data",A);if(!(v===b||A===v))if(v!=null||A){g.type="change";g.liveFired=
b;return k.event.trigger(g,j,q)}}};k.event.special.change={filters:{focusout:ta,beforedeactivate:ta,click:function(g){var j=g.target,q=j.type;if(q==="radio"||q==="checkbox"||j.nodeName.toLowerCase()==="select")return ta.call(this,g)},keydown:function(g){var j=g.target,q=j.type;if(g.keyCode===13&&j.nodeName.toLowerCase()!=="textarea"||g.keyCode===32&&(q==="checkbox"||q==="radio")||q==="select-multiple")return ta.call(this,g)},beforeactivate:function(g){g=g.target;k.data(g,"_change_data",Fa(g))}},setup:function(){if(this.type===
"file")return false;for(var g in Ea)k.event.add(this,g+".specialChange",Ea[g]);return ea.test(this.nodeName)},teardown:function(){k.event.remove(this,".specialChange");return ea.test(this.nodeName)}};Ea=k.event.special.change.filters;Ea.focus=Ea.beforeactivate}y.addEventListener&&k.each({focus:"focusin",blur:"focusout"},function(g,j){function q(v){v=k.event.fix(v);v.type=j;return k.event.trigger(v,null,v.target)}k.event.special[j]={setup:function(){Ia[j]++===0&&y.addEventListener(g,q,true)},teardown:function(){--Ia[j]===
0&&y.removeEventListener(g,q,true)}}});k.each(["bind","one"],function(g,j){k.fn[j]=function(q,v,A){if(typeof q==="object"){for(var H in q)this[j](H,v,q[H],A);return this}if(k.isFunction(v)||v===false){A=v;v=b}var L=j==="one"?k.proxy(A,function(S){k(this).unbind(S,L);return A.apply(this,arguments)}):A;if(q==="unload"&&j!=="one")this.one(q,v,A);else{H=0;for(var P=this.length;H<P;H++)k.event.add(this[H],q,L,v)}return this}});k.fn.extend({unbind:function(g,j){if(typeof g==="object"&&!g.preventDefault)for(var q in g)this.unbind(q,
g[q]);else{q=0;for(var v=this.length;q<v;q++)k.event.remove(this[q],g,j)}return this},delegate:function(g,j,q,v){return this.live(j,q,v,g)},undelegate:function(g,j,q){return arguments.length===0?this.unbind("live"):this.die(j,null,q,g)},trigger:function(g,j){return this.each(function(){k.event.trigger(g,j,this)})},triggerHandler:function(g,j){if(this[0]){var q=k.Event(g);q.preventDefault();q.stopPropagation();k.event.trigger(q,j,this[0]);return q.result}},toggle:function(g){for(var j=arguments,q=
1;q<j.length;)k.proxy(g,j[q++]);return this.click(k.proxy(g,function(v){var A=(k.data(this,"lastToggle"+g.guid)||0)%q;k.data(this,"lastToggle"+g.guid,A+1);v.preventDefault();return j[A].apply(this,arguments)||false}))},hover:function(g,j){return this.mouseenter(g).mouseleave(j||g)}});var Ra={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};k.each(["live","die"],function(g,j){k.fn[j]=function(q,v,A,H){var L,P=0,S,da,ja=H||this.selector;H=H?this:k(this.context);if(typeof q===
"object"&&!q.preventDefault){for(L in q)H[j](L,v,q[L],ja);return this}if(k.isFunction(v)){A=v;v=b}for(q=(q||"").split(" ");(L=q[P++])!=null;){S=W.exec(L);da="";if(S){da=S[0];L=L.replace(W,"")}if(L==="hover")q.push("mouseenter"+da,"mouseleave"+da);else{S=L;if(L==="focus"||L==="blur"){q.push(Ra[L]+da);L+=da}else L=(Ra[L]||L)+da;if(j==="live"){da=0;for(var ua=H.length;da<ua;da++)k.event.add(H[da],"live."+r(L,ja),{data:v,selector:ja,handler:A,origType:L,origHandler:A,preType:S})}else H.unbind("live."+
r(L,ja),A)}}return this}});k.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),function(g,j){k.fn[j]=function(q,v){if(v==null){v=q;q=null}return arguments.length>0?this.bind(j,q,v):this.trigger(j)};if(k.attrFn)k.attrFn[j]=true});a.attachEvent&&!a.addEventListener&&k(a).bind("unload",function(){for(var g in k.cache)if(k.cache[g].handle)try{k.event.remove(k.cache[g].handle.elem)}catch(j){}});
(function(){function g(B,K,V,R,Y,Z){Y=0;for(var ga=R.length;Y<ga;Y++){var la=R[Y];if(la){la=la[B];for(var xa=false;la;){if(la.sizcache===V){xa=R[la.sizset];break}if(la.nodeType===1&&!Z){la.sizcache=V;la.sizset=Y}if(la.nodeName.toLowerCase()===K){xa=la;break}la=la[B]}R[Y]=xa}}}function j(B,K,V,R,Y,Z){Y=0;for(var ga=R.length;Y<ga;Y++){var la=R[Y];if(la){la=la[B];for(var xa=false;la;){if(la.sizcache===V){xa=R[la.sizset];break}if(la.nodeType===1){if(!Z){la.sizcache=V;la.sizset=Y}if(typeof K!=="string"){if(la===
K){xa=true;break}}else if(P.filter(K,[la]).length>0){xa=la;break}}la=la[B]}R[Y]=xa}}}var q=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,v=0,A=Object.prototype.toString,H=false,L=true;[0,0].sort(function(){L=false;return 0});var P=function(B,K,V,R){V=V||[];var Y=K=K||y;if(K.nodeType!==1&&K.nodeType!==9)return[];if(!B||typeof B!=="string")return V;var Z=[],ga,la,xa,Sa,Oa=true,Qa=P.isXML(K),Ga=B,Ma;do{q.exec("");
if(ga=q.exec(Ga)){Ga=ga[3];Z.push(ga[1]);if(ga[2]){Sa=ga[3];break}}}while(ga);if(Z.length>1&&da.exec(B))if(Z.length===2&&S.relative[Z[0]])la=Da(Z[0]+Z[1],K);else for(la=S.relative[Z[0]]?[K]:P(Z.shift(),K);Z.length;){B=Z.shift();if(S.relative[B])B+=Z.shift();la=Da(B,la)}else{if(!R&&Z.length>1&&K.nodeType===9&&!Qa&&S.match.ID.test(Z[0])&&!S.match.ID.test(Z[Z.length-1])){ga=P.find(Z.shift(),K,Qa);K=ga.expr?P.filter(ga.expr,ga.set)[0]:ga.set[0]}if(K){ga=R?{expr:Z.pop(),set:ya(R)}:P.find(Z.pop(),Z.length===
1&&(Z[0]==="~"||Z[0]==="+")&&K.parentNode?K.parentNode:K,Qa);la=ga.expr?P.filter(ga.expr,ga.set):ga.set;if(Z.length>0)xa=ya(la);else Oa=false;for(;Z.length;){ga=Ma=Z.pop();if(S.relative[Ma])ga=Z.pop();else Ma="";if(ga==null)ga=K;S.relative[Ma](xa,ga,Qa)}}else xa=[]}xa||(xa=la);xa||P.error(Ma||B);if(A.call(xa)==="[object Array]")if(Oa)if(K&&K.nodeType===1)for(B=0;xa[B]!=null;B++){if(xa[B]&&(xa[B]===true||xa[B].nodeType===1&&P.contains(K,xa[B])))V.push(la[B])}else for(B=0;xa[B]!=null;B++)xa[B]&&xa[B].nodeType===
1&&V.push(la[B]);else V.push.apply(V,xa);else ya(xa,V);if(Sa){P(Sa,Y,V,R);P.uniqueSort(V)}return V};P.uniqueSort=function(B){if(pa){H=L;B.sort(pa);if(H)for(var K=1;K<B.length;K++)B[K]===B[K-1]&&B.splice(K--,1)}return B};P.matches=function(B,K){return P(B,null,null,K)};P.matchesSelector=function(B,K){return P(K,null,null,[B]).length>0};P.find=function(B,K,V){var R;if(!B)return[];for(var Y=0,Z=S.order.length;Y<Z;Y++){var ga=S.order[Y],la;if(la=S.leftMatch[ga].exec(B)){var xa=la[1];la.splice(1,1);if(xa.substr(xa.length-
1)!=="\\"){la[1]=(la[1]||"").replace(/\\/g,"");R=S.find[ga](la,K,V);if(R!=null){B=B.replace(S.match[ga],"");break}}}}R||(R=K.getElementsByTagName("*"));return{set:R,expr:B}};P.filter=function(B,K,V,R){for(var Y=B,Z=[],ga=K,la,xa,Sa=K&&K[0]&&P.isXML(K[0]);B&&K.length;){for(var Oa in S.filter)if((la=S.leftMatch[Oa].exec(B))!=null&&la[2]){var Qa=S.filter[Oa],Ga,Ma;Ma=la[1];xa=false;la.splice(1,1);if(Ma.substr(Ma.length-1)!=="\\"){if(ga===Z)Z=[];if(S.preFilter[Oa])if(la=S.preFilter[Oa](la,ga,V,Z,R,Sa)){if(la===
true)continue}else xa=Ga=true;if(la)for(var d=0;(Ma=ga[d])!=null;d++)if(Ma){Ga=Qa(Ma,la,d,ga);var i=R^!!Ga;if(V&&Ga!=null)if(i)xa=true;else ga[d]=false;else if(i){Z.push(Ma);xa=true}}if(Ga!==b){V||(ga=Z);B=B.replace(S.match[Oa],"");if(!xa)return[];break}}}if(B===Y)if(xa==null)P.error(B);else break;Y=B}return ga};P.error=function(B){throw"Syntax error, unrecognized expression: "+B;};var S=P.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,
NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+\-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(B){return B.getAttribute("href")}},
relative:{"+":function(B,K){var V=typeof K==="string",R=V&&!/\W/.test(K);V=V&&!R;if(R)K=K.toLowerCase();R=0;for(var Y=B.length,Z;R<Y;R++)if(Z=B[R]){for(;(Z=Z.previousSibling)&&Z.nodeType!==1;);B[R]=V||Z&&Z.nodeName.toLowerCase()===K?Z||false:Z===K}V&&P.filter(K,B,true)},">":function(B,K){var V=typeof K==="string",R,Y=0,Z=B.length;if(V&&!/\W/.test(K))for(K=K.toLowerCase();Y<Z;Y++){if(R=B[Y]){V=R.parentNode;B[Y]=V.nodeName.toLowerCase()===K?V:false}}else{for(;Y<Z;Y++)if(R=B[Y])B[Y]=V?R.parentNode:R.parentNode===
K;V&&P.filter(K,B,true)}},"":function(B,K,V){var R=v++,Y=j,Z;if(typeof K==="string"&&!/\W/.test(K)){Z=K=K.toLowerCase();Y=g}Y("parentNode",K,R,B,Z,V)},"~":function(B,K,V){var R=v++,Y=j,Z;if(typeof K==="string"&&!/\W/.test(K)){Z=K=K.toLowerCase();Y=g}Y("previousSibling",K,R,B,Z,V)}},find:{ID:function(B,K,V){if(typeof K.getElementById!=="undefined"&&!V)return(B=K.getElementById(B[1]))&&B.parentNode?[B]:[]},NAME:function(B,K){if(typeof K.getElementsByName!=="undefined"){for(var V=[],R=K.getElementsByName(B[1]),
Y=0,Z=R.length;Y<Z;Y++)R[Y].getAttribute("name")===B[1]&&V.push(R[Y]);return V.length===0?null:V}},TAG:function(B,K){return K.getElementsByTagName(B[1])}},preFilter:{CLASS:function(B,K,V,R,Y,Z){B=" "+B[1].replace(/\\/g,"")+" ";if(Z)return B;Z=0;for(var ga;(ga=K[Z])!=null;Z++)if(ga)if(Y^(ga.className&&(" "+ga.className+" ").replace(/[\t\n]/g," ").indexOf(B)>=0))V||R.push(ga);else if(V)K[Z]=false;return false},ID:function(B){return B[1].replace(/\\/g,"")},TAG:function(B){return B[1].toLowerCase()},
CHILD:function(B){if(B[1]==="nth"){var K=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(B[2]==="even"&&"2n"||B[2]==="odd"&&"2n+1"||!/\D/.test(B[2])&&"0n+"+B[2]||B[2]);B[2]=K[1]+(K[2]||1)-0;B[3]=K[3]-0}B[0]=v++;return B},ATTR:function(B,K,V,R,Y,Z){K=B[1].replace(/\\/g,"");if(!Z&&S.attrMap[K])B[1]=S.attrMap[K];if(B[2]==="~=")B[4]=" "+B[4]+" ";return B},PSEUDO:function(B,K,V,R,Y){if(B[1]==="not")if((q.exec(B[3])||"").length>1||/^\w/.test(B[3]))B[3]=P(B[3],null,null,K);else{B=P.filter(B[3],K,V,true^Y);V||R.push.apply(R,
B);return false}else if(S.match.POS.test(B[0])||S.match.CHILD.test(B[0]))return true;return B},POS:function(B){B.unshift(true);return B}},filters:{enabled:function(B){return B.disabled===false&&B.type!=="hidden"},disabled:function(B){return B.disabled===true},checked:function(B){return B.checked===true},selected:function(B){return B.selected===true},parent:function(B){return!!B.firstChild},empty:function(B){return!B.firstChild},has:function(B,K,V){return!!P(V[3],B).length},header:function(B){return/h\d/i.test(B.nodeName)},
text:function(B){return"text"===B.type},radio:function(B){return"radio"===B.type},checkbox:function(B){return"checkbox"===B.type},file:function(B){return"file"===B.type},password:function(B){return"password"===B.type},submit:function(B){return"submit"===B.type},image:function(B){return"image"===B.type},reset:function(B){return"reset"===B.type},button:function(B){return"button"===B.type||B.nodeName.toLowerCase()==="button"},input:function(B){return/input|select|textarea|button/i.test(B.nodeName)}},
setFilters:{first:function(B,K){return K===0},last:function(B,K,V,R){return K===R.length-1},even:function(B,K){return K%2===0},odd:function(B,K){return K%2===1},lt:function(B,K,V){return K<V[3]-0},gt:function(B,K,V){return K>V[3]-0},nth:function(B,K,V){return V[3]-0===K},eq:function(B,K,V){return V[3]-0===K}},filter:{PSEUDO:function(B,K,V,R){var Y=K[1],Z=S.filters[Y];if(Z)return Z(B,V,K,R);else if(Y==="contains")return(B.textContent||B.innerText||P.getText([B])||"").indexOf(K[3])>=0;else if(Y==="not"){K=
K[3];V=0;for(R=K.length;V<R;V++)if(K[V]===B)return false;return true}else P.error("Syntax error, unrecognized expression: "+Y)},CHILD:function(B,K){var V=K[1],R=B;switch(V){case "only":case "first":for(;R=R.previousSibling;)if(R.nodeType===1)return false;if(V==="first")return true;R=B;case "last":for(;R=R.nextSibling;)if(R.nodeType===1)return false;return true;case "nth":V=K[2];var Y=K[3];if(V===1&&Y===0)return true;var Z=K[0],ga=B.parentNode;if(ga&&(ga.sizcache!==Z||!B.nodeIndex)){var la=0;for(R=
ga.firstChild;R;R=R.nextSibling)if(R.nodeType===1)R.nodeIndex=++la;ga.sizcache=Z}R=B.nodeIndex-Y;return V===0?R===0:R%V===0&&R/V>=0}},ID:function(B,K){return B.nodeType===1&&B.getAttribute("id")===K},TAG:function(B,K){return K==="*"&&B.nodeType===1||B.nodeName.toLowerCase()===K},CLASS:function(B,K){return(" "+(B.className||B.getAttribute("class"))+" ").indexOf(K)>-1},ATTR:function(B,K){var V=K[1];V=S.attrHandle[V]?S.attrHandle[V](B):B[V]!=null?B[V]:B.getAttribute(V);var R=V+"",Y=K[2],Z=K[4];return V==
null?Y==="!=":Y==="="?R===Z:Y==="*="?R.indexOf(Z)>=0:Y==="~="?(" "+R+" ").indexOf(Z)>=0:!Z?R&&V!==false:Y==="!="?R!==Z:Y==="^="?R.indexOf(Z)===0:Y==="$="?R.substr(R.length-Z.length)===Z:Y==="|="?R===Z||R.substr(0,Z.length+1)===Z+"-":false},POS:function(B,K,V,R){var Y=S.setFilters[K[2]];if(Y)return Y(B,V,K,R)}}},da=S.match.POS,ja=function(B,K){return"\\"+(K-0+1)},ua;for(ua in S.match){S.match[ua]=RegExp(S.match[ua].source+/(?![^\[]*\])(?![^\(]*\))/.source);S.leftMatch[ua]=RegExp(/(^(?:.|\r|\n)*?)/.source+
S.match[ua].source.replace(/\\(\d+)/g,ja))}var ya=function(B,K){B=Array.prototype.slice.call(B,0);if(K){K.push.apply(K,B);return K}return B};try{Array.prototype.slice.call(y.documentElement.childNodes,0)}catch(Ka){ya=function(B,K){var V=K||[],R=0;if(A.call(B)==="[object Array]")Array.prototype.push.apply(V,B);else if(typeof B.length==="number")for(var Y=B.length;R<Y;R++)V.push(B[R]);else for(;B[R];R++)V.push(B[R]);return V}}var pa,Ha;if(y.documentElement.compareDocumentPosition)pa=function(B,K){if(B===
K){H=true;return 0}if(!B.compareDocumentPosition||!K.compareDocumentPosition)return B.compareDocumentPosition?-1:1;return B.compareDocumentPosition(K)&4?-1:1};else{pa=function(B,K){var V=[],R=[],Y=B.parentNode,Z=K.parentNode,ga=Y;if(B===K){H=true;return 0}else if(Y===Z)return Ha(B,K);else if(Y){if(!Z)return 1}else return-1;for(;ga;){V.unshift(ga);ga=ga.parentNode}for(ga=Z;ga;){R.unshift(ga);ga=ga.parentNode}Y=V.length;Z=R.length;for(ga=0;ga<Y&&ga<Z;ga++)if(V[ga]!==R[ga])return Ha(V[ga],R[ga]);return ga===
Y?Ha(B,R[ga],-1):Ha(V[ga],K,1)};Ha=function(B,K,V){if(B===K)return V;for(B=B.nextSibling;B;){if(B===K)return-1;B=B.nextSibling}return 1}}P.getText=function(B){for(var K="",V,R=0;B[R];R++){V=B[R];if(V.nodeType===3||V.nodeType===4)K+=V.nodeValue;else if(V.nodeType!==8)K+=P.getText(V.childNodes)}return K};(function(){var B=y.createElement("div"),K="script"+(new Date).getTime();B.innerHTML="<a name='"+K+"'/>";var V=y.documentElement;V.insertBefore(B,V.firstChild);if(y.getElementById(K)){S.find.ID=function(R,
Y,Z){if(typeof Y.getElementById!=="undefined"&&!Z)return(Y=Y.getElementById(R[1]))?Y.id===R[1]||typeof Y.getAttributeNode!=="undefined"&&Y.getAttributeNode("id").nodeValue===R[1]?[Y]:b:[]};S.filter.ID=function(R,Y){var Z=typeof R.getAttributeNode!=="undefined"&&R.getAttributeNode("id");return R.nodeType===1&&Z&&Z.nodeValue===Y}}V.removeChild(B);V=B=null})();(function(){var B=y.createElement("div");B.appendChild(y.createComment(""));if(B.getElementsByTagName("*").length>0)S.find.TAG=function(K,V){var R=
V.getElementsByTagName(K[1]);if(K[1]==="*"){for(var Y=[],Z=0;R[Z];Z++)R[Z].nodeType===1&&Y.push(R[Z]);R=Y}return R};B.innerHTML="<a href='#'></a>";if(B.firstChild&&typeof B.firstChild.getAttribute!=="undefined"&&B.firstChild.getAttribute("href")!=="#")S.attrHandle.href=function(K){return K.getAttribute("href",2)};B=null})();y.querySelectorAll&&function(){var B=P,K=y.createElement("div");K.innerHTML="<p class='TEST'></p>";if(!(K.querySelectorAll&&K.querySelectorAll(".TEST").length===0)){P=function(R,
Y,Z,ga){Y=Y||y;if(!ga&&!P.isXML(Y))if(Y.nodeType===9)try{return ya(Y.querySelectorAll(R),Z)}catch(la){}else if(Y.nodeType===1&&Y.nodeName.toLowerCase()!=="object"){var xa=Y.id,Sa=Y.id="__sizzle__";try{return ya(Y.querySelectorAll("#"+Sa+" "+R),Z)}catch(Oa){}finally{if(xa)Y.id=xa;else Y.removeAttribute("id")}}return B(R,Y,Z,ga)};for(var V in B)P[V]=B[V];K=null}}();(function(){var B=y.documentElement,K=B.matchesSelector||B.mozMatchesSelector||B.webkitMatchesSelector||B.msMatchesSelector,V=false;try{K.call(y.documentElement,
":sizzle")}catch(R){V=true}if(K)P.matchesSelector=function(Y,Z){try{if(V||!S.match.PSEUDO.test(Z))return K.call(Y,Z)}catch(ga){}return P(Z,null,null,[Y]).length>0}})();(function(){var B=y.createElement("div");B.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!B.getElementsByClassName||B.getElementsByClassName("e").length===0)){B.lastChild.className="e";if(B.getElementsByClassName("e").length!==1){S.order.splice(1,0,"CLASS");S.find.CLASS=function(K,V,R){if(typeof V.getElementsByClassName!==
"undefined"&&!R)return V.getElementsByClassName(K[1])};B=null}}})();P.contains=y.documentElement.contains?function(B,K){return B!==K&&(B.contains?B.contains(K):true)}:function(B,K){return!!(B.compareDocumentPosition(K)&16)};P.isXML=function(B){return(B=(B?B.ownerDocument||B:0).documentElement)?B.nodeName!=="HTML":false};var Da=function(B,K){for(var V=[],R="",Y,Z=K.nodeType?[K]:K;Y=S.match.PSEUDO.exec(B);){R+=Y[0];B=B.replace(S.match.PSEUDO,"")}B=S.relative[B]?B+"*":B;Y=0;for(var ga=Z.length;Y<ga;Y++)P(B,
Z[Y],V);return P.filter(R,V)};k.find=P;k.expr=P.selectors;k.expr[":"]=k.expr.filters;k.unique=P.uniqueSort;k.text=P.getText;k.isXMLDoc=P.isXML;k.contains=P.contains})();var bb=/Until$/,cb=/^(?:parents|prevUntil|prevAll)/,ib=/,/,Gb=/^.[^:#\[\.,]*$/,Ua=Array.prototype.slice,Hb=k.expr.match.POS;k.fn.extend({find:function(g){for(var j=this.pushStack("","find",g),q=0,v=0,A=this.length;v<A;v++){q=j.length;k.find(g,this[v],j);if(v>0)for(var H=q;H<j.length;H++)for(var L=0;L<q;L++)if(j[L]===j[H]){j.splice(H--,
1);break}}return j},has:function(g){var j=k(g);return this.filter(function(){for(var q=0,v=j.length;q<v;q++)if(k.contains(this,j[q]))return true})},not:function(g){return this.pushStack(G(this,g,false),"not",g)},filter:function(g){return this.pushStack(G(this,g,true),"filter",g)},is:function(g){return!!g&&k.filter(g,this).length>0},closest:function(g,j){var q=[],v,A,H=this[0];if(k.isArray(g)){var L={},P,S=1;if(H&&g.length){v=0;for(A=g.length;v<A;v++){P=g[v];L[P]||(L[P]=k.expr.match.POS.test(P)?k(P,
j||this.context):P)}for(;H&&H.ownerDocument&&H!==j;){for(P in L){v=L[P];if(v.jquery?v.index(H)>-1:k(H).is(v))q.push({selector:P,elem:H,level:S})}H=H.parentNode;S++}}return q}L=Hb.test(g)?k(g,j||this.context):null;v=0;for(A=this.length;v<A;v++)for(H=this[v];H;)if(L?L.index(H)>-1:k.find.matchesSelector(H,g)){q.push(H);break}else{H=H.parentNode;if(!H||!H.ownerDocument||H===j)break}q=q.length>1?k.unique(q):q;return this.pushStack(q,"closest",g)},index:function(g){if(!g||typeof g==="string")return k.inArray(this[0],
g?k(g):this.parent().children());return k.inArray(g.jquery?g[0]:g,this)},add:function(g,j){var q=typeof g==="string"?k(g,j||this.context):k.makeArray(g),v=k.merge(this.get(),q);return this.pushStack(!q[0]||!q[0].parentNode||q[0].parentNode.nodeType===11||!v[0]||!v[0].parentNode||v[0].parentNode.nodeType===11?v:k.unique(v))},andSelf:function(){return this.add(this.prevObject)}});k.each({parent:function(g){return(g=g.parentNode)&&g.nodeType!==11?g:null},parents:function(g){return k.dir(g,"parentNode")},
parentsUntil:function(g,j,q){return k.dir(g,"parentNode",q)},next:function(g){return k.nth(g,2,"nextSibling")},prev:function(g){return k.nth(g,2,"previousSibling")},nextAll:function(g){return k.dir(g,"nextSibling")},prevAll:function(g){return k.dir(g,"previousSibling")},nextUntil:function(g,j,q){return k.dir(g,"nextSibling",q)},prevUntil:function(g,j,q){return k.dir(g,"previousSibling",q)},siblings:function(g){return k.sibling(g.parentNode.firstChild,g)},children:function(g){return k.sibling(g.firstChild)},
contents:function(g){return k.nodeName(g,"iframe")?g.contentDocument||g.contentWindow.document:k.makeArray(g.childNodes)}},function(g,j){k.fn[g]=function(q,v){var A=k.map(this,j,q);bb.test(g)||(v=q);if(v&&typeof v==="string")A=k.filter(v,A);A=this.length>1?k.unique(A):A;if((this.length>1||ib.test(v))&&cb.test(g))A=A.reverse();return this.pushStack(A,g,Ua.call(arguments).join(","))}});k.extend({filter:function(g,j,q){if(q)g=":not("+g+")";return j.length===1?k.find.matchesSelector(j[0],g)?[j[0]]:[]:
k.find.matches(g,j)},dir:function(g,j,q){var v=[];for(g=g[j];g&&g.nodeType!==9&&(q===b||g.nodeType!==1||!k(g).is(q));){g.nodeType===1&&v.push(g);g=g[j]}return v},nth:function(g,j,q){j=j||1;for(var v=0;g;g=g[q])if(g.nodeType===1&&++v===j)break;return g},sibling:function(g,j){for(var q=[];g;g=g.nextSibling)g.nodeType===1&&g!==j&&q.push(g);return q}});var qb=/ jQuery\d+="(?:\d+|null)"/g,db=/^\s+/,rb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,sb=/<([\w:]+)/,Pa=/<tbody/i,
eb=/<|&#?\w+;/,jb=/<(?:script|object|embed|option|style)/i,tb=/checked\s*(?:[^=]|=\s*.checked.)/i,Ib=/\=([^="'>\s]+\/)>/g,Na={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Na.optgroup=Na.option;Na.tbody=Na.tfoot=Na.colgroup=
Na.caption=Na.thead;Na.th=Na.td;if(!k.support.htmlSerialize)Na._default=[1,"div<div>","</div>"];k.fn.extend({text:function(g){if(k.isFunction(g))return this.each(function(j){var q=k(this);q.text(g.call(this,j,q.text()))});if(typeof g!=="object"&&g!==b)return this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(g));return k.text(this)},wrapAll:function(g){if(k.isFunction(g))return this.each(function(q){k(this).wrapAll(g.call(this,q))});if(this[0]){var j=k(g,this[0].ownerDocument).eq(0).clone(true);
this[0].parentNode&&j.insertBefore(this[0]);j.map(function(){for(var q=this;q.firstChild&&q.firstChild.nodeType===1;)q=q.firstChild;return q}).append(this)}return this},wrapInner:function(g){if(k.isFunction(g))return this.each(function(j){k(this).wrapInner(g.call(this,j))});return this.each(function(){var j=k(this),q=j.contents();q.length?q.wrapAll(g):j.append(g)})},wrap:function(g){return this.each(function(){k(this).wrapAll(g)})},unwrap:function(){return this.parent().each(function(){k.nodeName(this,
"body")||k(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(g){this.nodeType===1&&this.appendChild(g)})},prepend:function(){return this.domManip(arguments,true,function(g){this.nodeType===1&&this.insertBefore(g,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(j){this.parentNode.insertBefore(j,this)});else if(arguments.length){var g=k(arguments[0]);g.push.apply(g,this.toArray());
return this.pushStack(g,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(j){this.parentNode.insertBefore(j,this.nextSibling)});else if(arguments.length){var g=this.pushStack(this,"after",arguments);g.push.apply(g,k(arguments[0]).toArray());return g}},remove:function(g,j){for(var q=0,v;(v=this[q])!=null;q++)if(!g||k.filter(g,[v]).length){if(!j&&v.nodeType===1){k.cleanData(v.getElementsByTagName("*"));k.cleanData([v])}v.parentNode&&
v.parentNode.removeChild(v)}return this},empty:function(){for(var g=0,j;(j=this[g])!=null;g++)for(j.nodeType===1&&k.cleanData(j.getElementsByTagName("*"));j.firstChild;)j.removeChild(j.firstChild);return this},clone:function(g){var j=this.map(function(){if(!k.support.noCloneEvent&&!k.isXMLDoc(this)){var q=this.outerHTML,v=this.ownerDocument;if(!q){q=v.createElement("div");q.appendChild(this.cloneNode(true));q=q.innerHTML}return k.clean([q.replace(qb,"").replace(Ib,'="$1">').replace(db,"")],v)[0]}else return this.cloneNode(true)});
if(g===true){I(this,j);I(this.find("*"),j.find("*"))}return j},html:function(g){if(g===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(qb,""):null;else if(typeof g==="string"&&!jb.test(g)&&(k.support.leadingWhitespace||!db.test(g))&&!Na[(sb.exec(g)||["",""])[1].toLowerCase()]){g=g.replace(rb,"<$1></$2>");try{for(var j=0,q=this.length;j<q;j++)if(this[j].nodeType===1){k.cleanData(this[j].getElementsByTagName("*"));this[j].innerHTML=g}}catch(v){this.empty().append(g)}}else k.isFunction(g)?
this.each(function(A){var H=k(this);H.html(g.call(this,A,H.html()))}):this.empty().append(g);return this},replaceWith:function(g){if(this[0]&&this[0].parentNode){if(k.isFunction(g))return this.each(function(j){var q=k(this),v=q.html();q.replaceWith(g.call(this,j,v))});if(typeof g!=="string")g=k(g).detach();return this.each(function(){var j=this.nextSibling,q=this.parentNode;k(this).remove();j?k(j).before(g):k(q).append(g)})}else return this.pushStack(k(k.isFunction(g)?g():g),"replaceWith",g)},detach:function(g){return this.remove(g,
true)},domManip:function(g,j,q){var v,A,H=g[0],L=[],P;if(!k.support.checkClone&&arguments.length===3&&typeof H==="string"&&tb.test(H))return this.each(function(){k(this).domManip(g,j,q,true)});if(k.isFunction(H))return this.each(function(da){var ja=k(this);g[0]=H.call(this,da,j?ja.html():b);ja.domManip(g,j,q)});if(this[0]){v=H&&H.parentNode;v=k.support.parentNode&&v&&v.nodeType===11&&v.childNodes.length===this.length?{fragment:v}:k.buildFragment(g,this,L);P=v.fragment;if(A=P.childNodes.length===1?
P=P.firstChild:P.firstChild){j=j&&k.nodeName(A,"tr");A=0;for(var S=this.length;A<S;A++)q.call(j?k.nodeName(this[A],"table")?this[A].getElementsByTagName("tbody")[0]||this[A].appendChild(this[A].ownerDocument.createElement("tbody")):this[A]:this[A],A>0||v.cacheable||this.length>1?P.cloneNode(true):P)}L.length&&k.each(L,D)}return this}});k.buildFragment=function(g,j,q){var v,A,H;j=j&&j[0]?j[0].ownerDocument||j[0]:y;if(g.length===1&&typeof g[0]==="string"&&g[0].length<512&&j===y&&!jb.test(g[0])&&(k.support.checkClone||
!tb.test(g[0]))){A=true;if(H=k.fragments[g[0]])if(H!==1)v=H}if(!v){v=j.createDocumentFragment();k.clean(g,j,v,q)}if(A)k.fragments[g[0]]=H?v:1;return{fragment:v,cacheable:A}};k.fragments={};k.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(g,j){k.fn[g]=function(q){var v=[];q=k(q);var A=this.length===1&&this[0].parentNode;if(A&&A.nodeType===11&&A.childNodes.length===1&&q.length===1){q[j](this[0]);return this}else{A=0;for(var H=
q.length;A<H;A++){var L=(A>0?this.clone(true):this).get();k(q[A])[j](L);v=v.concat(L)}return this.pushStack(v,g,q.selector)}}});k.extend({clean:function(g,j,q,v){j=j||y;if(typeof j.createElement==="undefined")j=j.ownerDocument||j[0]&&j[0].ownerDocument||y;for(var A=[],H=0,L;(L=g[H])!=null;H++){if(typeof L==="number")L+="";if(L){if(typeof L==="string"&&!eb.test(L))L=j.createTextNode(L);else if(typeof L==="string"){L=L.replace(rb,"<$1></$2>");var P=(sb.exec(L)||["",""])[1].toLowerCase(),S=Na[P]||Na._default,
da=S[0],ja=j.createElement("div");for(ja.innerHTML=S[1]+L+S[2];da--;)ja=ja.lastChild;if(!k.support.tbody){da=Pa.test(L);P=P==="table"&&!da?ja.firstChild&&ja.firstChild.childNodes:S[1]==="<table>"&&!da?ja.childNodes:[];for(S=P.length-1;S>=0;--S)k.nodeName(P[S],"tbody")&&!P[S].childNodes.length&&P[S].parentNode.removeChild(P[S])}!k.support.leadingWhitespace&&db.test(L)&&ja.insertBefore(j.createTextNode(db.exec(L)[0]),ja.firstChild);L=ja.childNodes}if(L.nodeType)A.push(L);else A=k.merge(A,L)}}if(q)for(H=
0;A[H];H++)if(v&&k.nodeName(A[H],"script")&&(!A[H].type||A[H].type.toLowerCase()==="text/javascript"))v.push(A[H].parentNode?A[H].parentNode.removeChild(A[H]):A[H]);else{A[H].nodeType===1&&A.splice.apply(A,[H+1,0].concat(k.makeArray(A[H].getElementsByTagName("script"))));q.appendChild(A[H])}return A},cleanData:function(g){for(var j,q,v=k.cache,A=k.event.special,H=k.support.deleteExpando,L=0,P;(P=g[L])!=null;L++)if(!(P.nodeName&&k.noData[P.nodeName.toLowerCase()]))if(q=P[k.expando]){if((j=v[q])&&j.events)for(var S in j.events)A[S]?
k.event.remove(P,S):k.removeEvent(P,S,j.handle);if(H)delete P[k.expando];else P.removeAttribute&&P.removeAttribute(k.expando);delete v[q]}}});var Ya=/alpha\([^)]*\)/i,kb=/opacity=([^)]*)/,Za=/-([a-z])/ig,ub=/([A-Z])/g,lb=/^-?\d+(?:px)?$/i,gb=/^-?\d/,Jb={position:"absolute",visibility:"hidden",display:"block"},fb=["Left","Right"],wb=["Top","Bottom"],Wa,mb=y.defaultView&&y.defaultView.getComputedStyle,Xa=function(g,j){return j.toUpperCase()};k.fn.css=function(g,j){if(arguments.length===2&&j===b)return this;
return k.access(this,g,j,true,function(q,v,A){return A!==b?k.style(q,v,A):k.css(q,v)})};k.extend({cssHooks:{opacity:{get:function(g,j){if(j){var q=Wa(g,"opacity","opacity");return q===""?"1":q}else return g.style.opacity}}},cssNumber:{zIndex:true,fontWeight:true,opacity:true,zoom:true,lineHeight:true},cssProps:{"float":k.support.cssFloat?"cssFloat":"styleFloat"},style:function(g,j,q,v){if(!(!g||g.nodeType===3||g.nodeType===8||!g.style)){var A,H=k.camelCase(j),L=g.style,P=k.cssHooks[H];j=k.cssProps[H]||
H;if(q!==b){if(!(typeof q==="number"&&isNaN(q)||q==null)){if(typeof q==="number"&&!k.cssNumber[H])q+="px";if(!P||!("set"in P)||(q=P.set(g,q))!==b)try{L[j]=q}catch(S){}}}else{if(P&&"get"in P&&(A=P.get(g,false,v))!==b)return A;return L[j]}}},css:function(g,j,q){var v,A=k.camelCase(j),H=k.cssHooks[A];j=k.cssProps[A]||A;if(H&&"get"in H&&(v=H.get(g,true,q))!==b)return v;else if(Wa)return Wa(g,j,A)},swap:function(g,j,q){var v={},A;for(A in j){v[A]=g.style[A];g.style[A]=j[A]}q.call(g);for(A in j)g.style[A]=
v[A]},camelCase:function(g){return g.replace(Za,Xa)}});k.curCSS=k.css;k.each(["height","width"],function(g,j){k.cssHooks[j]={get:function(q,v,A){var H;if(v){if(q.offsetWidth!==0)H=w(q,j,A);else k.swap(q,Jb,function(){H=w(q,j,A)});return H+"px"}},set:function(q,v){if(lb.test(v)){v=parseFloat(v);if(v>=0)return v+"px"}else return v}}});if(!k.support.opacity)k.cssHooks.opacity={get:function(g,j){return kb.test((j&&g.currentStyle?g.currentStyle.filter:g.style.filter)||"")?parseFloat(RegExp.$1)/100+"":
j?"1":""},set:function(g,j){var q=g.style;q.zoom=1;var v=k.isNaN(j)?"":"alpha(opacity="+j*100+")",A=q.filter||"";q.filter=Ya.test(A)?A.replace(Ya,v):q.filter+" "+v}};if(mb)Wa=function(g,j,q){var v;q=q.replace(ub,"-$1").toLowerCase();if(!(j=g.ownerDocument.defaultView))return b;if(j=j.getComputedStyle(g,null)){v=j.getPropertyValue(q);if(v===""&&!k.contains(g.ownerDocument.documentElement,g))v=k.style(g,q)}return v};else if(y.documentElement.currentStyle)Wa=function(g,j){var q,v,A=g.currentStyle&&g.currentStyle[j],
H=g.style;if(!lb.test(A)&&gb.test(A)){q=H.left;v=g.runtimeStyle.left;g.runtimeStyle.left=g.currentStyle.left;H.left=j==="fontSize"?"1em":A||0;A=H.pixelLeft+"px";H.left=q;g.runtimeStyle.left=v}return A};if(k.expr&&k.expr.filters){k.expr.filters.hidden=function(g){var j=g.offsetHeight;return g.offsetWidth===0&&j===0||!k.support.reliableHiddenOffsets&&(g.style.display||k.css(g,"display"))==="none"};k.expr.filters.visible=function(g){return!k.expr.filters.hidden(g)}}var xb=k.now(),yb=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
zb=/^(?:select|textarea)/i,Ab=/^(?:color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Bb=/^(?:GET|HEAD|DELETE)$/,Cb=/\[\]$/,ra=/\=\?(&|$)/,hb=/\?/,$a=/([?&])_=[^&]*/,nb=/^(\w+:)?\/\/([^\/?#]+)/,Ta=/%20/g,Kb=/#.*$/,Ba=k.fn.load;k.fn.extend({load:function(g,j,q){if(typeof g!=="string"&&Ba)return Ba.apply(this,arguments);else if(!this.length)return this;var v=g.indexOf(" ");if(v>=0){var A=g.slice(v,g.length);g=g.slice(0,v)}v="GET";if(j)if(k.isFunction(j)){q=
j;j=null}else if(typeof j==="object"){j=k.param(j,k.ajaxSettings.traditional);v="POST"}var H=this;k.ajax({url:g,type:v,dataType:"html",data:j,complete:function(L,P){if(P==="success"||P==="notmodified")H.html(A?k("<div>").append(L.responseText.replace(yb,"")).find(A):L.responseText);q&&H.each(q,[L.responseText,P,L])}});return this},serialize:function(){return k.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?k.makeArray(this.elements):this}).filter(function(){return this.name&&
!this.disabled&&(this.checked||zb.test(this.nodeName)||Ab.test(this.type))}).map(function(g,j){var q=k(this).val();return q==null?null:k.isArray(q)?k.map(q,function(v){return{name:j.name,value:v}}):{name:j.name,value:q}}).get()}});k.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(g,j){k.fn[j]=function(q){return this.bind(j,q)}});k.extend({get:function(g,j,q,v){if(k.isFunction(j)){v=v||q;q=j;j=null}return k.ajax({type:"GET",url:g,data:j,success:q,dataType:v})},
getScript:function(g,j){return k.get(g,null,j,"script")},getJSON:function(g,j,q){return k.get(g,j,q,"json")},post:function(g,j,q,v){if(k.isFunction(j)){v=v||q;q=j;j={}}return k.ajax({type:"POST",url:g,data:j,success:q,dataType:v})},ajaxSetup:function(g){k.extend(k.ajaxSettings,g)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:function(){return new a.XMLHttpRequest},accepts:{xml:"application/xml, text/xml",html:"text/html",
script:"text/javascript, application/javascript",json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},ajax:function(g){var j=k.extend(true,{},k.ajaxSettings,g),q,v,A,H=j.type.toUpperCase(),L=Bb.test(H);j.url=j.url.replace(Kb,"");j.context=g&&g.context!=null?g.context:j;if(j.data&&j.processData&&typeof j.data!=="string")j.data=k.param(j.data,j.traditional);if(j.dataType==="jsonp"){if(H==="GET")ra.test(j.url)||(j.url+=(hb.test(j.url)?"&":"?")+(j.jsonp||"callback")+"=?");else if(!j.data||
!ra.test(j.data))j.data=(j.data?j.data+"&":"")+(j.jsonp||"callback")+"=?";j.dataType="json"}if(j.dataType==="json"&&(j.data&&ra.test(j.data)||ra.test(j.url))){q=j.jsonpCallback||"jsonp"+xb++;if(j.data)j.data=(j.data+"").replace(ra,"="+q+"$1");j.url=j.url.replace(ra,"="+q+"$1");j.dataType="script";var P=a[q];a[q]=function(R){A=R;k.handleSuccess(j,pa,v,A);k.handleComplete(j,pa,v,A);if(k.isFunction(P))P(R);else{a[q]=b;try{delete a[q]}catch(Y){}}ja&&ja.removeChild(ua)}}if(j.dataType==="script"&&j.cache===
null)j.cache=false;if(j.cache===false&&H==="GET"){var S=k.now(),da=j.url.replace($a,"$1_="+S);j.url=da+(da===j.url?(hb.test(j.url)?"&":"?")+"_="+S:"")}if(j.data&&H==="GET")j.url+=(hb.test(j.url)?"&":"?")+j.data;j.global&&k.active++===0&&k.event.trigger("ajaxStart");S=(S=nb.exec(j.url))&&(S[1]&&S[1]!==location.protocol||S[2]!==location.host);if(j.dataType==="script"&&H==="GET"&&S){var ja=y.getElementsByTagName("head")[0]||y.documentElement,ua=y.createElement("script");if(j.scriptCharset)ua.charset=
j.scriptCharset;ua.src=j.url;if(!q){var ya=false;ua.onload=ua.onreadystatechange=function(){if(!ya&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){ya=true;k.handleSuccess(j,pa,v,A);k.handleComplete(j,pa,v,A);ua.onload=ua.onreadystatechange=null;ja&&ua.parentNode&&ja.removeChild(ua)}}}ja.insertBefore(ua,ja.firstChild);return b}var Ka=false,pa=j.xhr();if(pa){j.username?pa.open(H,j.url,j.async,j.username,j.password):pa.open(H,j.url,j.async);try{if(j.data!=null&&!L||g&&
g.contentType)pa.setRequestHeader("Content-Type",j.contentType);if(j.ifModified){k.lastModified[j.url]&&pa.setRequestHeader("If-Modified-Since",k.lastModified[j.url]);k.etag[j.url]&&pa.setRequestHeader("If-None-Match",k.etag[j.url])}S||pa.setRequestHeader("X-Requested-With","XMLHttpRequest");pa.setRequestHeader("Accept",j.dataType&&j.accepts[j.dataType]?j.accepts[j.dataType]+", */*; q=0.01":j.accepts._default)}catch(Ha){}if(j.beforeSend&&j.beforeSend.call(j.context,pa,j)===false){j.global&&k.active--===
1&&k.event.trigger("ajaxStop");pa.abort();return false}j.global&&k.triggerGlobal(j,"ajaxSend",[pa,j]);var Da=pa.onreadystatechange=function(R){if(!pa||pa.readyState===0||R==="abort"){Ka||k.handleComplete(j,pa,v,A);Ka=true;if(pa)pa.onreadystatechange=k.noop}else if(!Ka&&pa&&(pa.readyState===4||R==="timeout")){Ka=true;pa.onreadystatechange=k.noop;v=R==="timeout"?"timeout":!k.httpSuccess(pa)?"error":j.ifModified&&k.httpNotModified(pa,j.url)?"notmodified":"success";var Y;if(v==="success")try{A=k.httpData(pa,
j.dataType,j)}catch(Z){v="parsererror";Y=Z}if(v==="success"||v==="notmodified")q||k.handleSuccess(j,pa,v,A);else k.handleError(j,pa,v,Y);q||k.handleComplete(j,pa,v,A);R==="timeout"&&pa.abort();if(j.async)pa=null}};try{var B=pa.abort;pa.abort=function(){pa&&B.call&&B.call(pa);Da("abort")}}catch(K){}j.async&&j.timeout>0&&setTimeout(function(){pa&&!Ka&&Da("timeout")},j.timeout);try{pa.send(L||j.data==null?null:j.data)}catch(V){k.handleError(j,pa,null,V);k.handleComplete(j,pa,v,A)}j.async||Da();return pa}},
param:function(g,j){var q=[],v=function(H,L){L=k.isFunction(L)?L():L;q[q.length]=encodeURIComponent(H)+"="+encodeURIComponent(L)};if(j===b)j=k.ajaxSettings.traditional;if(k.isArray(g)||g.jquery)k.each(g,function(){v(this.name,this.value)});else for(var A in g)u(A,g[A],j,v);return q.join("&").replace(Ta,"+")}});k.extend({active:0,lastModified:{},etag:{},handleError:function(g,j,q,v){g.error&&g.error.call(g.context,j,q,v);g.global&&k.triggerGlobal(g,"ajaxError",[j,g,v])},handleSuccess:function(g,j,
q,v){g.success&&g.success.call(g.context,v,q,j);g.global&&k.triggerGlobal(g,"ajaxSuccess",[j,g])},handleComplete:function(g,j,q){g.complete&&g.complete.call(g.context,j,q);g.global&&k.triggerGlobal(g,"ajaxComplete",[j,g]);g.global&&k.active--===1&&k.event.trigger("ajaxStop")},triggerGlobal:function(g,j,q){(g.context&&g.context.url==null?k(g.context):k.event).trigger(j,q)},httpSuccess:function(g){try{return!g.status&&location.protocol==="file:"||g.status>=200&&g.status<300||g.status===304||g.status===
1223}catch(j){}return false},httpNotModified:function(g,j){var q=g.getResponseHeader("Last-Modified"),v=g.getResponseHeader("Etag");if(q)k.lastModified[j]=q;if(v)k.etag[j]=v;return g.status===304},httpData:function(g,j,q){var v=g.getResponseHeader("content-type")||"",A=j==="xml"||!j&&v.indexOf("xml")>=0;g=A?g.responseXML:g.responseText;A&&g.documentElement.nodeName==="parsererror"&&k.error("parsererror");if(q&&q.dataFilter)g=q.dataFilter(g,j);if(typeof g==="string")if(j==="json"||!j&&v.indexOf("json")>=
0)g=k.parseJSON(g);else if(j==="script"||!j&&v.indexOf("javascript")>=0)k.globalEval(g);return g}});if(a.ActiveXObject)k.ajaxSettings.xhr=function(){if(a.location.protocol!=="file:")try{return new a.XMLHttpRequest}catch(g){}try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(j){}};k.support.ajax=!!k.ajaxSettings.xhr();var za={},Db=/^(?:toggle|show|hide)$/,Eb=/^([+\-]=)?([\d+.\-]+)(.*)$/,ab,ob=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight",
"paddingLeft","paddingRight"],["opacity"]];k.fn.extend({show:function(g,j,q){if(g||g===0)return this.animate(n("show",3),g,j,q);else{g=0;for(j=this.length;g<j;g++){if(!k.data(this[g],"olddisplay")&&this[g].style.display==="none")this[g].style.display="";this[g].style.display===""&&k.css(this[g],"display")==="none"&&k.data(this[g],"olddisplay",t(this[g].nodeName))}for(g=0;g<j;g++)this[g].style.display=k.data(this[g],"olddisplay")||"";return this}},hide:function(g,j,q){if(g||g===0)return this.animate(n("hide",
3),g,j,q);else{g=0;for(j=this.length;g<j;g++){q=k.css(this[g],"display");q!=="none"&&k.data(this[g],"olddisplay",q)}for(g=0;g<j;g++)this[g].style.display="none";return this}},_toggle:k.fn.toggle,toggle:function(g,j,q){var v=typeof g==="boolean";if(k.isFunction(g)&&k.isFunction(j))this._toggle.apply(this,arguments);else g==null||v?this.each(function(){var A=v?g:k(this).is(":hidden");k(this)[A?"show":"hide"]()}):this.animate(n("toggle",3),g,j,q);return this},fadeTo:function(g,j,q,v){return this.filter(":hidden").css("opacity",
0).show().end().animate({opacity:j},g,q,v)},animate:function(g,j,q,v){var A=k.speed(j,q,v);if(k.isEmptyObject(g))return this.each(A.complete);return this[A.queue===false?"each":"queue"](function(){var H=k.extend({},A),L,P=this.nodeType===1,S=P&&k(this).is(":hidden"),da=this;for(L in g){var ja=k.camelCase(L);if(L!==ja){g[ja]=g[L];delete g[L];L=ja}if(g[L]==="hide"&&S||g[L]==="show"&&!S)return H.complete.call(this);if(P&&(L==="height"||L==="width")){H.overflow=[this.style.overflow,this.style.overflowX,
this.style.overflowY];if(k.css(this,"display")==="inline"&&k.css(this,"float")==="none")if(k.support.inlineBlockNeedsLayout)if(t(this.nodeName)==="inline")this.style.display="inline-block";else{this.style.display="inline";this.style.zoom=1}else this.style.display="inline-block"}if(k.isArray(g[L])){(H.specialEasing=H.specialEasing||{})[L]=g[L][1];g[L]=g[L][0]}}if(H.overflow!=null)this.style.overflow="hidden";H.curAnim=k.extend({},g);k.each(g,function(ua,ya){var Ka=new k.fx(da,H,ua);if(Db.test(ya))Ka[ya===
"toggle"?S?"show":"hide":ya](g);else{var pa=Eb.exec(ya),Ha=Ka.cur(true)||0;if(pa){var Da=parseFloat(pa[2]),B=pa[3]||"px";if(B!=="px"){k.style(da,ua,(Da||1)+B);Ha=(Da||1)/Ka.cur(true)*Ha;k.style(da,ua,Ha+B)}if(pa[1])Da=(pa[1]==="-="?-1:1)*Da+Ha;Ka.custom(Ha,Da,B)}else Ka.custom(Ha,ya,"")}});return true})},stop:function(g,j){var q=k.timers;g&&this.queue([]);this.each(function(){for(var v=q.length-1;v>=0;v--)if(q[v].elem===this){j&&q[v](true);q.splice(v,1)}});j||this.dequeue();return this}});k.each({slideDown:n("show",
1),slideUp:n("hide",1),slideToggle:n("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},function(g,j){k.fn[g]=function(q,v,A){return this.animate(j,q,v,A)}});k.extend({speed:function(g,j,q){var v=g&&typeof g==="object"?k.extend({},g):{complete:q||!q&&j||k.isFunction(g)&&g,duration:g,easing:q&&j||j&&!k.isFunction(j)&&j};v.duration=k.fx.off?0:typeof v.duration==="number"?v.duration:v.duration in k.fx.speeds?k.fx.speeds[v.duration]:k.fx.speeds._default;v.old=v.complete;v.complete=function(){v.queue!==
false&&k(this).dequeue();k.isFunction(v.old)&&v.old.call(this)};return v},easing:{linear:function(g,j,q,v){return q+v*g},swing:function(g,j,q,v){return(-Math.cos(g*Math.PI)/2+0.5)*v+q}},timers:[],fx:function(g,j,q){this.options=j;this.elem=g;this.prop=q;if(!j.orig)j.orig={}}});k.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(k.fx.step[this.prop]||k.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==
null))return this.elem[this.prop];var g=parseFloat(k.css(this.elem,this.prop));return g&&g>-10000?g:0},custom:function(g,j,q){function v(H){return A.step(H)}this.startTime=k.now();this.start=g;this.end=j;this.unit=q||this.unit||"px";this.now=this.start;this.pos=this.state=0;var A=this;g=k.fx;v.elem=this.elem;if(v()&&k.timers.push(v)&&!ab)ab=setInterval(g.tick,g.interval)},show:function(){this.options.orig[this.prop]=k.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||
this.prop==="height"?1:0,this.cur());k(this.elem).show()},hide:function(){this.options.orig[this.prop]=k.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(g){var j=k.now(),q=true;if(g||j>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var v in this.options.curAnim)if(this.options.curAnim[v]!==true)q=false;if(q){if(this.options.overflow!=null&&!k.support.shrinkWrapBlocks){var A=
this.elem,H=this.options;k.each(["","X","Y"],function(P,S){A.style["overflow"+S]=H.overflow[P]})}this.options.hide&&k(this.elem).hide();if(this.options.hide||this.options.show)for(var L in this.options.curAnim)k.style(this.elem,L,this.options.orig[L]);this.options.complete.call(this.elem)}return false}else{g=j-this.startTime;this.state=g/this.options.duration;j=this.options.easing||(k.easing.swing?"swing":"linear");this.pos=k.easing[this.options.specialEasing&&this.options.specialEasing[this.prop]||
j](this.state,g,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};k.extend(k.fx,{tick:function(){for(var g=k.timers,j=0;j<g.length;j++)g[j]()||g.splice(j--,1);g.length||k.fx.stop()},interval:13,stop:function(){clearInterval(ab);ab=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(g){k.style(g.elem,"opacity",g.now)},_default:function(g){if(g.elem.style&&g.elem.style[g.prop]!=null)g.elem.style[g.prop]=(g.prop==="width"||g.prop===
"height"?Math.max(0,g.now):g.now)+g.unit;else g.elem[g.prop]=g.now}}});if(k.expr&&k.expr.filters)k.expr.filters.animated=function(g){return k.grep(k.timers,function(j){return g===j.elem}).length};var Fb=/^t(?:able|d|h)$/i,pb=/^(?:body|html)$/i;k.fn.offset="getBoundingClientRect"in y.documentElement?function(g){var j=this[0],q;if(g)return this.each(function(L){k.offset.setOffset(this,g,L)});if(!j||!j.ownerDocument)return null;if(j===j.ownerDocument.body)return k.offset.bodyOffset(j);try{q=j.getBoundingClientRect()}catch(v){}var A=
j.ownerDocument,H=A.documentElement;if(!q||!k.contains(H,j))return q||{top:0,left:0};j=A.body;A=x(A);return{top:q.top+(A.pageYOffset||k.support.boxModel&&H.scrollTop||j.scrollTop)-(H.clientTop||j.clientTop||0),left:q.left+(A.pageXOffset||k.support.boxModel&&H.scrollLeft||j.scrollLeft)-(H.clientLeft||j.clientLeft||0)}}:function(g){var j=this[0];if(g)return this.each(function(da){k.offset.setOffset(this,g,da)});if(!j||!j.ownerDocument)return null;if(j===j.ownerDocument.body)return k.offset.bodyOffset(j);
k.offset.initialize();var q=j.offsetParent,v=j.ownerDocument,A,H=v.documentElement,L=v.body;A=(v=v.defaultView)?v.getComputedStyle(j,null):j.currentStyle;for(var P=j.offsetTop,S=j.offsetLeft;(j=j.parentNode)&&j!==L&&j!==H;){if(k.offset.supportsFixedPosition&&A.position==="fixed")break;A=v?v.getComputedStyle(j,null):j.currentStyle;P-=j.scrollTop;S-=j.scrollLeft;if(j===q){P+=j.offsetTop;S+=j.offsetLeft;if(k.offset.doesNotAddBorder&&!(k.offset.doesAddBorderForTableAndCells&&Fb.test(j.nodeName))){P+=
parseFloat(A.borderTopWidth)||0;S+=parseFloat(A.borderLeftWidth)||0}q=j.offsetParent}if(k.offset.subtractsBorderForOverflowNotVisible&&A.overflow!=="visible"){P+=parseFloat(A.borderTopWidth)||0;S+=parseFloat(A.borderLeftWidth)||0}A=A}if(A.position==="relative"||A.position==="static"){P+=L.offsetTop;S+=L.offsetLeft}if(k.offset.supportsFixedPosition&&A.position==="fixed"){P+=Math.max(H.scrollTop,L.scrollTop);S+=Math.max(H.scrollLeft,L.scrollLeft)}return{top:P,left:S}};k.offset={initialize:function(){var g=
y.body,j=y.createElement("div"),q,v,A,H=parseFloat(k.css(g,"marginTop"))||0;k.extend(j.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});j.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";g.insertBefore(j,
g.firstChild);q=j.firstChild;v=q.firstChild;A=q.nextSibling.firstChild.firstChild;this.doesNotAddBorder=v.offsetTop!==5;this.doesAddBorderForTableAndCells=A.offsetTop===5;v.style.position="fixed";v.style.top="20px";this.supportsFixedPosition=v.offsetTop===20||v.offsetTop===15;v.style.position=v.style.top="";q.style.overflow="hidden";q.style.position="relative";this.subtractsBorderForOverflowNotVisible=v.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=g.offsetTop!==H;g.removeChild(j);k.offset.initialize=
k.noop},bodyOffset:function(g){var j=g.offsetTop,q=g.offsetLeft;k.offset.initialize();if(k.offset.doesNotIncludeMarginInBodyOffset){j+=parseFloat(k.css(g,"marginTop"))||0;q+=parseFloat(k.css(g,"marginLeft"))||0}return{top:j,left:q}},setOffset:function(g,j,q){var v=k.css(g,"position");if(v==="static")g.style.position="relative";var A=k(g),H=A.offset(),L=k.css(g,"top"),P=k.css(g,"left"),S=v==="absolute"&&k.inArray("auto",[L,P])>-1;v={};var da={};if(S)da=A.position();L=S?da.top:parseInt(L,10)||0;P=S?
da.left:parseInt(P,10)||0;if(k.isFunction(j))j=j.call(g,q,H);if(j.top!=null)v.top=j.top-H.top+L;if(j.left!=null)v.left=j.left-H.left+P;"using"in j?j.using.call(g,v):A.css(v)}};k.fn.extend({position:function(){if(!this[0])return null;var g=this[0],j=this.offsetParent(),q=this.offset(),v=pb.test(j[0].nodeName)?{top:0,left:0}:j.offset();q.top-=parseFloat(k.css(g,"marginTop"))||0;q.left-=parseFloat(k.css(g,"marginLeft"))||0;v.top+=parseFloat(k.css(j[0],"borderTopWidth"))||0;v.left+=parseFloat(k.css(j[0],
"borderLeftWidth"))||0;return{top:q.top-v.top,left:q.left-v.left}},offsetParent:function(){return this.map(function(){for(var g=this.offsetParent||y.body;g&&!pb.test(g.nodeName)&&k.css(g,"position")==="static";)g=g.offsetParent;return g})}});k.each(["Left","Top"],function(g,j){var q="scroll"+j;k.fn[q]=function(v){var A=this[0],H;if(!A)return null;return v!==b?this.each(function(){if(H=x(this))H.scrollTo(!g?v:k(H).scrollLeft(),g?v:k(H).scrollTop());else this[q]=v}):(H=x(A))?"pageXOffset"in H?H[g?"pageYOffset":
"pageXOffset"]:k.support.boxModel&&H.document.documentElement[q]||H.document.body[q]:A[q]}});k.each(["Height","Width"],function(g,j){var q=j.toLowerCase();k.fn["inner"+j]=function(){return this[0]?parseFloat(k.css(this[0],q,"padding")):null};k.fn["outer"+j]=function(v){return this[0]?parseFloat(k.css(this[0],q,v?"margin":"border")):null};k.fn[q]=function(v){var A=this[0];if(!A)return v==null?null:this;if(k.isFunction(v))return this.each(function(H){var L=k(this);L[q](v.call(this,H,L[q]()))});return k.isWindow(A)?
A.document.compatMode==="CSS1Compat"&&A.document.documentElement["client"+j]||A.document.body["client"+j]:A.nodeType===9?Math.max(A.documentElement["client"+j],A.body["scroll"+j],A.documentElement["scroll"+j],A.body["offset"+j],A.documentElement["offset"+j]):v===b?parseFloat(k.css(A,q)):this.css(q,typeof v==="string"?v:v+"px")}})})(window);(function(a,b){function f(e){return!a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.4",plugin:{add:function(e,h,m){e=a.ui[e].prototype;for(var r in m){e.plugins[r]=e.plugins[r]||[];e.plugins[r].push([h,m[r]])}},call:function(e,h,m){if((h=e.plugins[h])&&e.element[0].parentNode)for(var r=0;r<h.length;r++)e.options[h[r][0]]&&h[r][1].apply(e.element,m)}},contains:function(e,
h){return document.compareDocumentPosition?e.compareDocumentPosition(h)&16:e!==h&&e.contains(h)},hasScroll:function(e,h){if(a(e).css("overflow")==="hidden")return false;h=h&&h==="left"?"scrollLeft":"scrollTop";var m=false;if(e[h]>0)return true;e[h]=1;m=e[h]>0;e[h]=0;return m},isOverAxis:function(e,h,m){return e>h&&e<h+m},isOver:function(e,h,m,r,G,I){return a.ui.isOverAxis(e,m,G)&&a.ui.isOverAxis(h,r,I)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,
CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(e,h){return typeof e==="number"?this.each(function(){var m=this;setTimeout(function(){a(m).focus();h&&h.call(m)},e)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable",
"off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none")},scrollParent:function(){var e;e=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,
"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!e.length?a(document):e},zIndex:function(e){if(e!==b)return this.css("zIndex",e);if(this.length){e=a(this[0]);for(var h;e.length&&e[0]!==document;){h=e.css("position");if(h==="absolute"||h==="relative"||h==="fixed"){h=parseInt(e.css("zIndex"));if(!isNaN(h)&&h!=0)return h}e=e.parent()}}return 0}});a.each(["Width","Height"],function(e,h){function m(D,w,u,n){a.each(r,function(){w-=
parseFloat(a.curCSS(D,"padding"+this,true))||0;if(u)w-=parseFloat(a.curCSS(D,"border"+this+"Width",true))||0;if(n)w-=parseFloat(a.curCSS(D,"margin"+this,true))||0});return w}var r=h==="Width"?["Left","Right"]:["Top","Bottom"],G=h.toLowerCase(),I={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+h]=function(D){if(D===b)return I["inner"+h].call(this);return this.each(function(){a.style(this,G,m(this,D)+"px")})};a.fn["outer"+
h]=function(D,w){if(typeof D!=="number")return I["outer"+h].call(this,D);return this.each(function(){a.style(this,G,m(this,D,true,w)+"px")})}});a.extend(a.expr[":"],{data:function(e,h,m){return!!a.data(e,m[3])},focusable:function(e){var h=e.nodeName.toLowerCase(),m=a.attr(e,"tabindex");if("area"===h){h=e.parentNode;m=h.name;if(!e.href||!m||h.nodeName.toLowerCase()!=="map")return false;e=a("img[usemap=#"+m+"]")[0];return!!e&&f(e)}return(/input|select|textarea|button|object/.test(h)?!e.disabled:"a"==
h?e.href||!isNaN(m):!isNaN(m))&&f(e)},tabbable:function(e){var h=a.attr(e,"tabindex");return(isNaN(h)||h>=0)&&a(e).is(":focusable")}})}})(jQuery);
(function(a,b){var f=a.fn.remove;a.fn.remove=function(e,h){return this.each(function(){if(!h)if(!e||a.filter(e,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return f.call(a(this),e,h)})};a.widget=function(e,h,m){var r=e.split(".")[0],G;e=e.split(".")[1];G=r+"-"+e;if(!m){m=h;h=a.Widget}a.expr[":"][G]=function(I){return!!a.data(I,e)};a[r]=a[r]||{};a[r][e]=function(I,D){arguments.length&&this._createWidget(I,D)};h=new h;h.options=a.extend(true,{},h.options);
a[r][e].prototype=a.extend(true,h,{namespace:r,widgetName:e,widgetEventPrefix:a[r][e].prototype.widgetEventPrefix||e,widgetBaseClass:G},m);a.widget.bridge(e,a[r][e])};a.widget.bridge=function(e,h){a.fn[e]=function(m){var r=typeof m==="string",G=Array.prototype.slice.call(arguments,1),I=this;m=!r&&G.length?a.extend.apply(null,[true,m].concat(G)):m;if(r&&m.substring(0,1)==="_")return I;r?this.each(function(){var D=a.data(this,e),w=D&&a.isFunction(D[m])?D[m].apply(D,G):D;if(w!==D&&w!==b){I=w;return false}}):
this.each(function(){var D=a.data(this,e);if(D){m&&D.option(m);D._init()}else a.data(this,e,new h(m,this))});return I}};a.Widget=function(e,h){arguments.length&&this._createWidget(e,h)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(e,h){a.data(h,this.widgetName,this);this.element=a(h);this.options=a.extend(true,{},this.options,a.metadata&&a.metadata.get(h)[this.widgetName],e);var m=this;this.element.bind("remove."+this.widgetName,function(){m.destroy()});
this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(e,h){var m=e,r=this;if(arguments.length===0)return a.extend({},r.options);if(typeof e==="string"){if(h===b)return this.options[e];m={};m[e]=h}a.each(m,function(G,
I){r._setOption(G,I)});return r},_setOption:function(e,h){this.options[e]=h;if(e==="disabled")this.widget()[h?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",h);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(e,h,m){var r=this.options[e];h=a.Event(h);h.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();m=m||{};if(h.originalEvent){e=
a.event.props.length;for(var G;e;){G=a.event.props[--e];h[G]=h.originalEvent[G]}}this.element.trigger(h,m);return!(a.isFunction(r)&&r.call(this.element[0],h,m)===false||h.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(f){return b._mouseDown(f)}).bind("click."+this.widgetName,function(f){if(b._preventClickEvent){b._preventClickEvent=false;f.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(!b.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(b);this._mouseDownEvent=b;var f=this,e=b.which==1,h=typeof this.options.cancel=="string"?a(b.target).parents().add(b.target).filter(this.options.cancel).length:false;if(!e||h||!this._mouseCapture(b))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){f.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==false;if(!this._mouseStarted){b.preventDefault();
return true}}this._mouseMoveDelegate=function(m){return f._mouseMove(m)};this._mouseUpDelegate=function(m){return f._mouseUp(m)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.browser.safari||b.preventDefault();return b.originalEvent.mouseHandled=true}},_mouseMove:function(b){if(a.browser.msie&&!b.button)return this._mouseUp(b);if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&
this._mouseDelayMet(b))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false)?this._mouseDrag(b):this._mouseUp(b);return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=b.target==this._mouseDownEvent.target;this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-
b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.ui=a.ui||{};var b=/left|center|right/,f=/top|center|bottom/,e=a.fn.position,h=a.fn.offset;a.fn.position=function(m){if(!m||!m.of)return e.apply(this,arguments);m=a.extend({},m);var r=a(m.of),G=(m.collision||"flip").split(" "),I=m.offset?m.offset.split(" "):[0,0],D,w,u;if(m.of.nodeType===9){D=r.width();w=r.height();u={top:0,left:0}}else if(m.of.scrollTo&&m.of.document){D=r.width();w=r.height();u={top:r.scrollTop(),left:r.scrollLeft()}}else if(m.of.preventDefault){m.at="left top";D=w=
0;u={top:m.of.pageY,left:m.of.pageX}}else{D=r.outerWidth();w=r.outerHeight();u=r.offset()}a.each(["my","at"],function(){var n=(m[this]||"").split(" ");if(n.length===1)n=b.test(n[0])?n.concat(["center"]):f.test(n[0])?["center"].concat(n):["center","center"];n[0]=b.test(n[0])?n[0]:"center";n[1]=f.test(n[1])?n[1]:"center";m[this]=n});if(G.length===1)G[1]=G[0];I[0]=parseInt(I[0],10)||0;if(I.length===1)I[1]=I[0];I[1]=parseInt(I[1],10)||0;if(m.at[0]==="right")u.left+=D;else if(m.at[0]==="center")u.left+=
D/2;if(m.at[1]==="bottom")u.top+=w;else if(m.at[1]==="center")u.top+=w/2;u.left+=I[0];u.top+=I[1];return this.each(function(){var n=a(this),t=n.outerWidth(),x=n.outerHeight(),y=a.extend({},u);if(m.my[0]==="right")y.left-=t;else if(m.my[0]==="center")y.left-=t/2;if(m.my[1]==="bottom")y.top-=x;else if(m.my[1]==="center")y.top-=x/2;y.left=parseInt(y.left);y.top=parseInt(y.top);a.each(["left","top"],function(k,ca){a.ui.position[G[k]]&&a.ui.position[G[k]][ca](y,{targetWidth:D,targetHeight:w,elemWidth:t,
elemHeight:x,offset:I,my:m.my,at:m.at})});a.fn.bgiframe&&n.bgiframe();n.offset(a.extend(y,{using:m.using}))})};a.ui.position={fit:{left:function(m,r){var G=a(window);r=m.left+r.elemWidth-G.width()-G.scrollLeft();m.left=r>0?m.left-r:Math.max(0,m.left)},top:function(m,r){var G=a(window);r=m.top+r.elemHeight-G.height()-G.scrollTop();m.top=r>0?m.top-r:Math.max(0,m.top)}},flip:{left:function(m,r){if(r.at[0]!=="center"){var G=a(window);G=m.left+r.elemWidth-G.width()-G.scrollLeft();var I=r.my[0]==="left"?
-r.elemWidth:r.my[0]==="right"?r.elemWidth:0,D=-2*r.offset[0];m.left+=m.left<0?I+r.targetWidth+D:G>0?I-r.targetWidth+D:0}},top:function(m,r){if(r.at[1]!=="center"){var G=a(window);G=m.top+r.elemHeight-G.height()-G.scrollTop();var I=r.my[1]==="top"?-r.elemHeight:r.my[1]==="bottom"?r.elemHeight:0,D=r.at[1]==="top"?r.targetHeight:-r.targetHeight,w=-2*r.offset[1];m.top+=m.top<0?I+r.targetHeight+w:G>0?I+D+w:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(m,r){if(/static/.test(a.curCSS(m,"position")))m.style.position=
"relative";var G=a(m),I=G.offset(),D=parseInt(a.curCSS(m,"top",true),10)||0,w=parseInt(a.curCSS(m,"left",true),10)||0;I={top:r.top-I.top+D,left:r.left-I.left+w};"using"in r?r.using.call(m,I):G.css(I)};a.fn.offset=function(m){var r=this[0];if(!r||!r.ownerDocument)return null;if(m)return this.each(function(){a.offset.setOffset(this,m)});return h.call(this)}}})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(b){var f=
this.options;if(this.helper||f.disabled||a(b.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(b);if(!this.handle)return false;return true},_mouseStart:function(b){var f=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-
this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);f.containment&&this._setContainment();if(this._trigger("start",b)===false){this._clear();return false}this._cacheHelperProportions();
a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,f){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!f){f=this._uiHash();if(this._trigger("drag",b,f)===false){this._mouseUp({});return false}this.position=f.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||
this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return false},_mouseStop:function(b){var f=false;if(a.ui.ddmanager&&!this.options.dropBehaviour)f=a.ui.ddmanager.drop(this,b);if(this.dropped){f=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode)return false;if(this.options.revert=="invalid"&&!f||this.options.revert=="valid"&&f||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,
f)){var e=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",b)!==false&&e._clear()})}else this._trigger("stop",b)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var f=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==
b.target)f=true});return f},_createHelper:function(b){var f=this.options;b=a.isFunction(f.helper)?a(f.helper.apply(this.element[0],[b])):f.helper=="clone"?this.element.clone():this.element;b.parents("body").length||b.appendTo(f.appendTo=="parent"?this.element[0].parentNode:f.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){if(typeof b=="string")b=b.split(" ");if(a.isArray(b))b={left:+b[0],top:+b[1]||
0};if("left"in b)this.offset.click.left=b.left+this.margins.left;if("right"in b)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if("top"in b)this.offset.click.top=b.top+this.margins.top;if("bottom"in b)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if(b.containment==
"parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&
b.containment.constructor!=Array){var f=a(b.containment)[0];if(f){b=a(b.containment).offset();var e=a(f).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(f).css("borderLeftWidth"),10)||0)+(parseInt(a(f).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(f).css("borderTopWidth"),10)||0)+(parseInt(a(f).css("paddingTop"),10)||0)-this.margins.top,b.left+(e?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(a(f).css("borderLeftWidth"),10)||0)-(parseInt(a(f).css("paddingRight"),
10)||0)-this.helperProportions.width-this.margins.left,b.top+(e?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(a(f).css("borderTopWidth"),10)||0)-(parseInt(a(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(b.containment.constructor==Array)this.containment=b.containment},_convertPositionTo:function(b,f){if(!f)f=this.position;b=b=="absolute"?1:-1;var e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(e[0].tagName);return{top:f.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:e.scrollTop())*b),left:f.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
h?0:e.scrollLeft())*b)}},_generatePosition:function(b){var f=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(e[0].tagName),m=b.pageX,r=b.pageY;if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0])m=this.containment[0]+this.offset.click.left;if(b.pageY-this.offset.click.top<this.containment[1])r=this.containment[1]+
this.offset.click.top;if(b.pageX-this.offset.click.left>this.containment[2])m=this.containment[2]+this.offset.click.left;if(b.pageY-this.offset.click.top>this.containment[3])r=this.containment[3]+this.offset.click.top}if(f.grid){r=this.originalPageY+Math.round((r-this.originalPageY)/f.grid[1])*f.grid[1];r=this.containment?!(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?r:!(r-this.offset.click.top<this.containment[1])?r-f.grid[1]:r+f.grid[1]:r;m=this.originalPageX+
Math.round((m-this.originalPageX)/f.grid[0])*f.grid[0];m=this.containment?!(m-this.offset.click.left<this.containment[0]||m-this.offset.click.left>this.containment[2])?m:!(m-this.offset.click.left<this.containment[0])?m-f.grid[0]:m+f.grid[0]:m}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:e.scrollTop()),left:m-this.offset.click.left-
this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,f,e){e=e||this._uiHash();a.ui.plugin.call(this,b,[f,e]);if(b=="drag")this.positionAbs=
this._convertPositionTo("absolute");return a.Widget.prototype._trigger.call(this,b,f,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.4"});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,f){var e=a(this).data("draggable"),h=e.options,m=a.extend({},f,{item:e.element});e.sortables=[];a(h.connectToSortable).each(function(){var r=a.data(this,"sortable");
if(r&&!r.options.disabled){e.sortables.push({instance:r,shouldRevert:r.options.revert});r._refreshItems();r._trigger("activate",b,m)}})},stop:function(b,f){var e=a(this).data("draggable"),h=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(b);this.instance.options.helper=this.instance.options._helper;
e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",b,h)}})},drag:function(b,f){var e=a(this).data("draggable"),h=this;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=
1;this.instance.currentItem=a(h).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};b.target=this.instance.currentItem[0];this.instance._mouseCapture(b,true);this.instance._mouseStart(b,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;
this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",b);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}this.instance.currentItem&&this.instance._mouseDrag(b)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",b,this.instance._uiHash(this.instance));this.instance._mouseStop(b,true);this.instance.options.helper=
this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();e._trigger("fromSortable",b);e.dropped=false}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),f=a(this).data("draggable").options;if(b.css("cursor"))f._cursor=b.css("cursor");b.css("cursor",f.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=
a(this).data("draggable").options;a(b.iframeFix===true?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(b,f){b=a(f.helper);f=a(this).data("draggable").options;
if(b.css("opacity"))f._opacity=b.css("opacity");b.css("opacity",f.opacity)},stop:function(b,f){b=a(this).data("draggable").options;b._opacity&&a(f.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML")b.overflowOffset=b.scrollParent.offset()},drag:function(b){var f=a(this).data("draggable"),e=f.options,h=false;if(f.scrollParent[0]!=document&&f.scrollParent[0].tagName!=
"HTML"){if(!e.axis||e.axis!="x")if(f.overflowOffset.top+f.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity)f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop+e.scrollSpeed;else if(b.pageY-f.overflowOffset.top<e.scrollSensitivity)f.scrollParent[0].scrollTop=h=f.scrollParent[0].scrollTop-e.scrollSpeed;if(!e.axis||e.axis!="y")if(f.overflowOffset.left+f.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity)f.scrollParent[0].scrollLeft=h=f.scrollParent[0].scrollLeft+e.scrollSpeed;else if(b.pageX-
f.overflowOffset.left<e.scrollSensitivity)f.scrollParent[0].scrollLeft=h=f.scrollParent[0].scrollLeft-e.scrollSpeed}else{if(!e.axis||e.axis!="x")if(b.pageY-a(document).scrollTop()<e.scrollSensitivity)h=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed);else if(a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity)h=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed);if(!e.axis||e.axis!="y")if(b.pageX-a(document).scrollLeft()<e.scrollSensitivity)h=a(document).scrollLeft(a(document).scrollLeft()-
e.scrollSpeed);else if(a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity)h=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed)}h!==false&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(f,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),f=b.options;b.snapElements=[];a(f.snap.constructor!=String?f.snap.items||":data(draggable)":f.snap).each(function(){var e=a(this),h=e.offset();this!=b.element[0]&&b.snapElements.push({item:this,
width:e.outerWidth(),height:e.outerHeight(),top:h.top,left:h.left})})},drag:function(b,f){for(var e=a(this).data("draggable"),h=e.options,m=h.snapTolerance,r=f.offset.left,G=r+e.helperProportions.width,I=f.offset.top,D=I+e.helperProportions.height,w=e.snapElements.length-1;w>=0;w--){var u=e.snapElements[w].left,n=u+e.snapElements[w].width,t=e.snapElements[w].top,x=t+e.snapElements[w].height;if(u-m<r&&r<n+m&&t-m<I&&I<x+m||u-m<r&&r<n+m&&t-m<D&&D<x+m||u-m<G&&G<n+m&&t-m<I&&I<x+m||u-m<G&&G<n+m&&t-m<D&&
D<x+m){if(h.snapMode!="inner"){var y=Math.abs(t-D)<=m,k=Math.abs(x-I)<=m,ca=Math.abs(u-G)<=m,X=Math.abs(n-r)<=m;if(y)f.position.top=e._convertPositionTo("relative",{top:t-e.helperProportions.height,left:0}).top-e.margins.top;if(k)f.position.top=e._convertPositionTo("relative",{top:x,left:0}).top-e.margins.top;if(ca)f.position.left=e._convertPositionTo("relative",{top:0,left:u-e.helperProportions.width}).left-e.margins.left;if(X)f.position.left=e._convertPositionTo("relative",{top:0,left:n}).left-
e.margins.left}var na=y||k||ca||X;if(h.snapMode!="outer"){y=Math.abs(t-I)<=m;k=Math.abs(x-D)<=m;ca=Math.abs(u-r)<=m;X=Math.abs(n-G)<=m;if(y)f.position.top=e._convertPositionTo("relative",{top:t,left:0}).top-e.margins.top;if(k)f.position.top=e._convertPositionTo("relative",{top:x-e.helperProportions.height,left:0}).top-e.margins.top;if(ca)f.position.left=e._convertPositionTo("relative",{top:0,left:u}).left-e.margins.left;if(X)f.position.left=e._convertPositionTo("relative",{top:0,left:n-e.helperProportions.width}).left-
e.margins.left}if(!e.snapElements[w].snapping&&(y||k||ca||X||na))e.options.snap.snap&&e.options.snap.snap.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[w].item}));e.snapElements[w].snapping=y||k||ca||X||na}else{e.snapElements[w].snapping&&e.options.snap.release&&e.options.snap.release.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[w].item}));e.snapElements[w].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options;
b=a.makeArray(a(b.stack)).sort(function(e,h){return(parseInt(a(e).css("zIndex"),10)||0)-(parseInt(a(h).css("zIndex"),10)||0)});if(b.length){var f=parseInt(b[0].style.zIndex)||0;a(b).each(function(e){this.style.zIndex=f+e});this[0].style.zIndex=f+b.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(b,f){b=a(f.helper);f=a(this).data("draggable").options;if(b.css("zIndex"))f._zIndex=b.css("zIndex");b.css("zIndex",f.zIndex)},stop:function(b,f){b=a(this).data("draggable").options;b._zIndex&&
a(f.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,f=b.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(f)?f:function(e){return e.is(f)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);
b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],f=0;f<b.length;f++)b[f]==this&&b.splice(f,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,f){if(b=="accept")this.accept=a.isFunction(f)?f:function(e){return e.is(f)};a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var f=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);f&&this._trigger("activate",b,this.ui(f))},_deactivate:function(b){var f=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);f&&this._trigger("deactivate",b,this.ui(f))},_over:function(b){var f=a.ui.ddmanager.current;if(!(!f||(f.currentItem||f.element)[0]==this.element[0]))if(this.accept.call(this.element[0],f.currentItem||f.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",b,this.ui(f))}},_out:function(b){var f=a.ui.ddmanager.current;if(!(!f||(f.currentItem||f.element)[0]==this.element[0]))if(this.accept.call(this.element[0],f.currentItem||f.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",b,this.ui(f))}},_drop:function(b,f){var e=f||a.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0])return false;var h=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var m=
a.data(this,"droppable");if(m.options.greedy&&!m.options.disabled&&m.options.scope==e.options.scope&&m.accept.call(m.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(m,{offset:m.element.offset()}),m.options.tolerance)){h=true;return false}});if(h)return false;if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
b,this.ui(e));return this.element}return false},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.4"});a.ui.intersect=function(b,f,e){if(!f.offset)return false;var h=(b.positionAbs||b.position.absolute).left,m=h+b.helperProportions.width,r=(b.positionAbs||b.position.absolute).top,G=r+b.helperProportions.height,I=f.offset.left,D=I+f.proportions.width,w=f.offset.top,u=w+f.proportions.height;switch(e){case "fit":return I<=
h&&m<=D&&w<=r&&G<=u;case "intersect":return I<h+b.helperProportions.width/2&&m-b.helperProportions.width/2<D&&w<r+b.helperProportions.height/2&&G-b.helperProportions.height/2<u;case "pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,w,I,f.proportions.height,f.proportions.width);case "touch":return(r>=w&&r<=u||G>=w&&G<=u||r<w&&G>u)&&(h>=I&&h<=D||m>=I&&m<=D||h<I&&m>D);
default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,f){var e=a.ui.ddmanager.droppables[b.options.scope]||[],h=f?f.type:null,m=(b.currentItem||b.element).find(":data(droppable)").andSelf(),r=0;a:for(;r<e.length;r++)if(!(e[r].options.disabled||b&&!e[r].accept.call(e[r].element[0],b.currentItem||b.element))){for(var G=0;G<m.length;G++)if(m[G]==e[r].element[0]){e[r].proportions.height=0;continue a}e[r].visible=e[r].element.css("display")!="none";if(e[r].visible){e[r].offset=
e[r].element.offset();e[r].proportions={width:e[r].element[0].offsetWidth,height:e[r].element[0].offsetHeight};h=="mousedown"&&e[r]._activate.call(e[r],f)}}},drop:function(b,f){var e=false;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance))e=e||this._drop.call(this,f);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)){this.isout=1;
this.isover=0;this._deactivate.call(this,f)}}});return e},drag:function(b,f){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,f);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var e=a.ui.intersect(b,this,this.options.tolerance);if(e=!e&&this.isover==1?"isout":e&&this.isover==0?"isover":null){var h;if(this.options.greedy){var m=this.element.parents(":data(droppable):eq(0)");if(m.length){h=a.data(m[0],"droppable");
h.greedyChild=e=="isover"?1:0}}if(h&&e=="isover"){h.isover=0;h.isout=1;h._out.call(h,f)}this[e]=1;this[e=="isout"?"isover":"isout"]=0;this[e=="isover"?"_over":"_out"].call(this,f);if(h&&e=="isout"){h.isout=0;h.isover=1;h._over.call(h,f)}}}})}}})(jQuery);
(function(a){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var e=this,h=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!h.aspectRatio,aspectRatio:h.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:h.helper||h.ghost||h.animate?h.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),
top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=
this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=h.handles||(!a(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",
nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var m=this.handles.split(",");this.handles={};for(var r=0;r<m.length;r++){var G=a.trim(m[r]),I=a('<div class="ui-resizable-handle '+("ui-resizable-"+G)+'"></div>');/sw|se|ne|nw/.test(G)&&I.css({zIndex:++h.zIndex});"se"==G&&I.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[G]=".ui-resizable-"+G;this.element.append(I)}}this._renderAxis=function(D){D=D||this.element;for(var w in this.handles){if(this.handles[w].constructor==
String)this.handles[w]=a(this.handles[w],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var u=a(this.handles[w],this.element),n=0;n=/sw|ne|nw|se|n|s/.test(w)?u.outerHeight():u.outerWidth();u=["padding",/ne|nw|n/.test(w)?"Top":/se|sw|s/.test(w)?"Bottom":/^e$/.test(w)?"Right":"Left"].join("");D.css(u,n);this._proportionallyResize()}a(this.handles[w])}};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){if(!e.resizing){if(this.className)var D=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=D&&D[1]?D[1]:"se"}});if(h.autoHide){this._handles.hide();a(this.element).addClass("ui-resizable-autohide").hover(function(){a(this).removeClass("ui-resizable-autohide");e._handles.show()},function(){if(!e.resizing){a(this).addClass("ui-resizable-autohide");e._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(m){a(m).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){e(this.element);var h=this.element;h.after(this.originalElement.css({position:h.css("position"),width:h.outerWidth(),height:h.outerHeight(),top:h.css("top"),left:h.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(e){var h=false;for(var m in this.handles)if(a(this.handles[m])[0]==e.target)h=true;return!this.options.disabled&&h},_mouseStart:function(e){var h=this.options,m=this.element.position(),
r=this.element;this.resizing=true;this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()};if(r.is(".ui-draggable")||/absolute/.test(r.css("position")))r.css({position:"absolute",top:m.top,left:m.left});a.browser.opera&&/relative/.test(r.css("position"))&&r.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();m=b(this.helper.css("left"));var G=b(this.helper.css("top"));if(h.containment){m+=a(h.containment).scrollLeft()||0;G+=a(h.containment).scrollTop()||0}this.offset=
this.helper.offset();this.position={left:m,top:G};this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()};this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()};this.originalPosition={left:m,top:G};this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof h.aspectRatio=="number"?h.aspectRatio:
this.originalSize.width/this.originalSize.height||1;h=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor",h=="auto"?this.axis+"-resize":h);r.addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var h=this.helper,m=this.originalMousePosition,r=this._change[this.axis];if(!r)return false;m=r.apply(this,[e,e.pageX-m.left||0,e.pageY-m.top||0]);if(this._aspectRatio||e.shiftKey)m=this._updateRatio(m,e);m=this._respectSize(m,e);this._propagate("resize",
e);h.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(m);this._trigger("resize",e,this.ui());return false},_mouseStop:function(e){this.resizing=false;var h=this.options;if(this._helper){var m=this._proportionallyResizeElements,r=m.length&&/textarea/i.test(m[0].nodeName);m=r&&a.ui.hasScroll(m[0],"left")?0:this.sizeDiff.height;
r={width:this.size.width-(r?0:this.sizeDiff.width),height:this.size.height-m};m=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null;var G=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;h.animate||this.element.css(a.extend(r,{top:G,left:m}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!h.animate&&this._proportionallyResize()}a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");
this._propagate("stop",e);this._helper&&this.helper.remove();return false},_updateCache:function(e){this.offset=this.helper.offset();if(f(e.left))this.position.left=e.left;if(f(e.top))this.position.top=e.top;if(f(e.height))this.size.height=e.height;if(f(e.width))this.size.width=e.width},_updateRatio:function(e){var h=this.position,m=this.size,r=this.axis;if(e.height)e.width=m.height*this.aspectRatio;else if(e.width)e.height=m.width/this.aspectRatio;if(r=="sw"){e.left=h.left+(m.width-e.width);e.top=
null}if(r=="nw"){e.top=h.top+(m.height-e.height);e.left=h.left+(m.width-e.width)}return e},_respectSize:function(e){var h=this.options,m=this.axis,r=f(e.width)&&h.maxWidth&&h.maxWidth<e.width,G=f(e.height)&&h.maxHeight&&h.maxHeight<e.height,I=f(e.width)&&h.minWidth&&h.minWidth>e.width,D=f(e.height)&&h.minHeight&&h.minHeight>e.height;if(I)e.width=h.minWidth;if(D)e.height=h.minHeight;if(r)e.width=h.maxWidth;if(G)e.height=h.maxHeight;var w=this.originalPosition.left+this.originalSize.width,u=this.position.top+
this.size.height,n=/sw|nw|w/.test(m);m=/nw|ne|n/.test(m);if(I&&n)e.left=w-h.minWidth;if(r&&n)e.left=w-h.maxWidth;if(D&&m)e.top=u-h.minHeight;if(G&&m)e.top=u-h.maxHeight;if((h=!e.width&&!e.height)&&!e.left&&e.top)e.top=null;else if(h&&!e.top&&e.left)e.left=null;return e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e=this.helper||this.element,h=0;h<this._proportionallyResizeElements.length;h++){var m=this._proportionallyResizeElements[h];if(!this.borderDif){var r=
[m.css("borderTopWidth"),m.css("borderRightWidth"),m.css("borderBottomWidth"),m.css("borderLeftWidth")],G=[m.css("paddingTop"),m.css("paddingRight"),m.css("paddingBottom"),m.css("paddingLeft")];this.borderDif=a.map(r,function(I,D){I=parseInt(I,10)||0;D=parseInt(G[D],10)||0;return I+D})}a.browser.msie&&(a(e).is(":hidden")||a(e).parents(":hidden").length)||m.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=
this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var h=a.browser.msie&&a.browser.version<7,m=h?1:0;h=h?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-m+"px",top:this.elementOffset.top-m+"px",zIndex:++e.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,
h){return{width:this.originalSize.width+h}},w:function(e,h){return{left:this.originalPosition.left+h,width:this.originalSize.width-h}},n:function(e,h,m){return{top:this.originalPosition.top+m,height:this.originalSize.height-m}},s:function(e,h,m){return{height:this.originalSize.height+m}},se:function(e,h,m){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,h,m]))},sw:function(e,h,m){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,h,
m]))},ne:function(e,h,m){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,h,m]))},nw:function(e,h,m){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,h,m]))}},_propagate:function(e,h){a.ui.plugin.call(this,e,[h,this.ui()]);e!="resize"&&this._trigger(e,h,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,
originalPosition:this.originalPosition}}});a.extend(a.ui.resizable,{version:"1.8.4"});a.ui.plugin.add("resizable","alsoResize",{start:function(){var e=a(this).data("resizable").options,h=function(m){a(m).each(function(){var r=a(this);r.data("resizable-alsoresize",{width:parseInt(r.width(),10),height:parseInt(r.height(),10),left:parseInt(r.css("left"),10),top:parseInt(r.css("top"),10),position:r.css("position")})})};if(typeof e.alsoResize=="object"&&!e.alsoResize.parentNode)if(e.alsoResize.length){e.alsoResize=
e.alsoResize[0];h(e.alsoResize)}else a.each(e.alsoResize,function(m){h(m)});else h(e.alsoResize)},resize:function(e,h){var m=a(this).data("resizable");e=m.options;var r=m.originalSize,G=m.originalPosition,I={height:m.size.height-r.height||0,width:m.size.width-r.width||0,top:m.position.top-G.top||0,left:m.position.left-G.left||0},D=function(w,u){a(w).each(function(){var n=a(this),t=a(this).data("resizable-alsoresize"),x={},y=u&&u.length?u:n.parents(h.originalElement[0]).length?["width","height"]:["width",
"height","top","left"];a.each(y,function(k,ca){if((k=(t[ca]||0)+(I[ca]||0))&&k>=0)x[ca]=k||null});if(a.browser.opera&&/relative/.test(n.css("position"))){m._revertToRelativePosition=true;n.css({position:"absolute",top:"auto",left:"auto"})}n.css(x)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(w,u){D(w,u)}):D(e.alsoResize)},stop:function(){var e=a(this).data("resizable"),h=e.options,m=function(r){a(r).each(function(){var G=a(this);G.css({position:G.data("resizable-alsoresize").position})})};
if(e._revertToRelativePosition){e._revertToRelativePosition=false;typeof h.alsoResize=="object"&&!h.alsoResize.nodeType?a.each(h.alsoResize,function(r){m(r)}):m(h.alsoResize)}a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","animate",{stop:function(e){var h=a(this).data("resizable"),m=h.options,r=h._proportionallyResizeElements,G=r.length&&/textarea/i.test(r[0].nodeName),I=G&&a.ui.hasScroll(r[0],"left")?0:h.sizeDiff.height;G={width:h.size.width-(G?0:h.sizeDiff.width),height:h.size.height-
I};I=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null;var D=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null;h.element.animate(a.extend(G,D&&I?{top:D,left:I}:{}),{duration:m.animateDuration,easing:m.animateEasing,step:function(){var w={width:parseInt(h.element.css("width"),10),height:parseInt(h.element.css("height"),10),top:parseInt(h.element.css("top"),10),left:parseInt(h.element.css("left"),10)};r&&r.length&&a(r[0]).css({width:w.width,
height:w.height});h._updateCache(w);h._propagate("resize",e)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var e=a(this).data("resizable"),h=e.element,m=e.options.containment;if(h=m instanceof a?m.get(0):/parent/.test(m)?h.parent().get(0):m){e.containerElement=a(h);if(/document/.test(m)||m==document){e.containerOffset={left:0,top:0};e.containerPosition={left:0,top:0};e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}}else{var r=
a(h),G=[];a(["Top","Right","Left","Bottom"]).each(function(w,u){G[w]=b(r.css("padding"+u))});e.containerOffset=r.offset();e.containerPosition=r.position();e.containerSize={height:r.innerHeight()-G[3],width:r.innerWidth()-G[1]};m=e.containerOffset;var I=e.containerSize.height,D=e.containerSize.width;D=a.ui.hasScroll(h,"left")?h.scrollWidth:D;I=a.ui.hasScroll(h)?h.scrollHeight:I;e.parentData={element:h,left:m.left,top:m.top,width:D,height:I}}}},resize:function(e){var h=a(this).data("resizable"),m=h.options,
r=h.containerOffset,G=h.position;e=h._aspectRatio||e.shiftKey;var I={top:0,left:0},D=h.containerElement;if(D[0]!=document&&/static/.test(D.css("position")))I=r;if(G.left<(h._helper?r.left:0)){h.size.width+=h._helper?h.position.left-r.left:h.position.left-I.left;if(e)h.size.height=h.size.width/m.aspectRatio;h.position.left=m.helper?r.left:0}if(G.top<(h._helper?r.top:0)){h.size.height+=h._helper?h.position.top-r.top:h.position.top;if(e)h.size.width=h.size.height*m.aspectRatio;h.position.top=h._helper?
r.top:0}h.offset.left=h.parentData.left+h.position.left;h.offset.top=h.parentData.top+h.position.top;m=Math.abs((h._helper?h.offset.left-I.left:h.offset.left-I.left)+h.sizeDiff.width);r=Math.abs((h._helper?h.offset.top-I.top:h.offset.top-r.top)+h.sizeDiff.height);G=h.containerElement.get(0)==h.element.parent().get(0);I=/relative|absolute/.test(h.containerElement.css("position"));if(G&&I)m-=h.parentData.left;if(m+h.size.width>=h.parentData.width){h.size.width=h.parentData.width-m;if(e)h.size.height=
h.size.width/h.aspectRatio}if(r+h.size.height>=h.parentData.height){h.size.height=h.parentData.height-r;if(e)h.size.width=h.size.height*h.aspectRatio}},stop:function(){var e=a(this).data("resizable"),h=e.options,m=e.containerOffset,r=e.containerPosition,G=e.containerElement,I=a(e.helper),D=I.offset(),w=I.outerWidth()-e.sizeDiff.width;I=I.outerHeight()-e.sizeDiff.height;e._helper&&!h.animate&&/relative/.test(G.css("position"))&&a(this).css({left:D.left-r.left-m.left,width:w,height:I});e._helper&&!h.animate&&
/static/.test(G.css("position"))&&a(this).css({left:D.left-r.left-m.left,width:w,height:I})}});a.ui.plugin.add("resizable","ghost",{start:function(){var e=a(this).data("resizable"),h=e.options,m=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:0.25,display:"block",position:"relative",height:m.height,width:m.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof h.ghost=="string"?h.ghost:"");e.ghost.appendTo(e.helper)},resize:function(){var e=a(this).data("resizable");
e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=a(this).data("resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var e=a(this).data("resizable"),h=e.options,m=e.size,r=e.originalSize,G=e.originalPosition,I=e.axis;h.grid=typeof h.grid=="number"?[h.grid,h.grid]:h.grid;var D=Math.round((m.width-r.width)/(h.grid[0]||1))*(h.grid[0]||1);h=Math.round((m.height-r.height)/
(h.grid[1]||1))*(h.grid[1]||1);if(/^(se|s|e)$/.test(I)){e.size.width=r.width+D;e.size.height=r.height+h}else if(/^(ne)$/.test(I)){e.size.width=r.width+D;e.size.height=r.height+h;e.position.top=G.top-h}else{if(/^(sw)$/.test(I)){e.size.width=r.width+D;e.size.height=r.height+h}else{e.size.width=r.width+D;e.size.height=r.height+h;e.position.top=G.top-h}e.position.left=G.left-D}}});var b=function(e){return parseInt(e,10)||0},f=function(e){return!isNaN(parseInt(e,10))}})(jQuery);
(function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable");this.dragged=false;var f;this.refresh=function(){f=a(b.options.filter,b.element[0]);f.each(function(){var e=a(this),h=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:h.left,top:h.top,right:h.left+e.outerWidth(),bottom:h.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),
selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=f.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(b){var f=this;this.opos=[b.pageX,
b.pageY];if(!this.options.disabled){var e=this.options;this.selectees=a(e.filter,this.element[0]);this._trigger("start",b);a(e.appendTo).append(this.helper);this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0});e.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var h=a.data(this,"selectable-item");h.startselected=true;if(!b.metaKey){h.$element.removeClass("ui-selected");h.selected=false;h.$element.addClass("ui-unselecting");h.unselecting=true;f._trigger("unselecting",
b,{unselecting:h.element})}});a(b.target).parents().andSelf().each(function(){var h=a.data(this,"selectable-item");if(h){var m=!b.metaKey||!h.$element.hasClass("ui-selected");h.$element.removeClass(m?"ui-unselecting":"ui-selected").addClass(m?"ui-selecting":"ui-unselecting");h.unselecting=!m;h.selecting=m;(h.selected=m)?f._trigger("selecting",b,{selecting:h.element}):f._trigger("unselecting",b,{unselecting:h.element});return false}})}},_mouseDrag:function(b){var f=this;this.dragged=true;if(!this.options.disabled){var e=
this.options,h=this.opos[0],m=this.opos[1],r=b.pageX,G=b.pageY;if(h>r){var I=r;r=h;h=I}if(m>G){I=G;G=m;m=I}this.helper.css({left:h,top:m,width:r-h,height:G-m});this.selectees.each(function(){var D=a.data(this,"selectable-item");if(!(!D||D.element==f.element[0])){var w=false;if(e.tolerance=="touch")w=!(D.left>r||D.right<h||D.top>G||D.bottom<m);else if(e.tolerance=="fit")w=D.left>h&&D.right<r&&D.top>m&&D.bottom<G;if(w){if(D.selected){D.$element.removeClass("ui-selected");D.selected=false}if(D.unselecting){D.$element.removeClass("ui-unselecting");
D.unselecting=false}if(!D.selecting){D.$element.addClass("ui-selecting");D.selecting=true;f._trigger("selecting",b,{selecting:D.element})}}else{if(D.selecting)if(b.metaKey&&D.startselected){D.$element.removeClass("ui-selecting");D.selecting=false;D.$element.addClass("ui-selected");D.selected=true}else{D.$element.removeClass("ui-selecting");D.selecting=false;if(D.startselected){D.$element.addClass("ui-unselecting");D.unselecting=true}f._trigger("unselecting",b,{unselecting:D.element})}if(D.selected)if(!b.metaKey&&
!D.startselected){D.$element.removeClass("ui-selected");D.selected=false;D.$element.addClass("ui-unselecting");D.unselecting=true;f._trigger("unselecting",b,{unselecting:D.element})}}}});return false}},_mouseStop:function(b){var f=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=false;e.startselected=false;f._trigger("unselected",b,{unselected:e.element})});a(".ui-selecting",this.element[0]).each(function(){var e=
a.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=false;e.selected=true;e.startselected=true;f._trigger("selected",b,{selected:e.element})});this._trigger("stop",b);this.helper.remove();return false}});a.extend(a.ui.selectable,{version:"1.8.4"})})(jQuery);
(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--)this.items[b].item.removeData("sortable-item");return this},_setOption:function(b,f){if(b==="disabled"){this.options[b]=f;this.widget()[f?"addClass":"removeClass"]("ui-sortable-disabled")}else a.Widget.prototype._setOption.apply(this,
arguments)},_mouseCapture:function(b,f){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(b);var e=null,h=this;a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==h){e=a(this);return false}});if(a.data(b.target,"sortable-item")==h)e=a(b.target);if(!e)return false;if(this.options.handle&&!f){var m=false;a(this.options.handle,e).find("*").andSelf().each(function(){if(this==b.target)m=true});if(!m)return false}this.currentItem=
e;this._removeCurrentsFromItems();return true},_mouseStart:function(b,f,e){f=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,
{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;f.cursorAt&&this._adjustOffsetFromHelper(f.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();f.containment&&this._setContainment();
if(f.cursor){if(a("body").css("cursor"))this._storedCursor=a("body").css("cursor");a("body").css("cursor",f.cursor)}if(f.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",f.opacity)}if(f.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",f.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",
b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));if(a.ui.ddmanager)a.ui.ddmanager.current=this;a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);return true},_mouseDrag:function(b){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");
if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var f=this.options,e=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<f.scrollSensitivity)this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+f.scrollSpeed;else if(b.pageY-this.overflowOffset.top<f.scrollSensitivity)this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-f.scrollSpeed;if(this.overflowOffset.left+
this.scrollParent[0].offsetWidth-b.pageX<f.scrollSensitivity)this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+f.scrollSpeed;else if(b.pageX-this.overflowOffset.left<f.scrollSensitivity)this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-f.scrollSpeed}else{if(b.pageY-a(document).scrollTop()<f.scrollSensitivity)e=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed);else if(a(window).height()-(b.pageY-a(document).scrollTop())<f.scrollSensitivity)e=a(document).scrollTop(a(document).scrollTop()+
f.scrollSpeed);if(b.pageX-a(document).scrollLeft()<f.scrollSensitivity)e=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed);else if(a(window).width()-(b.pageX-a(document).scrollLeft())<f.scrollSensitivity)e=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}e!==false&&a.ui.ddmanager&&!f.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+
"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(f=this.items.length-1;f>=0;f--){e=this.items[f];var h=e.item[0],m=this._intersectsWithPointer(e);if(m)if(h!=this.currentItem[0]&&this.placeholder[m==1?"next":"prev"]()[0]!=h&&!a.ui.contains(this.placeholder[0],h)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],h):true)){this.direction=m==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(e))this._rearrange(b,
e);else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b);a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(b,f){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var e=this;f=e.placeholder.offset();e.reverting=true;a(this.helper).animate({left:f.left-this.offset.parent.left-e.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-e.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(b)})}else this._clear(b,f);return false}},cancel:function(){if(this.dragging){this._mouseUp();this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",
null,this._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,this._uiHash(this));this.containers[b].containerCache.over=0}}}this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):
a(this.domPosition.parent).prepend(this.currentItem);return this},serialize:function(b){var f=this._getItemsAsjQuery(b&&b.connected),e=[];b=b||{};a(f).each(function(){var h=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);if(h)e.push((b.key||h[1]+"[]")+"="+(b.key&&b.expression?h[1]:h[2]))});!e.length&&b.key&&e.push(b.key+"=");return e.join("&")},toArray:function(b){var f=this._getItemsAsjQuery(b&&b.connected),e=[];b=b||{};f.each(function(){e.push(a(b.item||this).attr(b.attribute||
"id")||"")});return e},_intersectsWith:function(b){var f=this.positionAbs.left,e=f+this.helperProportions.width,h=this.positionAbs.top,m=h+this.helperProportions.height,r=b.left,G=r+b.width,I=b.top,D=I+b.height,w=this.offset.click.top,u=this.offset.click.left;w=h+w>I&&h+w<D&&f+u>r&&f+u<G;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?w:r<f+
this.helperProportions.width/2&&e-this.helperProportions.width/2<G&&I<h+this.helperProportions.height/2&&m-this.helperProportions.height/2<D},_intersectsWithPointer:function(b){var f=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width);f=f&&b;b=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();if(!f)return false;return this.floating?e&&e=="right"||b=="down"?2:1:b&&(b=="down"?
2:1)},_intersectsWithSides:function(b){var f=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var e=this._getDragVerticalDirection(),h=this._getDragHorizontalDirection();return this.floating&&h?h=="right"&&b||h=="left"&&!b:e&&(e=="down"&&f||e=="up"&&!f)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},
_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(b){var f=[],e=[],h=this._connectWith();if(h&&b)for(b=h.length-1;b>=0;b--)for(var m=a(h[b]),r=m.length-1;r>=0;r--){var G=a.data(m[r],"sortable");if(G&&G!=
this&&!G.options.disabled)e.push([a.isFunction(G.options.items)?G.options.items.call(G.element):a(G.options.items,G.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),G])}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=e.length-1;b>=0;b--)e[b][0].each(function(){f.push(this)});return a(f)},_removeCurrentsFromItems:function(){for(var b=
this.currentItem.find(":data(sortable-item)"),f=0;f<this.items.length;f++)for(var e=0;e<b.length;e++)b[e]==this.items[f].item[0]&&this.items.splice(f,1)},_refreshItems:function(b){this.items=[];this.containers=[this];var f=this.items,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],h=this._connectWith();if(h)for(var m=h.length-1;m>=0;m--)for(var r=a(h[m]),G=r.length-1;G>=0;G--){var I=a.data(r[G],"sortable");
if(I&&I!=this&&!I.options.disabled){e.push([a.isFunction(I.options.items)?I.options.items.call(I.element[0],b,{item:this.currentItem}):a(I.options.items,I.element),I]);this.containers.push(I)}}for(m=e.length-1;m>=0;m--){b=e[m][1];h=e[m][0];G=0;for(r=h.length;G<r;G++){I=a(h[G]);I.data("sortable-item",b);f.push({item:I,instance:b,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();for(var f=this.items.length-1;f>=
0;f--){var e=this.items[f],h=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;if(!b){e.width=h.outerWidth();e.height=h.outerHeight()}h=h.offset();e.left=h.left;e.top=h.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(f=this.containers.length-1;f>=0;f--){h=this.containers[f].element.offset();this.containers[f].containerCache.left=h.left;this.containers[f].containerCache.top=h.top;this.containers[f].containerCache.width=
this.containers[f].element.outerWidth();this.containers[f].containerCache.height=this.containers[f].element.outerHeight()}return this},_createPlaceholder:function(b){var f=b||this,e=f.options;if(!e.placeholder||e.placeholder.constructor==String){var h=e.placeholder;e.placeholder={element:function(){var m=a(document.createElement(f.currentItem[0].nodeName)).addClass(h||f.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!h)m.style.visibility="hidden";return m},
update:function(m,r){if(!(h&&!e.forcePlaceholderSize)){r.height()||r.height(f.currentItem.innerHeight()-parseInt(f.currentItem.css("paddingTop")||0,10)-parseInt(f.currentItem.css("paddingBottom")||0,10));r.width()||r.width(f.currentItem.innerWidth()-parseInt(f.currentItem.css("paddingLeft")||0,10)-parseInt(f.currentItem.css("paddingRight")||0,10))}}}}f.placeholder=a(e.placeholder.element.call(f.element,f.currentItem));f.currentItem.after(f.placeholder);e.placeholder.update(f,f.placeholder)},_contactContainers:function(b){for(var f=
null,e=null,h=this.containers.length-1;h>=0;h--)if(!a.ui.contains(this.currentItem[0],this.containers[h].element[0]))if(this._intersectsWith(this.containers[h].containerCache)){if(!(f&&a.ui.contains(this.containers[h].element[0],f.element[0]))){f=this.containers[h];e=h}}else if(this.containers[h].containerCache.over){this.containers[h]._trigger("out",b,this._uiHash(this));this.containers[h].containerCache.over=0}if(f)if(this.containers.length===1){this.containers[e]._trigger("over",b,this._uiHash(this));
this.containers[e].containerCache.over=1}else if(this.currentContainer!=this.containers[e]){f=1E4;h=null;for(var m=this.positionAbs[this.containers[e].floating?"left":"top"],r=this.items.length-1;r>=0;r--)if(a.ui.contains(this.containers[e].element[0],this.items[r].item[0])){var G=this.items[r][this.containers[e].floating?"left":"top"];if(Math.abs(G-m)<f){f=Math.abs(G-m);h=this.items[r]}}if(h||this.options.dropOnEmpty){this.currentContainer=this.containers[e];h?this._rearrange(b,h,null,true):this._rearrange(b,
null,this.containers[e].element,true);this._trigger("change",b,this._uiHash());this.containers[e]._trigger("change",b,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[e]._trigger("over",b,this._uiHash(this));this.containers[e].containerCache.over=1}}},_createHelper:function(b){var f=this.options;b=a.isFunction(f.helper)?a(f.helper.apply(this.element[0],[b,this.currentItem])):f.helper=="clone"?this.currentItem.clone():this.currentItem;b.parents("body").length||
a(f.appendTo!="parent"?f.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);if(b[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(b[0].style.width==""||f.forceHelperSize)b.width(this.currentItem.width());if(b[0].style.height==""||f.forceHelperSize)b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){if(typeof b==
"string")b=b.split(" ");if(a.isArray(b))b={left:+b[0],top:+b[1]||0};if("left"in b)this.offset.click.left=b.left+this.margins.left;if("right"in b)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if("top"in b)this.offset.click.top=b.top+this.margins.top;if("bottom"in b)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition==
"absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==
"relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var b=this.options;if(b.containment=="parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var f=a(b.containment)[0];b=a(b.containment).offset();var e=a(f).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(f).css("borderLeftWidth"),10)||0)+(parseInt(a(f).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(f).css("borderTopWidth"),10)||0)+(parseInt(a(f).css("paddingTop"),10)||0)-this.margins.top,b.left+(e?Math.max(f.scrollWidth,f.offsetWidth):f.offsetWidth)-(parseInt(a(f).css("borderLeftWidth"),
10)||0)-(parseInt(a(f).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(e?Math.max(f.scrollHeight,f.offsetHeight):f.offsetHeight)-(parseInt(a(f).css("borderTopWidth"),10)||0)-(parseInt(a(f).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,f){if(!f)f=this.position;b=b=="absolute"?1:-1;var e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?
this.offsetParent:this.scrollParent,h=/(html|body)/i.test(e[0].tagName);return{top:f.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():h?0:e.scrollTop())*b),left:f.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())*b)}},_generatePosition:function(b){var f=
this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,h=/(html|body)/i.test(e[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var m=b.pageX,r=b.pageY;if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0])m=this.containment[0]+
this.offset.click.left;if(b.pageY-this.offset.click.top<this.containment[1])r=this.containment[1]+this.offset.click.top;if(b.pageX-this.offset.click.left>this.containment[2])m=this.containment[2]+this.offset.click.left;if(b.pageY-this.offset.click.top>this.containment[3])r=this.containment[3]+this.offset.click.top}if(f.grid){r=this.originalPageY+Math.round((r-this.originalPageY)/f.grid[1])*f.grid[1];r=this.containment?!(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?
r:!(r-this.offset.click.top<this.containment[1])?r-f.grid[1]:r+f.grid[1]:r;m=this.originalPageX+Math.round((m-this.originalPageX)/f.grid[0])*f.grid[0];m=this.containment?!(m-this.offset.click.left<this.containment[0]||m-this.offset.click.left>this.containment[2])?m:!(m-this.offset.click.left<this.containment[0])?m-f.grid[0]:m+f.grid[0]:m}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():
h?0:e.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():h?0:e.scrollLeft())}},_rearrange:function(b,f,e,h){e?e[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?f.item[0]:f.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var m=this,r=this.counter;window.setTimeout(function(){r==
m.counter&&m.refreshPositions(!h)},0)},_clear:function(b,f){this.reverting=false;var e=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var h in this._storedCSS)if(this._storedCSS[h]=="auto"||this._storedCSS[h]=="static")this._storedCSS[h]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!f&&e.push(function(m){this._trigger("receive",
m,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!f)e.push(function(m){this._trigger("update",m,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){f||e.push(function(m){this._trigger("remove",m,this._uiHash())});for(h=this.containers.length-1;h>=0;h--)if(a.ui.contains(this.containers[h].element[0],this.currentItem[0])&&!f){e.push(function(m){return function(r){m._trigger("receive",
r,this._uiHash(this))}}.call(this,this.containers[h]));e.push(function(m){return function(r){m._trigger("update",r,this._uiHash(this))}}.call(this,this.containers[h]))}}for(h=this.containers.length-1;h>=0;h--){f||e.push(function(m){return function(r){m._trigger("deactivate",r,this._uiHash(this))}}.call(this,this.containers[h]));if(this.containers[h].containerCache.over){e.push(function(m){return function(r){m._trigger("out",r,this._uiHash(this))}}.call(this,this.containers[h]));this.containers[h].containerCache.over=
0}}this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!f){this._trigger("beforeStop",b,this._uiHash());for(h=0;h<e.length;h++)e[h].call(this,b);this._trigger("stop",b,this._uiHash())}return false}f||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!f){for(h=0;h<e.length;h++)e[h].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(b){var f=b||this;return{helper:f.helper,placeholder:f.placeholder||a([]),position:f.position,originalPosition:f.originalPosition,offset:f.positionAbs,item:f.currentItem,sender:b?b.element:null}}});
a.extend(a.ui.sortable,{version:"1.8.4"})})(jQuery);
jQuery.effects||function(a,b){function f(w){var u;if(w&&w.constructor==Array&&w.length==3)return w;if(u=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(w))return[parseInt(u[1],10),parseInt(u[2],10),parseInt(u[3],10)];if(u=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(w))return[parseFloat(u[1])*2.55,parseFloat(u[2])*2.55,parseFloat(u[3])*2.55];if(u=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(w))return[parseInt(u[1],16),
parseInt(u[2],16),parseInt(u[3],16)];if(u=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(w))return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(w))return G.transparent;return G[a.trim(w).toLowerCase()]}function e(){var w=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,u={},n,t;if(w&&w.length&&w[0]&&w[w[0]])for(var x=w.length;x--;){n=w[x];if(typeof w[n]=="string"){t=n.replace(/\-(\w)/g,function(y,k){return k.toUpperCase()});
u[t]=w[n]}}else for(n in w)if(typeof w[n]==="string")u[n]=w[n];return u}function h(w){var u,n;for(u in w){n=w[u];if(n==null||a.isFunction(n)||u in D||/scrollbar/.test(u)||!/color/i.test(u)&&isNaN(parseFloat(n)))delete w[u]}return w}function m(w,u){var n={_:0},t;for(t in u)if(w[t]!=u[t])n[t]=u[t];return n}function r(w,u,n,t){if(typeof w=="object"){t=u;n=null;u=w;w=u.effect}if(a.isFunction(u)){t=u;n=null;u={}}if(typeof u=="number"||a.fx.speeds[u]){t=n;n=u;u={}}if(a.isFunction(n)){t=n;n=null}u=u||{};
n=n||u.duration;n=a.fx.off?0:typeof n=="number"?n:a.fx.speeds[n]||a.fx.speeds._default;t=t||u.complete;return[w,u,n,t]}a.effects={};a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(w,u){a.fx.step[u]=function(n){if(!n.colorInit){var t;t=n.elem;var x=u,y;do{y=a.curCSS(t,x);if(y!=""&&y!="transparent"||a.nodeName(t,"body"))break;x="backgroundColor"}while(t=t.parentNode);t=f(y);n.start=t;n.end=f(n.end);n.colorInit=true}n.elem.style[u]=
"rgb("+Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2],10),255),0)+")"}});var G={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,
0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,
203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},I=["add","remove","toggle"],D={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(w,u,n,t){if(a.isFunction(n)){t=n;n=null}return this.each(function(){var x=a(this),y=x.attr("style")||" ",k=h(e.call(this)),ca,X=x.attr("className");a.each(I,function(na,oa){w[oa]&&x[oa+
"Class"](w[oa])});ca=h(e.call(this));x.attr("className",X);x.animate(m(k,ca),u,n,function(){a.each(I,function(na,oa){w[oa]&&x[oa+"Class"](w[oa])});if(typeof x.attr("style")=="object"){x.attr("style").cssText="";x.attr("style").cssText=y}else x.attr("style",y);t&&t.apply(this,arguments)})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(w,u,n,t){return u?a.effects.animateClass.apply(this,[{add:w},u,n,t]):this._addClass(w)},_removeClass:a.fn.removeClass,removeClass:function(w,u,n,t){return u?
a.effects.animateClass.apply(this,[{remove:w},u,n,t]):this._removeClass(w)},_toggleClass:a.fn.toggleClass,toggleClass:function(w,u,n,t,x){return typeof u=="boolean"||u===b?n?a.effects.animateClass.apply(this,[u?{add:w}:{remove:w},n,t,x]):this._toggleClass(w,u):a.effects.animateClass.apply(this,[{toggle:w},u,n,t])},switchClass:function(w,u,n,t,x){return a.effects.animateClass.apply(this,[{add:u,remove:w},n,t,x])}});a.extend(a.effects,{version:"1.8.4",save:function(w,u){for(var n=0;n<u.length;n++)u[n]!==
null&&w.data("ec.storage."+u[n],w[0].style[u[n]])},restore:function(w,u){for(var n=0;n<u.length;n++)u[n]!==null&&w.css(u[n],w.data("ec.storage."+u[n]))},setMode:function(w,u){if(u=="toggle")u=w.is(":hidden")?"show":"hide";return u},getBaseline:function(w,u){var n;switch(w[0]){case "top":n=0;break;case "middle":n=0.5;break;case "bottom":n=1;break;default:n=w[0]/u.height}switch(w[1]){case "left":w=0;break;case "center":w=0.5;break;case "right":w=1;break;default:w=w[1]/u.width}return{x:w,y:n}},createWrapper:function(w){if(w.parent().is(".ui-effects-wrapper"))return w.parent();
var u={width:w.outerWidth(true),height:w.outerHeight(true),"float":w.css("float")},n=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});w.wrap(n);n=w.parent();if(w.css("position")=="static"){n.css({position:"relative"});w.css({position:"relative"})}else{a.extend(u,{position:w.css("position"),zIndex:w.css("z-index")});a.each(["top","left","bottom","right"],function(t,x){u[x]=w.css(x);if(isNaN(parseInt(u[x],10)))u[x]="auto"});
w.css({position:"relative",top:0,left:0})}return n.css(u).show()},removeWrapper:function(w){if(w.parent().is(".ui-effects-wrapper"))return w.parent().replaceWith(w);return w},setTransition:function(w,u,n,t){t=t||{};a.each(u,function(x,y){unit=w.cssUnit(y);if(unit[0]>0)t[y]=unit[0]*n+unit[1]});return t}});a.fn.extend({effect:function(w){var u=r.apply(this,arguments);u={options:u[1],duration:u[2],callback:u[3]};var n=a.effects[w];return n&&!a.fx.off?n.call(this,u):this},_show:a.fn.show,show:function(w){if(!w||
typeof w=="number"||a.fx.speeds[w])return this._show.apply(this,arguments);else{var u=r.apply(this,arguments);u[1].mode="show";return this.effect.apply(this,u)}},_hide:a.fn.hide,hide:function(w){if(!w||typeof w=="number"||a.fx.speeds[w])return this._hide.apply(this,arguments);else{var u=r.apply(this,arguments);u[1].mode="hide";return this.effect.apply(this,u)}},__toggle:a.fn.toggle,toggle:function(w){if(!w||typeof w=="number"||a.fx.speeds[w]||typeof w=="boolean"||a.isFunction(w))return this.__toggle.apply(this,
arguments);else{var u=r.apply(this,arguments);u[1].mode="toggle";return this.effect.apply(this,u)}},cssUnit:function(w){var u=this.css(w),n=[];a.each(["em","px","%","pt"],function(t,x){if(u.indexOf(x)>0)n=[parseFloat(u),x]});return n}});a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(w,u,n,t,x){return a.easing[a.easing.def](w,u,n,t,x)},easeInQuad:function(w,u,n,t,x){return t*(u/=x)*u+n},easeOutQuad:function(w,u,n,t,x){return-t*(u/=x)*(u-2)+n},easeInOutQuad:function(w,
u,n,t,x){if((u/=x/2)<1)return t/2*u*u+n;return-t/2*(--u*(u-2)-1)+n},easeInCubic:function(w,u,n,t,x){return t*(u/=x)*u*u+n},easeOutCubic:function(w,u,n,t,x){return t*((u=u/x-1)*u*u+1)+n},easeInOutCubic:function(w,u,n,t,x){if((u/=x/2)<1)return t/2*u*u*u+n;return t/2*((u-=2)*u*u+2)+n},easeInQuart:function(w,u,n,t,x){return t*(u/=x)*u*u*u+n},easeOutQuart:function(w,u,n,t,x){return-t*((u=u/x-1)*u*u*u-1)+n},easeInOutQuart:function(w,u,n,t,x){if((u/=x/2)<1)return t/2*u*u*u*u+n;return-t/2*((u-=2)*u*u*u-2)+
n},easeInQuint:function(w,u,n,t,x){return t*(u/=x)*u*u*u*u+n},easeOutQuint:function(w,u,n,t,x){return t*((u=u/x-1)*u*u*u*u+1)+n},easeInOutQuint:function(w,u,n,t,x){if((u/=x/2)<1)return t/2*u*u*u*u*u+n;return t/2*((u-=2)*u*u*u*u+2)+n},easeInSine:function(w,u,n,t,x){return-t*Math.cos(u/x*(Math.PI/2))+t+n},easeOutSine:function(w,u,n,t,x){return t*Math.sin(u/x*(Math.PI/2))+n},easeInOutSine:function(w,u,n,t,x){return-t/2*(Math.cos(Math.PI*u/x)-1)+n},easeInExpo:function(w,u,n,t,x){return u==0?n:t*Math.pow(2,
10*(u/x-1))+n},easeOutExpo:function(w,u,n,t,x){return u==x?n+t:t*(-Math.pow(2,-10*u/x)+1)+n},easeInOutExpo:function(w,u,n,t,x){if(u==0)return n;if(u==x)return n+t;if((u/=x/2)<1)return t/2*Math.pow(2,10*(u-1))+n;return t/2*(-Math.pow(2,-10*--u)+2)+n},easeInCirc:function(w,u,n,t,x){return-t*(Math.sqrt(1-(u/=x)*u)-1)+n},easeOutCirc:function(w,u,n,t,x){return t*Math.sqrt(1-(u=u/x-1)*u)+n},easeInOutCirc:function(w,u,n,t,x){if((u/=x/2)<1)return-t/2*(Math.sqrt(1-u*u)-1)+n;return t/2*(Math.sqrt(1-(u-=2)*
u)+1)+n},easeInElastic:function(w,u,n,t,x){var y=0,k=t;if(u==0)return n;if((u/=x)==1)return n+t;y||(y=x*0.3);if(k<Math.abs(t)){k=t;w=y/4}else w=y/(2*Math.PI)*Math.asin(t/k);return-(k*Math.pow(2,10*(u-=1))*Math.sin((u*x-w)*2*Math.PI/y))+n},easeOutElastic:function(w,u,n,t,x){var y=0,k=t;if(u==0)return n;if((u/=x)==1)return n+t;y||(y=x*0.3);if(k<Math.abs(t)){k=t;w=y/4}else w=y/(2*Math.PI)*Math.asin(t/k);return k*Math.pow(2,-10*u)*Math.sin((u*x-w)*2*Math.PI/y)+t+n},easeInOutElastic:function(w,u,n,t,x){var y=
0,k=t;if(u==0)return n;if((u/=x/2)==2)return n+t;y||(y=x*0.3*1.5);if(k<Math.abs(t)){k=t;w=y/4}else w=y/(2*Math.PI)*Math.asin(t/k);if(u<1)return-0.5*k*Math.pow(2,10*(u-=1))*Math.sin((u*x-w)*2*Math.PI/y)+n;return k*Math.pow(2,-10*(u-=1))*Math.sin((u*x-w)*2*Math.PI/y)*0.5+t+n},easeInBack:function(w,u,n,t,x,y){if(y==b)y=1.70158;return t*(u/=x)*u*((y+1)*u-y)+n},easeOutBack:function(w,u,n,t,x,y){if(y==b)y=1.70158;return t*((u=u/x-1)*u*((y+1)*u+y)+1)+n},easeInOutBack:function(w,u,n,t,x,y){if(y==b)y=1.70158;
if((u/=x/2)<1)return t/2*u*u*(((y*=1.525)+1)*u-y)+n;return t/2*((u-=2)*u*(((y*=1.525)+1)*u+y)+2)+n},easeInBounce:function(w,u,n,t,x){return t-a.easing.easeOutBounce(w,x-u,0,t,x)+n},easeOutBounce:function(w,u,n,t,x){return(u/=x)<1/2.75?t*7.5625*u*u+n:u<2/2.75?t*(7.5625*(u-=1.5/2.75)*u+0.75)+n:u<2.5/2.75?t*(7.5625*(u-=2.25/2.75)*u+0.9375)+n:t*(7.5625*(u-=2.625/2.75)*u+0.984375)+n},easeInOutBounce:function(w,u,n,t,x){if(u<x/2)return a.easing.easeInBounce(w,u*2,0,t,x)*0.5+n;return a.easing.easeOutBounce(w,
u*2-x,0,t,x)*0.5+t*0.5+n}})}(jQuery);
(function(a){a.effects.shake=function(b){return this.queue(function(){var f=a(this),e=["position","top","left"];a.effects.setMode(f,b.options.mode||"effect");var h=b.options.direction||"left",m=b.options.distance||20,r=b.options.times||3,G=b.duration||b.options.duration||140;a.effects.save(f,e);f.show();a.effects.createWrapper(f);var I=h=="up"||h=="down"?"top":"left",D=h=="up"||h=="left"?"pos":"neg";h={};var w={},u={};h[I]=(D=="pos"?"-=":"+=")+m;w[I]=(D=="pos"?"+=":"-=")+m*2;u[I]=(D=="pos"?"-=":"+=")+
m*2;f.animate(h,G,b.options.easing);for(m=1;m<r;m++)f.animate(w,G,b.options.easing).animate(u,G,b.options.easing);f.animate(w,G,b.options.easing).animate(h,G/2,b.options.easing,function(){a.effects.restore(f,e);a.effects.removeWrapper(f);b.callback&&b.callback.apply(this,arguments)});f.queue("fx",function(){f.dequeue()});f.dequeue()})}})(jQuery);Raphael.fn.piechart=function(a,b,f,e,h,m,r,G,I,D){function w(oa,Q,M,O,J,U){var aa=oa+M*Math.cos(-O*n),W=oa+M*Math.cos(-J*n);return u.path(["M",oa,Q,"L",aa,Q+M*Math.sin(-O*n),"A",M,M,0,+(J-O>180),0,W,Q+M*Math.sin(-J*n),"z"]).attr(U)}var u=this,n=Math.PI/180,t=this.set(),x=90,y=0,k=0,ca=[["#f8faf3","rgba(230, 230, 230, .2)"],["#08c4eb","#07a6c7"]];h=function(oa){var Q,M=360*e[oa]/y,O=x+M/2,J=w(a,b,f,x,x+M,{gradient:"90-"+ca[oa][1]+"-"+ca[oa][0],stroke:m,"stroke-width":r});if(I)Q=u.text(a+0.4*(f+30-
8)*Math.cos(-O*n),b+(f+30-5)*Math.sin(-O*n),e[oa]+"%").attr({fill:"#333",stroke:"none",opacity:0,"font-family":"Calibri, Lucida Sans, Helvetica, Arial","font-size":"14px","font-weight":"normal"});D&&J.mouseover(function(){J.animate({scale:[1.1,1.1,a,b]},G,"backOut");Q&&Q.animate({opacity:1},G,"backOut")}).mouseout(function(){J.animate({scale:[1,1,a,b]},G,"backOut");Q&&Q.animate({opacity:0},G)});x+=M;t.push(J);Q&&t.push(Q);k+=0.1};for(var X=0,na=e.length;X<na;X++)y+=e[X];for(X=0;X<na;X++)h(X);return t};(function(a){a.fn.piechart=function(b){var f={radius:50,xpos:100,ypos:100,width:250,height:250,stroke_color:"rgba(50, 50, 50, 0.1)",stroke_width:2,complete_text:"COMPLETE!",complete_label:"complete",complete_class:"complete",incomplete_label:"incomplete",duration:400,show_labels:true,is_hoverable:true};b&&a.extend(f,b);this.each(function(){var e=a(this),h=[],m=[],r=0,G="",I=false,D=false;e.find("tr").each(function(){if(!I&&!D){r=parseInt(a(this).find("td").text(),10);G=a(this).find("th").text();h.push(r);
m.push(G);if(G.toLowerCase()==f.complete_label.toLowerCase()&&r>=100){I=true;e.addClass("complete")}if(G.toLowerCase()==f.incomplete_label.toLowerCase()&&r>=100)D=true}});e.find("table").hide();if(I||D){var w=Raphael(e.attr("id"),f.width,f.height),u=w.set(),n=w.circle(f.xpos,f.ypos,f.radius).attr({gradient:I?"90-#fa0065-#fa2279":"90-#f8faf3-rgba(230, 230, 230, .2)",stroke:f.stroke_color,"stroke-width":f.stroke_width});u.push(n);if(I&&f.show_labels){w=w.text(f.xpos,f.ypos,f.complete_text).attr({fill:"#fff",
stroke:"none","font-family":"Calibri, Lucida Sans, Helvetica, Arial","font-size":"16px","font-weight":"bold"});u.push(w)}f.is_hoverable&&u.mouseover(function(){u.animate({scale:[1.1,1.1,f.xpos,f.ypos]},f.duration,"backOut")}).mouseout(function(){u.animate({scale:[1,1,f.xpos,f.ypos]},f.duration,"backOut")})}else Raphael(e.attr("id"),f.width,f.height).piechart(f.xpos,f.ypos,f.radius,h,m,f.stroke_color,f.stroke_width,f.duration,f.show_labels,f.is_hoverable)});return this}})(jQuery);(function(a){a.fn.jqm=function(n){var t={overlay:50,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:m,ajaxText:"",target:m,modal:m,toTop:m,onShow:m,onHide:m,onLoad:m};return this.each(function(){if(this._jqm)return f[this._jqm].c=a.extend({},f[this._jqm].c,n);b++;this._jqm=b;f[b]={c:a.extend(t,a.jqm.params,n),a:m,w:a(this).addClass("jqmID"+b),s:b};t.trigger&&a(this).jqmAddTrigger(t.trigger)})};a.fn.jqmAddClose=function(n){return u(this,n,"jqmHide")};a.fn.jqmAddTrigger=function(n){return u(this,
n,"jqmShow")};a.fn.jqmShow=function(n){return this.each(function(){n=n||window.event;a.jqm.open(this._jqm,n)})};a.fn.jqmHide=function(n){return this.each(function(){n=n||window.event;a.jqm.close(this._jqm,n)})};a.jqm={hash:{},open:function(n,t){var x=f[n],y=x.c,k="."+y.closeClass,ca=parseInt(x.w.css("z-index"));ca=ca>0?ca:3E3;var X=a("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":ca-1,opacity:y.overlay/100});if(x.a)return m;x.t=t;x.a=true;x.w.css("z-index",
ca);if(y.modal){e[0]||D("bind");e.push(n)}else if(y.overlay>0)x.w.jqmAddClose(X);else X=m;x.o=X?X.addClass(y.overlayClass).prependTo("body"):m;if(h){a("html,body").css({height:"100%",width:"100%"});if(X){X=X.css({position:"absolute"})[0];for(var na in{Top:1,Left:1})X.style.setExpression(na.toLowerCase(),"(_=(document.documentElement.scroll"+na+" || document.body.scroll"+na+"))+'px'")}}if(y.ajax){ca=y.target||x.w;X=y.ajax;ca=typeof ca=="string"?a(ca,x.w):a(ca);X=X.substr(0,1)=="@"?a(t).attr(X.substring(1)):
X;ca.html(y.ajaxText).load(X,function(){y.onLoad&&y.onLoad.call(this,x);k&&x.w.jqmAddClose(a(k,x.w));G(x)})}else k&&x.w.jqmAddClose(a(k,x.w));y.toTop&&x.o&&x.w.before('<span id="jqmP'+x.w[0]._jqm+'"></span>').insertAfter(x.o);y.onShow?y.onShow(x):x.w.show();G(x);return m},close:function(n){n=f[n];if(!n.a)return m;n.a=m;if(e[0]){e.pop();e[0]||D("unbind")}n.c.toTop&&n.o&&a("#jqmP"+n.w[0]._jqm).after(n.w).remove();if(n.c.onHide)n.c.onHide(n);else{n.w.hide();n.o&&n.o.remove()}return m},params:{}};var b=
0,f=a.jqm.hash,e=[],h=a.browser.msie&&a.browser.version=="6.0",m=false,r=a('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0}),G=function(n){if(h)if(n.o)n.o.html('<p style="width:100%;height:100%"/>').prepend(r);else a("iframe.jqm",n.w)[0]||n.w.prepend(r);I(n)},I=function(n){try{a(":input:visible",n.w)[0].focus()}catch(t){}},D=function(n){a()[n]("keypress",w)[n]("keydown",w)[n]("mousedown",w)},w=function(n){var t=f[e[e.length-1]];(n=!a(n.target).parents(".jqmID"+
t.s)[0])&&I(t);return!n},u=function(n,t,x){return n.each(function(){var y=this._jqm;a(t).each(function(){if(!this[x]){this[x]=[];a(this).click(function(){for(var k in{jqmShow:1,jqmHide:1})for(var ca in this[k])f[this[k][ca]]&&f[this[k][ca]].w[k](this);return m})}this[x].push(y)})})}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,f,e,h){return jQuery.easing[jQuery.easing.def](a,b,f,e,h)},easeInQuad:function(a,b,f,e,h){return e*(b/=h)*b+f},easeOutQuad:function(a,b,f,e,h){return-e*(b/=h)*(b-2)+f},easeInOutQuad:function(a,b,f,e,h){if((b/=h/2)<1)return e/2*b*b+f;return-e/2*(--b*(b-2)-1)+f},easeInCubic:function(a,b,f,e,h){return e*(b/=h)*b*b+f},easeOutCubic:function(a,b,f,e,h){return e*((b=b/h-1)*b*b+1)+f},easeInOutCubic:function(a,b,f,e,h){if((b/=h/2)<1)return e/
2*b*b*b+f;return e/2*((b-=2)*b*b+2)+f},easeInQuart:function(a,b,f,e,h){return e*(b/=h)*b*b*b+f},easeOutQuart:function(a,b,f,e,h){return-e*((b=b/h-1)*b*b*b-1)+f},easeInOutQuart:function(a,b,f,e,h){if((b/=h/2)<1)return e/2*b*b*b*b+f;return-e/2*((b-=2)*b*b*b-2)+f},easeInQuint:function(a,b,f,e,h){return e*(b/=h)*b*b*b*b+f},easeOutQuint:function(a,b,f,e,h){return e*((b=b/h-1)*b*b*b*b+1)+f},easeInOutQuint:function(a,b,f,e,h){if((b/=h/2)<1)return e/2*b*b*b*b*b+f;return e/2*((b-=2)*b*b*b*b+2)+f},easeInSine:function(a,
b,f,e,h){return-e*Math.cos(b/h*(Math.PI/2))+e+f},easeOutSine:function(a,b,f,e,h){return e*Math.sin(b/h*(Math.PI/2))+f},easeInOutSine:function(a,b,f,e,h){return-e/2*(Math.cos(Math.PI*b/h)-1)+f},easeInExpo:function(a,b,f,e,h){return b==0?f:e*Math.pow(2,10*(b/h-1))+f},easeOutExpo:function(a,b,f,e,h){return b==h?f+e:e*(-Math.pow(2,-10*b/h)+1)+f},easeInOutExpo:function(a,b,f,e,h){if(b==0)return f;if(b==h)return f+e;if((b/=h/2)<1)return e/2*Math.pow(2,10*(b-1))+f;return e/2*(-Math.pow(2,-10*--b)+2)+f},
easeInCirc:function(a,b,f,e,h){return-e*(Math.sqrt(1-(b/=h)*b)-1)+f},easeOutCirc:function(a,b,f,e,h){return e*Math.sqrt(1-(b=b/h-1)*b)+f},easeInOutCirc:function(a,b,f,e,h){if((b/=h/2)<1)return-e/2*(Math.sqrt(1-b*b)-1)+f;return e/2*(Math.sqrt(1-(b-=2)*b)+1)+f},easeInElastic:function(a,b,f,e,h){a=1.70158;var m=0,r=e;if(b==0)return f;if((b/=h)==1)return f+e;m||(m=h*0.3);if(r<Math.abs(e)){r=e;a=m/4}else a=m/(2*Math.PI)*Math.asin(e/r);return-(r*Math.pow(2,10*(b-=1))*Math.sin((b*h-a)*2*Math.PI/m))+f},easeOutElastic:function(a,
b,f,e,h){a=1.70158;var m=0,r=e;if(b==0)return f;if((b/=h)==1)return f+e;m||(m=h*0.3);if(r<Math.abs(e)){r=e;a=m/4}else a=m/(2*Math.PI)*Math.asin(e/r);return r*Math.pow(2,-10*b)*Math.sin((b*h-a)*2*Math.PI/m)+e+f},easeInOutElastic:function(a,b,f,e,h){a=1.70158;var m=0,r=e;if(b==0)return f;if((b/=h/2)==2)return f+e;m||(m=h*0.3*1.5);if(r<Math.abs(e)){r=e;a=m/4}else a=m/(2*Math.PI)*Math.asin(e/r);if(b<1)return-0.5*r*Math.pow(2,10*(b-=1))*Math.sin((b*h-a)*2*Math.PI/m)+f;return r*Math.pow(2,-10*(b-=1))*Math.sin((b*
h-a)*2*Math.PI/m)*0.5+e+f},easeInBack:function(a,b,f,e,h,m){if(m==undefined)m=1.70158;return e*(b/=h)*b*((m+1)*b-m)+f},easeOutBack:function(a,b,f,e,h,m){if(m==undefined)m=1.70158;return e*((b=b/h-1)*b*((m+1)*b+m)+1)+f},easeInOutBack:function(a,b,f,e,h,m){if(m==undefined)m=1.70158;if((b/=h/2)<1)return e/2*b*b*(((m*=1.525)+1)*b-m)+f;return e/2*((b-=2)*b*(((m*=1.525)+1)*b+m)+2)+f},easeInBounce:function(a,b,f,e,h){return e-jQuery.easing.easeOutBounce(a,h-b,0,e,h)+f},easeOutBounce:function(a,b,f,e,h){return(b/=
h)<1/2.75?e*7.5625*b*b+f:b<2/2.75?e*(7.5625*(b-=1.5/2.75)*b+0.75)+f:b<2.5/2.75?e*(7.5625*(b-=2.25/2.75)*b+0.9375)+f:e*(7.5625*(b-=2.625/2.75)*b+0.984375)+f},easeInOutBounce:function(a,b,f,e,h){if(b<h/2)return jQuery.easing.easeInBounce(a,b*2,0,e,h)*0.5+f;return jQuery.easing.easeOutBounce(a,b*2-h,0,e,h)*0.5+e*0.5+f}});(function(a){function b(O,J,U,aa){aa={data:aa||(J?J.data:{}),_wrap:J?J._wrap:null,tmpl:null,parent:J||null,nodes:[],calls:I,nest:D,wrap:w,html:u,update:n};O&&a.extend(aa,O,{nodes:[],parent:J});if(U){aa.tmpl=U;aa._ctnt=aa._ctnt||aa.tmpl(a,aa);aa.key=++oa;(M.length?ca:k)[oa]=aa}return aa}function f(O,J,U){var aa;U=a.map(U,function(W){return typeof W==="string"?W.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+x+'="'+O.key+'" $2'):f(W,O,W._ctnt)});if(J)return U;U=U.join("");U.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,
function(W,ea,ka,wa){aa=a(ka).get();G(aa);if(ea)aa=e(ea).concat(aa);if(wa)aa=aa.concat(e(wa))});return aa?aa:e(U)}function e(O){var J=document.createElement("div");J.innerHTML=O;return a.makeArray(J.childNodes)}function h(O){return new Function("jQuery","$item","var $=jQuery,_=[],$data=$item.data;with($data){_.push('"+$.trim(O).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\${([^}]*)}/g,"{{= $1}}").replace(/{{(\/?)(\w+|.)(?:\(((?:.(?!}}))*?)?\))?(?:\s+(.*?)?)?(\((.*?)\))?\s*}}/g,function(J,
U,aa,W,ea,ka,wa){J=a.tmpl.tags[aa];var va;if(!J)throw"Template command not found: "+aa;aa=J._default||[];if(ea){ea=r(ea);wa=wa?","+r(wa)+")":ka?")":"";if(ka&&ea.indexOf(".")>-1){ea+=ka;wa=""}ka=wa?"("+ea+").call($item"+wa:ea;va=wa?ka:"(typeof("+ea+")==='function'?("+ea+").call($item):("+ea+"))"}else ka=aa.$1||"null";W=r(W);return"');"+J[U?"close":"open"].split("$notnull_1").join("typeof("+ea+")!=='undefined' && ("+ea+")!=null").split("$1a").join(va).split("$1").join(ka).split("$2").join(W?W.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,
function(Aa,Ia,La,Ja){return(Ja=Ja?","+Ja+")":La?")":"")?"("+Ia+").call($item"+Ja:Aa}):aa.$2||"")+"_.push('"})+"');}return _;")}function m(O){if(O.wrapped){var J=O.wrapped;O._wrap=f(O,true,a.isArray(J)?J:[y.test(J)?J:a(J).html()]).join("")}}function r(O){return O?O.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function G(O){function J(Aa){function Ia(ta){ta+=U;Ea=ea[ta]=ea[ta]||b(Ea,k[Ea.parent.key+U]||Ea.parent,null,true)}var La,Ja=Aa,Ea,Fa;if(Fa=Aa.getAttribute(x)){for(;(Ja=Ja.parentNode).nodeType===
1&&!(La=Ja.getAttribute(x)););if(La!==Fa){Ja=Ja.nodeType===11?0:Ja.getAttribute(x)||0;if(!(Ea=k[Fa])){Ea=ca[Fa];Ea=b(Ea,k[Ja]||ca[Ja],null,true);Ea.key=++oa;k[oa]=Ea}Q&&Ia(Fa)}Aa.removeAttribute(x)}else if(Q&&(Ea=a.data(Aa,"tmplItem"))){Ia(Ea.key);k[Ea.key]=Ea;Ja=(Ja=a.data(Aa.parentNode,"tmplItem"))?Ja.key:0}if(Ea){for(La=Ea;La&&La.key!=Ja;){La.nodes.push(Aa);La=La.parent}delete Ea._ctnt;delete Ea._wrap;a.data(Aa,"tmplItem",Ea)}}for(var U="_"+Q,aa,W,ea={},ka=0,wa=O.length;ka<wa;ka++)if((aa=O[ka]).nodeType===
1){W=aa.getElementsByTagName("*");for(var va=W.length-1;va>=0;va--)J(W[va]);J(aa)}}function I(O,J,U,aa){if(!O)return M.pop();var W=M.length;M.push({_:O,tmpl:J,parent:W?M[W-1].item:this,item:this,data:U,options:aa})}function D(O,J,U){return a.tmpl(a.template(O),J,U,this)}function w(O,J){var U=O.options||{};U.wrapped=J;return a.tmpl(a.template(O.tmpl),O.data,U,O.parent)}function u(O,J){var U=this._wrap;return a.map(a(a.isArray(U)?U.join(""):U).filter(O||"*"),function(aa){if(J)aa=aa.innerText||aa.textContent;
else{var W;if(!(W=aa.outerHTML)){W=document.createElement("div");W.appendChild(aa.cloneNode(true));W=W.innerHTML}aa=W}return aa})}function n(){var O=this.nodes;a.tmpl(null,null,null,this).insertBefore(O[0]);a(O).remove()}var t=a.fn.domManip,x="_tmplitem",y=/^[^<]*(<[\w\W]+>)[^>]*$/,k={},ca={},X,na={key:0,data:{}},oa=0,Q=0,M=[];a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(O,J){a.fn[O]=function(U){var aa=[];U=a(U);var W=this.length===
1&&this[0].parentNode;X=k||{};if(W&&W.nodeType===11&&W.childNodes.length===1&&U.length===1){U[J](this[0]);aa=this}else{W=0;for(var ea=U.length;W<ea;W++){Q=W;var ka=(W>0?this.clone(true):this).get();a.fn[J].apply(a(U[W]),ka);aa=aa.concat(ka)}Q=0;aa=this.pushStack(aa,O,U.selector)}U=X;X=null;a.tmpl.complete(U);return aa}});a.fn.extend({tmpl:function(O,J,U){return a.tmpl(this[0],O,J,U)},tmplItem:function(){return a.tmplItem(this[0])},template:function(O){return a.template(O,this[0])},domManip:function(O,
J,U){if(O[0].nodeType){for(var aa=a.makeArray(arguments),W=O.length,ea=0,ka;ea<W&&!(ka=a.data(O[ea++],"tmplItem")););if(W>1)aa[0]=[a.makeArray(O)];if(ka&&Q)aa[2]=function(wa){a.tmpl.afterManip(this,wa,U)};t.apply(this,aa)}else t.apply(this,arguments);Q=0;X||a.tmpl.complete(k);return this}});a.extend({tmpl:function(O,J,U,aa){var W=!aa;if(W){aa=na;O=a.template[O]||a.template(null,O)}else if(!O){O=aa.tmpl;k[aa.key]=aa;aa.nodes=[];m(aa);return a(f(aa,null,aa.tmpl(a,aa)))}if(!O)return[];if(typeof J===
"function")J=J.call(aa||{});if(U&&U.wrapped){aa=b(U,aa,null,J);aa.key=++oa;ca[oa]=aa;aa.tmpl=O;m(aa)}J=a.isArray(J)?a.map(J,function(ea){return ea?b(U,aa,O,ea):null}):[b(U,aa,O,J)];return W?a(f(aa,null,J)):J},tmplItem:function(O){var J;if(O instanceof a)O=tmpl[0];for(;O&&O.nodeType===1&&!(J=a.data(O,"tmplItem"))&&(O=O.parentNode););return J||na},template:function(O,J){if(J){if(typeof J==="string")J=h(J);else if(J instanceof a)J=J[0]||{};if(J.nodeType)J=a.data(J,"tmpl")||a.data(J,"tmpl",h(J.innerHTML));
return typeof O==="string"?a.template[O]=J:J}return typeof O!=="string"?a.template(null,O):a.template[O]||a.template(null,y.test(O)?O:a(O))},encode:function(O){return(""+O).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});a.extend(a.tmpl,{tags:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},
each:{_default:{$2:"$index, $value"},open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{open:"}else{"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"}},complete:function(){k={}},afterManip:function(O,J,U){var aa=J.nodeType===11?a.makeArray(J.childNodes):J.nodeType===1?[J]:[];U.call(O,J);G(aa);Q++}})})(jQuery);(function(a){a.polling=function(b,f){if(a.isFunction(b)){f=b;wait=1E3}(function e(){setTimeout(function(){f.call(this,e)},b);b*=1.5})()}})(jQuery);(function(a){a.extend({tablesorter:new (function(){function f(Q,M){e(Q+","+((new Date).getTime()-M.getTime())+"ms")}function e(Q){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(Q):alert(Q)}function h(Q,M){if(Q.config.debug)var O="";if(Q.tBodies.length!=0){var J=Q.tBodies[0].rows;if(J[0])for(var U=[],aa=J[0].cells.length,W=0;W<aa;W++){var ea=false;if(a.metadata&&a(M[W]).metadata()&&a(M[W]).metadata().sorter)ea=m(a(M[W]).metadata().sorter);else if(Q.config.headers[W]&&Q.config.headers[W].sorter)ea=
m(Q.config.headers[W].sorter);if(!ea)a:{ea=Q;for(var ka=J,wa=-1,va=W,Aa=na.length,Ia=false,La=false,Ja=true;La==""&&Ja;){wa++;if(ka[wa]){Ia=ka[wa].cells[va];La=a.trim(G(ea.config,Ia));ea.config.debug&&e("Checking if value was empty on row:"+wa)}else Ja=false}for(ka=1;ka<Aa;ka++)if(na[ka].is(La,ea,Ia)){ea=na[ka];break a}ea=na[0]}if(Q.config.debug)O+="column:"+W+" parser:"+ea.id+"\n";U.push(ea)}Q.config.debug&&e(O);return U}}function m(Q){for(var M=na.length,O=0;O<M;O++)if(na[O].id.toLowerCase()==Q.toLowerCase())return na[O];
return false}function r(Q){if(Q.config.debug)var M=new Date;for(var O=Q.tBodies[0]&&Q.tBodies[0].rows.length||0,J=Q.tBodies[0].rows[0]&&Q.tBodies[0].rows[0].cells.length||0,U=Q.config.parsers,aa={row:[],normalized:[]},W=0;W<O;++W){var ea=a(Q.tBodies[0].rows[W]),ka=[];if(ea.hasClass(Q.config.cssChildRow))aa.row[aa.row.length-1]=aa.row[aa.row.length-1].add(ea);else{aa.row.push(ea);for(var wa=0;wa<J;++wa)ka.push(U[wa].format(G(Q.config,ea[0].cells[wa]),Q,ea[0].cells[wa]));ka.push(aa.normalized.length);
aa.normalized.push(ka)}}Q.config.debug&&f("Building cache for "+O+" rows:",M);return aa}function G(Q,M){var O="";if(!M)return"";if(!Q.supportsTextContent)Q.supportsTextContent=M.textContent||false;return O=Q.textExtraction=="simple"?Q.supportsTextContent?M.textContent:M.childNodes[0]&&M.childNodes[0].hasChildNodes()?M.childNodes[0].innerHTML:M.innerHTML:typeof Q.textExtraction=="function"?Q.textExtraction(M):a(M).text()}function I(Q,M){if(Q.config.debug)var O=new Date;for(var J=M.row,U=M.normalized,
aa=U.length,W=U[0].length-1,ea=a(Q.tBodies[0]),ka=[],wa=0;wa<aa;wa++){var va=U[wa][W];ka.push(J[va]);if(!Q.config.appender)for(var Aa=J[va].length,Ia=0;Ia<Aa;Ia++)ea[0].appendChild(J[va][Ia])}Q.config.appender&&Q.config.appender(Q,ka);ka=null;Q.config.debug&&f("Rebuilt table:",O);n(Q);setTimeout(function(){a(Q).trigger("sortEnd")},0)}function D(Q){if(Q.config.debug)var M=new Date;var O=w(Q);$tableHeaders=a(Q.config.selectorHeaders,Q).each(function(J){this.column=O[this.parentNode.rowIndex+"-"+this.cellIndex];
this.count=this.order=typeof Q.config.sortInitialOrder!="Number"?Q.config.sortInitialOrder.toLowerCase()=="desc"?1:0:Q.config.sortInitialOrder==1?1:0;var U;if(!(U=a.metadata&&a(this).metadata().sorter===false?true:false))U=Q.config.headers[J]&&Q.config.headers[J].sorter===false?true:false;if(U)this.sortDisabled=true;if(u(Q,J))this.order=this.lockedOrder=u(Q,J);if(!this.sortDisabled){U=a(this).addClass(Q.config.cssHeader);Q.config.onRenderHeader&&Q.config.onRenderHeader.apply(U)}Q.config.headerList[J]=
this});if(Q.config.debug){f("Built headers:",M);e($tableHeaders)}return $tableHeaders}function w(Q){var M=[],O={};Q=Q.getElementsByTagName("THEAD")[0].getElementsByTagName("TR");for(var J=0;J<Q.length;J++)for(var U=Q[J].cells,aa=0;aa<U.length;aa++){var W=U[aa],ea=W.parentNode.rowIndex,ka=ea+"-"+W.cellIndex,wa=W.rowSpan||1;W=W.colSpan||1;var va;if(typeof M[ea]=="undefined")M[ea]=[];for(var Aa=0;Aa<M[ea].length+1;Aa++)if(typeof M[ea][Aa]=="undefined"){va=Aa;break}O[ka]=va;for(Aa=ea;Aa<ea+wa;Aa++){if(typeof M[Aa]==
"undefined")M[Aa]=[];ka=M[Aa];for(var Ia=va;Ia<va+W;Ia++)ka[Ia]="x"}}return O}function u(Q,M){if(Q.config.headers[M]&&Q.config.headers[M].lockedOrder)return Q.config.headers[M].lockedOrder;return false}function n(Q){for(var M=Q.config.widgets,O=M.length,J=0;J<O;J++)t(M[J]).format(Q)}function t(Q){for(var M=oa.length,O=0;O<M;O++)if(oa[O].id.toLowerCase()==Q.toLowerCase())return oa[O]}function x(Q,M){for(var O=M.length,J=0;J<O;J++)if(M[J][0]==Q)return true;return false}function y(Q,M,O,J){M.removeClass(J[0]).removeClass(J[1]);
var U=[];M.each(function(){this.sortDisabled||(U[this.column]=a(this))});Q=O.length;for(M=0;M<Q;M++)U[O[M][0]].addClass(J[O[M][1]])}function k(Q){if(Q.config.widthFixed){var M=a("<colgroup>");a("tr:first td",Q.tBodies[0]).each(function(){M.append(a("<col>").css("width",a(this).width()))});a(Q).prepend(M)}}function ca(Q,M,O){if(Q.config.debug)var J=new Date;for(var U="var sortWrapper = function(a,b) {",aa=M.length,W=0;W<aa;W++){var ea=M[W][0],ka=M[W][1];ea=Q.config.parsers[ea].type=="text"?ka==0?X("text",
"asc",ea):X("text","desc",ea):ka==0?X("numeric","asc",ea):X("numeric","desc",ea);var wa="e"+W;U+="var "+wa+" = "+ea;U+="if("+wa+") { return "+wa+"; } ";U+="else { "}W=O.normalized[0].length-1;U+="return a["+W+"]-b["+W+"];";for(W=0;W<aa;W++)U+="}; ";U+="return 0; ";U+="}; ";Q.config.debug&&f("Evaling expression:"+U,new Date);eval(U);O.normalized.sort(sortWrapper);Q.config.debug&&f("Sorting on "+M.toString()+" and dir "+ka+" time:",J);return O}function X(Q,M,O){var J="a["+O+"]";O="b["+O+"]";if(Q=="text"&&
M=="asc")return"("+J+" == "+O+" ? 0 : ("+J+" === null ? Number.POSITIVE_INFINITY : ("+O+" === null ? Number.NEGATIVE_INFINITY : ("+J+" < "+O+") ? -1 : 1 )));";else if(Q=="text"&&M=="desc")return"("+J+" == "+O+" ? 0 : ("+J+" === null ? Number.POSITIVE_INFINITY : ("+O+" === null ? Number.NEGATIVE_INFINITY : ("+O+" < "+J+") ? -1 : 1 )));";else if(Q=="numeric"&&M=="asc")return"("+J+" === null && "+O+" === null) ? 0 :("+J+" === null ? Number.POSITIVE_INFINITY : ("+O+" === null ? Number.NEGATIVE_INFINITY : "+
J+" - "+O+"));";else if(Q=="numeric"&&M=="desc")return"("+J+" === null && "+O+" === null) ? 0 :("+J+" === null ? Number.POSITIVE_INFINITY : ("+O+" === null ? Number.NEGATIVE_INFINITY : "+O+" - "+J+"));"}var na=[],oa=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even",
"odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};this.benchmark=f;this.construct=function(Q){return this.each(function(){if(this.tHead&&this.tBodies){var M,O,J,U;this.config={};U=a.extend(this.config,a.tablesorter.defaults,Q);M=a(this);a.data(this,"tablesorter",U);O=D(this);this.config.parsers=h(this,O);J=r(this);var aa=[U.cssDesc,U.cssAsc];k(this);O.click(function(W){var ea=
M[0].tBodies[0]&&M[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&ea>0){M.trigger("sortStart");a(this);ea=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(W[U.sortMultiSortKey])if(x(ea,U.sortList))for(W=0;W<U.sortList.length;W++){var ka=U.sortList[W],wa=U.headerList[ka[0]];if(ka[0]==ea){wa.count=ka[1];wa.count++;ka[1]=wa.count%2}}else U.sortList.push([ea,this.order]);else{U.sortList=[];if(U.sortForce!=null){ka=U.sortForce;for(W=0;W<ka.length;W++)ka[W][0]!=
ea&&U.sortList.push(ka[W])}U.sortList.push([ea,this.order])}setTimeout(function(){y(M[0],O,U.sortList,aa);I(M[0],ca(M[0],U.sortList,J))},1);return false}}).mousedown(function(){if(U.cancelSelection){this.onselectstart=function(){return false};return false}});M.bind("update",function(){var W=this;setTimeout(function(){W.config.parsers=h(W,O);J=r(W)},1)}).bind("updateCell",function(W,ea){var ka=this.config,wa=[ea.parentNode.rowIndex-1,ea.cellIndex];J.normalized[wa[0]][wa[1]]=ka.parsers[wa[1]].format(G(ka,
ea),ea)}).bind("sorton",function(W,ea){a(this).trigger("sortStart");U.sortList=ea;for(var ka=U.sortList,wa=this.config,va=ka.length,Aa=0;Aa<va;Aa++){var Ia=ka[Aa],La=wa.headerList[Ia[0]];La.count=Ia[1];La.count++}y(this,O,ka,aa);I(this,ca(this,ka,J))}).bind("appendCache",function(){I(this,J)}).bind("applyWidgetId",function(W,ea){t(ea).format(this)}).bind("applyWidgets",function(){n(this)});if(a.metadata&&a(this).metadata()&&a(this).metadata().sortlist)U.sortList=a(this).metadata().sortlist;U.sortList.length>
0&&M.trigger("sorton",[U.sortList]);n(this)}})};this.addParser=function(Q){for(var M=na.length,O=true,J=0;J<M;J++)if(na[J].id.toLowerCase()==Q.id.toLowerCase())O=false;O&&na.push(Q)};this.addWidget=function(Q){oa.push(Q)};this.formatFloat=function(Q){Q=parseFloat(Q);return isNaN(Q)?0:Q};this.formatInt=function(Q){Q=parseInt(Q);return isNaN(Q)?0:Q};this.isDigit=function(Q){return/^[-+]?\d*$/.test(a.trim(Q.replace(/[,.']/g,"")))};this.clearTableBody=function(Q){if(a.browser.msie)(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}).apply(Q.tBodies[0]);
else Q.tBodies[0].innerHTML=""}})});a.fn.extend({tablesorter:a.tablesorter.construct});var b=a.tablesorter;b.addParser({id:"text",is:function(){return true},format:function(f){return a.trim(f.toLocaleLowerCase())},type:"text"});b.addParser({id:"digit",is:function(f,e){return a.tablesorter.isDigit(f,e.config)},format:function(f){return a.tablesorter.formatFloat(f)},type:"numeric"});b.addParser({id:"currency",is:function(f){return/^[\u00a3$\u20ac?.]/.test(f)},format:function(f){return a.tablesorter.formatFloat(f.replace(RegExp(/[\u00a3$\u20ac]/g),
""))},type:"numeric"});b.addParser({id:"ipAddress",is:function(f){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(f)},format:function(f){f=f.split(".");for(var e="",h=f.length,m=0;m<h;m++){var r=f[m];e+=r.length==2?"0"+r:r}return a.tablesorter.formatFloat(e)},type:"numeric"});b.addParser({id:"url",is:function(f){return/^(https?|ftp|file):\/\/$/.test(f)},format:function(f){return jQuery.trim(f.replace(RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});b.addParser({id:"isoDate",is:function(f){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(f)},
format:function(f){return a.tablesorter.formatFloat(f!=""?(new Date(f.replace(RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});b.addParser({id:"percent",is:function(f){return/\%$/.test(a.trim(f))},format:function(f){return a.tablesorter.formatFloat(f.replace(RegExp(/%/g),""))},type:"numeric"});b.addParser({id:"usLongDate",is:function(f){return f.match(RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(f){return a.tablesorter.formatFloat((new Date(f)).getTime())},
type:"numeric"});b.addParser({id:"shortDate",is:function(f){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(f)},format:function(f,e){var h=e.config;f=f.replace(/\-/g,"/");if(h.dateFormat=="us")f=f.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if(h.dateFormat=="uk")f=f.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if(h.dateFormat=="dd/mm/yy"||h.dateFormat=="dd-mm-yy")f=f.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return a.tablesorter.formatFloat((new Date(f)).getTime())},
type:"numeric"});b.addParser({id:"time",is:function(f){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(f)},format:function(f){return a.tablesorter.formatFloat((new Date("2000/01/01 "+f)).getTime())},type:"numeric"});b.addParser({id:"metadata",is:function(){return false},format:function(f,e,h){f=e.config;f=!f.parserMetadataName?"sortValue":f.parserMetadataName;return a(h).metadata()[f]},type:"numeric"});b.addWidget({id:"zebra",format:function(f){if(f.config.debug)var e=
new Date;var h,m=-1,r;a("tr:visible",f.tBodies[0]).each(function(){h=a(this);h.hasClass(f.config.cssChildRow)||m++;r=m%2==0;h.removeClass(f.config.widgetZebra.css[r?0:1]).addClass(f.config.widgetZebra.css[r?1:0])});f.config.debug&&a.tablesorter.benchmark("Applying Zebra widget",e)}})})(jQuery);(function(a){a.fn.toggle_form_field=function(b){var f={hint_class:"hint",opacity_focus:0.2,opacity_blur:0.5,opacity_keyup:0,duration:250};b&&a.extend(f,b);this.each(function(){var e=a(this);e.focus(function(){var h=a(this);h.val()==""&&h.parent().find("."+f.hint_class).animate({opacity:f.opacity_focus},f.duration)}).bind("blur reset.toggle_form_field",function(){var h=a(this);h.val()==""&&h.parent().find("."+f.hint_class).animate({opacity:f.opacity_blur},f.duration)}).keyup(function(){var h=a(this);
h.val()!=""&&h.parent().find("."+f.hint_class).animate({opacity:f.opacity_keyup},f.duration)});e.val()!=""&&e.parent().find("."+f.hint_class).animate({opacity:f.opacity_keyup},f.duration)});return this}})(jQuery);(function(a){a.fn.annotatableImage=function(b,f){f=a.extend({xPosition:"middle",yPosition:"middle"},f);var e=[],h=a("img",this)[0],m=(new Date).getTime();this.mousedown(function(r){if(r.target==h){r.preventDefault();var G=b();e.push(G);a(this).append(G);G.positionAtEvent(r,f.xPosition,f.yPosition);G.mousedown(function(){a(this).trigger("resize")}).mousedown();G.data("responseTime",(new Date).getTime()-m)}});return this};a.fn.addAnnotations=function(b,f,e){var h=this,m=a(h).height();e=a.extend({xPosition:"middle",
yPosition:"middle",containerHeight:e&&e.containerHeight?e.containerHeight:m},e);a.each(f,function(r){r=b(a.extend(e,f[r]));r.css({position:"absolute"});a(h).append(r);var G=this.x*a(h).width()-a(r).xOffset(e.xPosition),I=this.y*e.containerHeight-a(r).yOffset(e.yPosition);if(this.width&&this.height){r.css({width:this.width+"px",height:this.height+"px"});r.find(".frm-note").css({top:this.height+10+"px"})}r.css({left:G+"px",top:I+"px"});I>m&&r.hide()});return this};a.fn.positionAtEvent=function(b,f,
e){var h=a(this).parent("div");a(this).css("left",b.pageX-h.offset().left-a(this).xOffset(f)+"px");a(this).css("top",b.pageY-h.offset().top-a(this).yOffset(e)+"px");a(this).css("position","absolute")};a.fn.serializeAnnotations=function(b,f){var e=[];this.each(function(){e.push(a(this).serializeAnnotation(b,f))});return e};a.fn.serializeAnnotation=function(b,f){return{x:a(this).relativeX(b),y:a(this).relativeY(f),response_time:a(this).data("responseTime"),width:a(this).width(),height:a(this).height()}};
a.fn.relativeX=function(){var b=a(this).coordinates().x,f=a(this).parent().width();return b/f};a.fn.relativeY=function(){var b=a(this).coordinates().y,f=a(this).parent().height();return b/f};a.fn.relativeWidth=function(){return a(this).width()/a(this).parent().width()};a.fn.relativeHeight=function(){return a(this).height()/a(this).parent().height()};a.fn.xOffset=function(b){switch(b){case "left":return 0;case "right":return a(this).width();default:return a(this).width()/2}};a.fn.yOffset=function(b){switch(b){case "top":return 0;
case "bottom":return a(this).height();default:return a(this).height()/2}};a.fn.coordinates=function(){return{x:parseInt(a(this).css("left").replace("px","")),y:parseInt(a(this).css("top").replace("px",""))}}})(jQuery);(function(a){a.fn.editable=function(b,f){if("disable"==b)a(this).data("disabled.editable",true);else if("enable"==b)a(this).data("disabled.editable",false);else if("destroy"==b)a(this).unbind(a(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");else{var e=a.extend({},a.fn.editable.defaults,{target:b},f),h=a.editable.types[e.type].plugin||function(){},m=a.editable.types[e.type].submit||function(){},r=a.editable.types[e.type].buttons||a.editable.types.defaults.buttons,
G=a.editable.types[e.type].content||a.editable.types.defaults.content,I=a.editable.types[e.type].element||a.editable.types.defaults.element,D=a.editable.types[e.type].reset||a.editable.types.defaults.reset,w=e.callback||function(){},u=e.onedit||function(){},n=e.onsubmit||function(){},t=e.onreset||function(){},x=e.onerror||D;e.tooltip&&a(this).attr("title",e.tooltip);e.autowidth="auto"==e.width;e.autoheight="auto"==e.height;return this.each(function(){var y=this,k=a(y).width(),ca=a(y).height();a(this).data("event.editable",
e.event);a.trim(a(this).html())||a(this).html(e.placeholder);a(this).bind(e.event,function(X){if(true!==a(this).data("disabled.editable"))if(!y.editing)if(false!==u.apply(this,[e,y])){X.preventDefault();X.stopPropagation();e.tooltip&&a(y).removeAttr("title");if(0==a(y).width()){e.width=k;e.height=ca}else{if(e.width!="none")e.width=e.autowidth?a(y).width():e.width;if(e.height!="none")e.height=e.autoheight?a(y).height():e.height}a(this).html().toLowerCase().replace(/(;|")/g,"")==e.placeholder.toLowerCase().replace(/(;|")/g,
"")&&a(this).html("");y.editing=true;y.revert=a(y).html();a(y).html("");var na=a("<form />");if(e.cssclass)"inherit"==e.cssclass?na.attr("class",a(y).attr("class")):na.attr("class",e.cssclass);if(e.style)if("inherit"==e.style){na.attr("style",a(y).attr("style"));na.css("display",a(y).css("display"))}else na.attr("style",e.style);var oa=I.apply(na,[e,y]),Q;if(e.loadurl){var M=setTimeout(function(){oa.disabled=true;G.apply(na,[e.loadtext,e,y])},100);X={};X[e.id]=y.id;a.isFunction(e.loaddata)?a.extend(X,
e.loaddata.apply(y,[y.revert,e])):a.extend(X,e.loaddata);a.ajax({type:e.loadtype,url:e.loadurl,data:X,async:false,success:function(O){window.clearTimeout(M);Q=O;oa.disabled=false}})}else if(e.data){Q=e.data;if(a.isFunction(e.data))Q=e.data.apply(y,[y.revert,e])}else Q=y.revert;G.apply(na,[Q,e,y]);oa.attr("name",e.name);r.apply(na,[e,y]);a(y).append(na);h.apply(na,[e,y]);a(":input:visible:enabled:first",na).focus();e.select&&oa.select();oa.keydown(function(O){if(O.keyCode==27){O.preventDefault();D.apply(na,
[e,y])}});if("cancel"==e.onblur)oa.blur(function(){M=setTimeout(function(){D.apply(na,[e,y])},500)});else if("submit"==e.onblur)oa.blur(function(){M=setTimeout(function(){na.submit()},200)});else a.isFunction(e.onblur)?oa.blur(function(){e.onblur.apply(y,[oa.val(),e])}):oa.blur(function(){});na.submit(function(O){M&&clearTimeout(M);O.preventDefault();if(false!==n.apply(na,[e,y]))if(false!==m.apply(na,[e,y]))if(a.isFunction(e.target)){O=e.target.apply(y,[oa.val(),e]);a(y).html(O);y.editing=false;w.apply(y,
[y.innerHTML,e]);a.trim(a(y).html())||a(y).html(e.placeholder)}else{O={};O[e.name]=oa.val();O[e.id]=y.id;a.isFunction(e.submitdata)?a.extend(O,e.submitdata.apply(y,[y.revert,e])):a.extend(O,e.submitdata);if("PUT"==e.method)O._method="put";a(y).html(e.indicator);var J={type:"POST",data:O,dataType:"html",url:e.target,success:function(U){J.dataType=="html"&&a(y).html(U);y.editing=false;w.apply(y,[U,e]);a.trim(a(y).html())||a(y).html(e.placeholder)},error:function(U){x.apply(na,[e,y,U])}};a.extend(J,
e.ajaxoptions);a.ajax(J)}a(y).attr("title",e.tooltip);return false})}});this.reset=function(X){if(this.editing)if(false!==t.apply(X,[e,y])){a(y).html(y.revert);y.editing=false;a.trim(a(y).html())||a(y).html(e.placeholder);e.tooltip&&a(y).attr("title",e.tooltip)}}})}};a.editable={types:{defaults:{element:function(){var b=a('<input type="hidden"></input>');a(this).append(b);return b},content:function(b){a(":input:first",this).val(b)},reset:function(b,f){f.reset(this)},buttons:function(b,f){var e=this;
if(b.submit){if(b.submit.match(/>$/))var h=a(b.submit).click(function(){h.attr("type")!="submit"&&e.submit()});else{h=a('<button type="submit" class="btn" />');h.html(b.submit)}a(this).append(h)}if(b.cancel){if(b.cancel.match(/>$/))var m=a(b.cancel);else{m=a('<button type="cancel" class="btn" />');m.html(b.cancel)}a(this).append(m);a(m).click(function(){(a.isFunction(a.editable.types[b.type].reset)?a.editable.types[b.type].reset:a.editable.types.defaults.reset).apply(e,[b,f]);return false})}}},text:{element:function(b){var f=
a("<input />");b.width!="none"&&f.width(b.width);b.height!="none"&&f.height(b.height);f.attr("autocomplete","off");a(this).append(f);return f}},textarea:{element:function(b){var f=a("<textarea />");if(b.rows)f.attr("rows",b.rows);else b.height!="none"&&f.height(b.height);if(b.cols)f.attr("cols",b.cols);else b.width!="none"&&f.width(b.width);a(this).append(f);return f}},select:{element:function(){var b=a("<select />");a(this).append(b);return b},content:function(b,f,e){if(String==b.constructor)eval("var json = "+
b);else var h=b;for(var m in h)if(h.hasOwnProperty(m))if("selected"!=m){b=a("<option />").val(m).append(h[m]);a("select",this).append(b)}a("select",this).children().each(function(){if(a(this).val()==h.selected||a(this).text()==a.trim(e.revert))a(this).attr("selected","selected")})}}},addInputType:function(b,f){a.editable.types[b]=f}};a.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",
loaddata:{},submitdata:{},ajaxoptions:{}}})(jQuery);(function(a){a.fn.philter=function(b){var f={query_over:".paginate li",query_by:".title",min_chars:2,case_sensitive:false};b&&a.extend(f,b);this.each(function(){var e=a(this),h=a(f.query_over),m=h.length;e.keyup(function(){var r=a(this).val();if(r.length>f.min_chars)for(var G=0,I=0,D,w;G<m;G++){D=h.eq(G);w=D.find(f.query_by);w=w.text();if(!f.case_sensitive){w=w.toLowerCase();r=r.toLowerCase()}if(w.indexOf(r)!=-1){D.show();I++}else D.hide()}else{h.show();I=-1}e.trigger("complete.philter",I)})});return this}})(jQuery);(function(a){a.fn.filestyle=function(b){var f={width:250};b&&a.extend(f,b);return this.each(function(){var e=this,h=a("<div>").css({width:f.imagewidth+"px",height:f.imageheight+"px",background:"url("+f.image+") 0 0 no-repeat","background-position":"right",display:"inline",position:"absolute",overflow:"hidden"}),m=a('<input class="file">').addClass(a(e).attr("class")).css({display:"inline",width:f.width+"px"});a(e).before(m);a(e).wrap(h);a(e).css({position:"relative",height:f.imageheight+"px",width:f.width+
"px",display:"inline",cursor:"pointer",opacity:"0.0"});if(a.browser.mozilla)/Win/.test(navigator.platform)?a(e).css("margin-left","-142px"):a(e).css("margin-left","-168px");else a(e).css("margin-left",f.imagewidth-f.width+"px");a(e).bind("change",function(){m.val(a(e).val())})})}})(jQuery);(function(a){a.widget("ui.selectmenu",{_init:function(){var b=this,f=this.options;this.ids=[this.element.attr("id")+"-button",this.element.attr("id")+"-menu"];this._safemouseup=true;this.newelement=a('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" aria-haspopup="true" aria-owns="'+this.ids[1]+'"></a>').insertAfter(this.element);var e=this.element.attr("tabindex");e&&this.newelement.attr("tabindex",e);this.newelement.data("selectelement",
this.element);this.selectmenuIcon=a('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement).addClass(f.style=="popup"?"ui-icon-triangle-2-n-s":"ui-icon-triangle-1-s");a("label[for="+this.element.attr("id")+"]").attr("for",this.ids[0]).bind("click",function(){b.newelement[0].focus();return false});this.newelement.bind("mousedown",function(D){b._toggle(D);if(f.style=="popup"){b._safemouseup=false;setTimeout(function(){b._safemouseup=true},300)}return false}).bind("click",
function(){return false}).keydown(function(D){var w=true;switch(D.keyCode){case a.ui.keyCode.ENTER:w=true;break;case a.ui.keyCode.SPACE:w=false;b._toggle(D);break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:w=false;b._moveSelection(-1);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.RIGHT:w=false;b._moveSelection(1);break;case a.ui.keyCode.TAB:w=true;break;default:w=false;b._typeAhead(D.keyCode,"mouseup");break}return w}).bind("mouseover focus",function(){a(this).addClass(b.widgetBaseClass+"-focus ui-state-hover")}).bind("mouseout blur",
function(){a(this).removeClass(b.widgetBaseClass+"-focus ui-state-hover")});a(document).mousedown(function(D){b.close(D)});this.element.click(function(){this._refreshValue()}).focus(function(){this.newelement[0].focus()});this.list=a('<ul class="'+b.widgetBaseClass+"-menu ui-widget ui-widget-content"+(f.style=="dropdown"?" ui-corner-bottom":" ui-corner-all")+'" aria-hidden="true" role="listbox" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo("body");var h=[];this.element.find("option").each(function(){h.push({value:a(this).attr("value"),
text:b._formatText(jQuery(this).text()),selected:a(this).attr("selected"),classes:a(this).attr("class"),parentOptGroup:a(this).parent("optgroup").attr("label")})});var m=b.options.style=="popup"?" ui-state-active":"";for(var r in h){e=a('<li role="presentation"><a href="#" tabindex="-1" role="option" aria-selected="false">'+h[r].text+"</a></li>").data("index",r).addClass(h[r].classes).data("optionClasses",h[r].classes||"").mousedown(function(D){if(b._safemouseup){var w=a(this).data("index")!=b._selectedIndex();
b.value(a(this).data("index"));b.select(D);w&&b.change(D);b.close(D,true)}return false}).click(function(){return false}).bind("mouseover focus",function(){b._selectedOptionLi().addClass(m);b._focusedOptionLi().removeClass(b.widgetBaseClass+"-item-focus ui-state-hover");a(this).removeClass("ui-state-active").addClass(b.widgetBaseClass+"-item-focus ui-state-hover")}).bind("mouseout blur",function(){a(this).is(b._selectedOptionLi())&&a(this).addClass(m);a(this).removeClass(b.widgetBaseClass+"-item-focus ui-state-hover")});
if(h[r].parentOptGroup){var G=b.widgetBaseClass+"-group-"+h[r].parentOptGroup;this.list.find("li."+G).size()?this.list.find("li."+G+":last ul").append(e):a('<li role="presentation" class="'+b.widgetBaseClass+"-group "+G+'"><span class="'+b.widgetBaseClass+'-group-label">'+h[r].parentOptGroup+"</span><ul></ul></li>").appendTo(this.list).find("ul").append(e)}else e.appendTo(this.list);this.list.bind("mousedown mouseup",function(){return false});if(f.icons)for(var I in f.icons)if(e.is(f.icons[I].find)){e.data("optionClasses",
h[r].classes+" "+b.widgetBaseClass+"-hasIcon").addClass(b.widgetBaseClass+"-hasIcon");G=f.icons[I].icon||"";e.find("a:eq(0)").prepend('<span class="'+b.widgetBaseClass+"-item-icon ui-icon "+G+'"></span>')}}this.list.find("li:last").addClass("ui-corner-bottom");f.style=="popup"&&this.list.find("li:first").addClass("ui-corner-top");if(f.transferClasses){r=this.element.attr("class")||"";this.newelement.add(this.list).addClass(r)}r=this.element.width();this.newelement.width(f.width?f.width:r);f.style==
"dropdown"?this.list.width(f.menuWidth?f.menuWidth:f.width?f.width:r):this.list.width(f.menuWidth?f.menuWidth:f.width?f.width-f.handleWidth:r-f.handleWidth);f.maxHeight&&f.maxHeight<this.list.height()&&this.list.height(f.maxHeight);this._optionLis=this.list.find("li:not(."+b.widgetBaseClass+"-group)");this.list.keydown(function(D){var w=true;switch(D.keyCode){case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:w=false;b._moveFocus(-1);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.RIGHT:w=false;b._moveFocus(1);
break;case a.ui.keyCode.HOME:w=false;b._moveFocus(":first");break;case a.ui.keyCode.PAGE_UP:w=false;b._scrollPage("up");break;case a.ui.keyCode.PAGE_DOWN:w=false;b._scrollPage("down");break;case a.ui.keyCode.END:w=false;b._moveFocus(":last");break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:w=false;b.close(D,true);a(D.target).parents("li:eq(0)").trigger("mouseup");break;case a.ui.keyCode.TAB:w=true;b.close(D,true);break;case a.ui.keyCode.ESCAPE:w=false;b.close(D,true);break;default:w=false;b._typeAhead(D.keyCode,
"focus");break}return w});if(f.style=="dropdown"){this.newelement.addClass(b.widgetBaseClass+"-dropdown");this.list.addClass(b.widgetBaseClass+"-menu-dropdown")}else{this.newelement.addClass(b.widgetBaseClass+"-popup");this.list.addClass(b.widgetBaseClass+"-menu-popup")}this.newelement.prepend('<span class="'+b.widgetBaseClass+'-status">'+h[this._selectedIndex()].text+"</span>");this.element.hide();this.element.attr("disabled")==true&&this.disable();this.value(this._selectedIndex())},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+
"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled");a("label[for="+this.newelement.attr("id")+"]").attr("for",this.element.attr("id")).unbind("click");this.newelement.remove();this.list.remove();this.element.show()},_typeAhead:function(b,f){var e=this;if(!e._prevChar)e._prevChar=["",0];var h=String.fromCharCode(b);c=h.toLowerCase();var m=false;this.list.find("li a").each(function(r){if(!m){var G=a(this).text();if(G.indexOf(h)==0||G.indexOf(c)==0)if(e._prevChar[0]==h){if(e._prevChar[1]<
r){m=true;a(this).trigger(f);e._prevChar[1]=r}}else{m=true;a(this).trigger(f);e._prevChar[1]=r}}});this._prevChar[0]=h},_uiHash:function(){return{value:this.value()}},open:function(b){if(this.newelement.attr("aria-disabled")!="true"){this._refreshPosition();this._closeOthers(b);this.newelement.addClass("ui-state-active");this.list.appendTo("body").addClass(this.widgetBaseClass+"-open").attr("aria-hidden",false).find("li:not(."+this.widgetBaseClass+"-group):eq("+this._selectedIndex()+") a")[0].focus();
this.options.style=="dropdown"&&this.newelement.removeClass("ui-corner-all").addClass("ui-corner-top");this._refreshPosition();this._trigger("open",b,this._uiHash())}},close:function(b,f){if(this.newelement.is(".ui-state-active")){this.newelement.removeClass("ui-state-active");this.list.attr("aria-hidden",true).removeClass(this.widgetBaseClass+"-open");this.options.style=="dropdown"&&this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all");f&&this.newelement[0].focus();this._trigger("close",
b,this._uiHash())}},change:function(b){this.element.trigger("change");this._trigger("change",b,this._uiHash())},select:function(b){this._trigger("select",b,this._uiHash())},_closeOthers:function(b){a("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){a(this).data("selectelement").selectmenu("close",b)});a("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(b,f){this.list.is("."+this.widgetBaseClass+"-open")?this.close(b,f):this.open(b)},
_formatText:function(b){return this.options.format?this.options.format(b):b},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")},_moveSelection:function(b){return this._optionLis.eq(parseInt(this._selectedOptionLi().data("index"),10)+b).trigger("mouseup")},_moveFocus:function(b){b=isNaN(b)?parseInt(this._optionLis.filter(b).data("index"),
10):parseInt(this._focusedOptionLi().data("index"),10)+b;if(b<0)b=0;if(b>this._optionLis.size()-1)b=this._optionLis.size()-1;var f=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1E3);this._focusedOptionLi().find("a:eq(0)").attr("id","");this._optionLis.eq(b).find("a:eq(0)").attr("id",f)[0].focus();this.list.attr("aria-activedescendant",f)},_scrollPage:function(b){var f=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());f=b=="up"?-f:f;this._moveFocus(f)},_setData:function(b,
f){this.options[b]=f;if(b=="disabled"){this.close();this.element.add(this.newelement).add(this.list)[f?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",f)}},value:function(b){if(arguments.length){this.element[0].selectedIndex=b;this._refreshValue();this._refreshPosition()}return this.element[0].selectedIndex},_refreshValue:function(){var b=this.options.style=="popup"?" ui-state-active":"",f=this.widgetBaseClass+"-item-"+Math.round(Math.random()*
1E3);this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+b).find("a").attr("aria-selected","false").attr("id","");this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+b).find("a").attr("aria-selected","true").attr("id",f);b=this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"";var e=this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"";this.newelement.removeClass(b).data("optionClasses",
e).addClass(e).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html());this.list.attr("aria-activedescendant",f)},_refreshPosition:function(){this.list.css("left",this.newelement.offset().left);var b=this.newelement.offset().top,f=this.list[0].scrollTop;this.list.find("li:lt("+this._selectedIndex()+")").each(function(){f-=a(this).outerHeight()});b+=this.newelement.is("."+this.widgetBaseClass+"-popup")?f:this.newelement.height();this.list.css("top",b)}});a.extend(a.ui.selectmenu,
{getter:"value",version:"@VERSION",eventPrefix:"selectmenu",defaults:{transferClasses:true,style:"popup",width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null}})})(jQuery);jQuery.fn.numeric=function(a,b){a=a||".";b=typeof b=="function"?b:function(){};this.keypress(function(f){var e=f.charCode?f.charCode:f.keyCode?f.keyCode:0;if(e==13&&this.nodeName.toLowerCase()=="input")return true;else if(e==13)return false;var h=false;if(f.ctrlKey&&e==97||f.ctrlKey&&e==65)return true;if(f.ctrlKey&&e==120||f.ctrlKey&&e==88)return true;if(f.ctrlKey&&e==99||f.ctrlKey&&e==67)return true;if(f.ctrlKey&&e==122||f.ctrlKey&&e==90)return true;if(f.ctrlKey&&e==118||f.ctrlKey&&e==86||f.shiftKey&&
e==45)return true;if(e<48||e>57){if(e==45&&this.value.length==0)return true;if(e==a.charCodeAt(0)&&this.value.indexOf(a)!=-1)h=false;if(e!=8&&e!=9&&e!=13&&e!=35&&e!=36&&e!=37&&e!=39&&e!=46)h=false;else if(typeof f.charCode!="undefined")if(f.keyCode==f.which&&f.which!=0)h=true;else if(f.keyCode!=0&&f.charCode==0&&f.which==0)h=true;if(e==a.charCodeAt(0)&&this.value.indexOf(a)==-1)h=true}else h=true;return h}).blur(function(){var f=jQuery(this).val();if(f!="")RegExp("^\\d+$|\\d*"+a+"\\d+").exec(f)||
b.apply(this)});return this};(function(a){a.fn.validation=function(b){function f(r,G){r.delegate(G.elt,(G.checkevent||m.checkevent)+" rulecheck.validate",function(I){var D=a(this),w=m.trim?a.trim(D.val()):D.val();if(G.rule)if(G.rule=="match"&&G.matching_field&&a(G.matching_field).length)w.length&&w==a(G.matching_field).val()?e(I,r,D,G):h(I,r,D,G);else if(G.rule=="ajax"&&G.url){var u={};u[G.data||"data"]=w;a.ajax({type:G.type,url:G.url,data:u,dataType:"text",success:function(n){n==(G.success||"success")?e(I,r,D,G):h(I,r,D,G)}})}else if(G.rule==
"custom"&&a.isFunction(G.success))G.success(I,D)?e(I,r,D,G):h(I,r,D,G);else G.rule.test(w)?e(I,r,D,G):h(I,r,D,G);else elt.is(":filled")?e(I,r,D,G):h(I,r,D,G)})}function e(r,G,I,D){if(!I.hasClass(m.success_class))if(m.onsuccess(r,I)){I.removeClass(m.error_class).addClass(m.success_class);a.isFunction(D.onsuccess)&&D.onsuccess(r,I)}G.trigger("rule.validate",true)}function h(r,G,I,D){if(!I.hasClass(m.error_class))if(m.onerror(r,I)){I.removeClass(m.success_class).addClass(m.error_class);a.isFunction(D.onerror)&&
D.onerror(r,I)}G.trigger("rule.validate",false)}var m={rules:[],error_class:"error",success_class:"success",checkevent:"blur",trim:true,onerror:function(){return true},onsuccess:function(){return true}};b&&a.extend(m,b);this.each(function(r){if(this.length)if(m.rules.length){var G=m.rules.length,I=a(this).data("validation",{rules_count:G,is_validating:false,validation_count:0,is_valid:true});for(r=0;r<G;r++)f(I,m.rules[r]);I.bind("validate",function(){var D=a(this),w=D.data("validation");w.is_validating=
true;w.validation_count=0;w.is_valid=true;D.data("validation",w);for(D=0;D<G;D++){w=m.rules[D];a(w.elt).trigger("rulecheck.validate")}}).bind("rule.validate",function(D,w){var u=a(this),n=u.data("validation"),t=n.validation_count+1,x=true;w||(x=false);if(t>=n.rules_count){x=x&&n.is_valid;u.trigger("complete.validate",x)}u.data("validation",{rules_count:n.rules_count,is_validating:true,validation_count:t,is_valid:x})}).bind("reset.validate",function(){for(var D=0,w;D<G;D++){w=m.rules[D];a(w.elt).removeClass(m.error_class+
" "+m.success_class)}I[0].reset()})}else window.console&&window.console.warn&&console.warn("No rules set in jquery validation plugin.")});return this};a.validation={EMAIL:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i}})(jQuery);
$.extend($.expr[":"],{blank:function(a){return!$.trim(""+a.value)},filled:function(a){return!!$.trim(""+a.value)}});(function(a){a.fn.lastfieldentersubmit=function(b){var f={submit:null};b&&a.extend(f,b);this.each(function(){$frm=a(this);$frm.find("input:last").keypress(function(e){if(e.keyCode==13)f.submit&&a.isFunction(f.submit)?f.submit(a(this).parents("form")):$frm.submit()})});return this}})(jQuery);(function(a){var b,f=/:([\w\d]+)/g,e=/\?([^#]*)$/,h=function(n){return Array.prototype.slice.call(n)},m=function(n){return Object.prototype.toString.call(n)==="[object Function]"},r=function(n){return Object.prototype.toString.call(n)==="[object Array]"},G=decodeURIComponent,I=function(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},D=function(n){return function(t,x){return this.route.apply(this,[n,t,x])}},w={},u=[];b=function(){var n=h(arguments),t,x;b.apps=b.apps||{};
if(n.length===0||n[0]&&m(n[0]))return b.apply(b,["body"].concat(n));else if(typeof(x=n.shift())=="string"){t=b.apps[x]||new b.Application;t.element_selector=x;n.length>0&&a.each(n,function(y,k){t.use(k)});t.element_selector!=x&&delete b.apps[x];return b.apps[t.element_selector]=t}};b.VERSION="0.6.0";b.addLogger=function(n){u.push(n)};b.log=function(){var n=h(arguments);n.unshift("["+Date()+"]");a.each(u,function(t,x){x.apply(b,n)})};if(typeof window.console!="undefined")m(console.log.apply)?b.addLogger(function(){window.console.log.apply(console,
arguments)}):b.addLogger(function(){window.console.log(arguments)});else typeof console!="undefined"&&b.addLogger(function(){console.log.apply(console,arguments)});a.extend(b,{makeArray:h,isFunction:m,isArray:r});b.Object=function(n){return a.extend(this,n||{})};a.extend(b.Object.prototype,{escapeHTML:I,h:I,toHash:function(){var n={};a.each(this,function(t,x){m(x)||(n[t]=x)});return n},toHTML:function(){var n="";a.each(this,function(t,x){m(x)||(n+="<strong>"+t+"</strong> "+x+"<br />")});return n},
keys:function(n){var t=[];for(var x in this)if(!m(this[x])||!n)t.push(x);return t},has:function(n){return this[n]&&a.trim(this[n].toString())!=""},join:function(){var n=h(arguments),t=n.shift();return n.join(t)},log:function(){b.log.apply(b,arguments)},toString:function(n){var t=[];a.each(this,function(x,y){if(!m(y)||n)t.push('"'+x+'": '+y.toString())});return"Sammy.Object: {"+t.join(",")+"}"}});b.HashLocationProxy=function(n,t){this.app=n;this.is_native=false;this._startPolling(t)};b.HashLocationProxy.prototype=
{bind:function(){var n=this,t=this.app;a(window).bind("hashchange."+this.app.eventNamespace(),function(x,y){if(n.is_native===false&&!y){b.log("native hash change exists, using");n.is_native=true;clearInterval(b.HashLocationProxy._interval)}t.trigger("location-changed")});if(!b.HashLocationProxy._bindings)b.HashLocationProxy._bindings=0;b.HashLocationProxy._bindings++},unbind:function(){a(window).unbind("hashchange."+this.app.eventNamespace());b.HashLocationProxy._bindings--;b.HashLocationProxy._bindings<=
0&&clearInterval(b.HashLocationProxy._interval)},getLocation:function(){var n=window.location.toString().match(/^[^#]*(#.+)$/);return n?n[1]:""},setLocation:function(n){return window.location=n},_startPolling:function(n){var t=this;if(!b.HashLocationProxy._interval){n||(n=10);var x=function(){current_location=t.getLocation();if(!b.HashLocationProxy._last_location||current_location!=b.HashLocationProxy._last_location)setTimeout(function(){a(window).trigger("hashchange",[true])},13);b.HashLocationProxy._last_location=
current_location};x();b.HashLocationProxy._interval=setInterval(x,n)}}};b.Application=function(n){var t=this;this.routes={};this.listeners=new b.Object({});this.arounds=[];this.befores=[];this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1E3,10);this.context_prototype=function(){b.EventContext.apply(this,arguments)};this.context_prototype.prototype=new b.EventContext;m(n)&&n.apply(this,[this]);this._location_proxy||this.setLocationProxy(new b.HashLocationProxy(this,this.run_interval_every));
this.debug&&this.bindToAllEvents(function(x,y){t.log(t.toString(),x.cleaned_type,y||{})})};b.Application.prototype=a.extend({},b.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect"],_last_route:null,_location_proxy:null,_running:false,element_selector:"body",debug:false,raise_errors:false,run_interval_every:50,template_engine:null,
toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(){return a(this.element_selector)},use:function(){var n=h(arguments),t=n.shift(),x=t||"";try{n.unshift(this);if(typeof t=="string"){x="Sammy."+t;t=b[t]}t.apply(this,n)}catch(y){if(typeof t==="undefined")this.error("Plugin Error: called use() but plugin ("+x.toString()+") is not defined",y);else m(t)?this.error("Plugin Error",y):this.error("Plugin Error: called use() but '"+x.toString()+"' is not a function",y)}return this},
setLocationProxy:function(n){var t=this._location_proxy;this._location_proxy=n;if(this.isRunning()){t&&t.unbind();this._location_proxy.bind()}},route:function(n,t,x){var y=this,k=[],ca;if(!x&&m(t)){x=t=n;n="any"}n=n.toLowerCase();if(t.constructor==String){for(f.lastIndex=0;(path_match=f.exec(t))!==null;)k.push(path_match[1]);t=RegExp("^"+t.replace(f,"([^/]+)")+"$")}if(typeof x=="string")x=y[x];ca=function(X){var na={verb:X,path:t,callback:x,param_names:k};y.routes[X]=y.routes[X]||[];y.routes[X].push(na)};
n==="any"?a.each(this.ROUTE_VERBS,function(X,na){ca(na)}):ca(n);return this},get:D("get"),post:D("post"),put:D("put"),del:D("delete"),any:D("any"),mapRoutes:function(n){var t=this;a.each(n,function(x,y){t.route.apply(t,y)});return this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(n,t,x){var y=this;if(typeof x=="undefined")x=t;t=function(k,ca){var X;if(ca&&ca.context){X=ca.context;delete ca.context}else X=new y.context_prototype(y,"bind",k.type,ca,k.target);
k.cleaned_type=k.type.replace(y.eventNamespace(),"");x.apply(X,[k,ca])};this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t);this.isRunning()&&this._listen(n,t);return this},trigger:function(n,t){this.$element().trigger([n,this.eventNamespace()].join("."),[t]);return this},refresh:function(){this.last_location=null;this.trigger("location-changed");return this},before:function(n,t){if(m(n)){t=n;n={}}this.befores.push([n,t]);return this},after:function(n){return this.bind("event-context-after",
n)},around:function(n){this.arounds.push(n);return this},isRunning:function(){return this._running},helpers:function(n){a.extend(this.context_prototype.prototype,n);return this},helper:function(n,t){this.context_prototype.prototype[n]=t;return this},run:function(n){if(this.isRunning())return false;var t=this;a.each(this.listeners.toHash(),function(x,y){a.each(y,function(k,ca){t._listen(x,ca)})});this.trigger("run",{start_url:n});this._running=true;this.last_location=null;this.getLocation()==""&&typeof n!=
"undefined"&&this.setLocation(n);this._checkLocation();this._location_proxy.bind();this.bind("location-changed",function(){t._checkLocation()});this.bind("submit",function(x){return t._checkFormSubmission(a(x.target).closest("form"))===false?x.preventDefault():false});a(window).bind("beforeunload",function(){t.unload()});return this.trigger("changed")},unload:function(){if(!this.isRunning())return false;var n=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(n.eventNamespace());
a.each(this.listeners.toHash(),function(t,x){a.each(x,function(y,k){n._unlisten(t,k)})});this._running=false;return this},bindToAllEvents:function(n){var t=this;a.each(this.APP_EVENTS,function(x,y){t.bind(y,n)});a.each(this.listeners.keys(true),function(x,y){t.APP_EVENTS.indexOf(y)==-1&&t.bind(y,n)});return this},routablePath:function(n){return n.replace(e,"")},lookupRoute:function(n,t){var x=this,y=false;this.trigger("lookup-route",{verb:n,path:t});typeof this.routes[n]!="undefined"&&a.each(this.routes[n],
function(k,ca){if(x.routablePath(t).match(ca.path)){y=ca;return false}});return y},runRoute:function(n,t,x,y){var k=this,ca=this.lookupRoute(n,t),X,na,oa,Q,M,O;this.log("runRoute",[n,t].join(" "));this.trigger("run-route",{verb:n,path:t,params:x});if(typeof x=="undefined")x={};a.extend(x,this._parseQueryString(t));if(ca){this.trigger("route-found",{route:ca});if((path_params=ca.path.exec(this.routablePath(t)))!==null){path_params.shift();a.each(path_params,function(U,aa){if(ca.param_names[U])x[ca.param_names[U]]=
G(aa);else{if(!x.splat)x.splat=[];x.splat.push(G(aa))}})}X=new this.context_prototype(this,n,t,x,y);y=this.arounds.slice(0);oa=this.befores.slice(0);M=[X].concat(x.splat);na=function(){for(var U;oa.length>0;){Q=oa.shift();if(k.contextMatchesOptions(X,Q[0])){U=Q[1].apply(X,[X]);if(U===false)return false}}k.last_route=ca;X.trigger("event-context-before",{context:X});U=ca.callback.apply(X,M);X.trigger("event-context-after",{context:X});return U};a.each(y.reverse(),function(U,aa){var W=na;na=function(){return aa.apply(X,
[W])}});try{O=na()}catch(J){this.error(["500 Error",n,t].join(" "),J)}return O}else return this.notFound(n,t)},contextMatchesOptions:function(n,t,x){t=t;if(typeof t==="undefined"||t=={})return true;if(typeof x==="undefined")x=true;if(typeof t==="string"||m(t.test))t={path:t};if(t.only)return this.contextMatchesOptions(n,t.only,true);else if(t.except)return this.contextMatchesOptions(n,t.except,false);var y=true,k=true;if(t.path)y=m(t.path.test)?t.path.test(n.path):t.path.toString()===n.path;if(t.verb)k=
t.verb===n.verb;return x?k&&y:!(k&&y)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(n){return this._location_proxy.setLocation(n)},swap:function(n){return this.$element().html(n)},templateCache:function(n,t){return typeof t!="undefined"?w[n]=t:w[n]},notFound:function(n,t){var x=this.error(["404 Not Found",n,t].join(" "));return n==="get"?x:true},error:function(n,t){t||(t=Error());t.message=[n,t.message].join(" ");this.trigger("error",{message:t.message,error:t});
if(this.raise_errors)throw t;else this.log(t.message,t)},_checkLocation:function(){var n,t;n=this.getLocation();if(n!=this.last_location){this.last_location=n;t=this.runRoute("get",n)}return t},_getFormVerb:function(n){n=a(n);var t;$_method=n.find('input[name="_method"]');if($_method.length>0)t=$_method.val();t||(t=n[0].getAttribute("method"));return a.trim(t.toString().toLowerCase())},_checkFormSubmission:function(n){var t,x,y;this.trigger("check-form-submission",{form:n});t=a(n);x=t.attr("action");
y=this._getFormVerb(t);if(!y||y=="")y="get";this.log("_checkFormSubmission",t,x,y);if(y==="get"){this.setLocation(x+"?"+t.serialize());n=false}else{t=a.extend({},this._parseFormParams(t));n=this.runRoute(y,x,t,n.get(0))}return typeof n=="undefined"?false:n},_parseFormParams:function(n){var t={};n=n.serializeArray();var x;for(x=0;x<n.length;x++)t=this._parseParamPair(t,n[x].name,n[x].value);return t},_parseQueryString:function(n){var t={},x,y;if(n=n.match(e)){n=n[1].split("&");for(y=0;y<n.length;y++){x=
n[y].split("=");t=this._parseParamPair(t,G(x[0]),G(x[1]))}}return t},_parseParamPair:function(n,t,x){if(n[t])if(r(n[t]))n[t].push(x);else n[t]=[n[t],x];else n[t]=x;return n},_listen:function(n,t){return this.$element().bind([n,this.eventNamespace()].join("."),t)},_unlisten:function(n,t){return this.$element().unbind([n,this.eventNamespace()].join("."),t)}});b.RenderContext=function(n){this.event_context=n;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=false};
a.extend(b.RenderContext.prototype,{then:function(n){if(m(n)){var t=this;if(this.waiting)this.callbacks.push(n);else{this.wait();setTimeout(function(){var x=n.apply(t,[t.content,t.previous_content]);x!==false&&t.next(x)},13)}}return this},wait:function(){this.waiting=true},next:function(n){this.waiting=false;if(typeof n!=="undefined"){this.previous_content=this.content;this.content=n}this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(n,t,x){var y=this;return this.then(function(){var k,
ca;if(m(t)){x=t;t={}}else t=a.extend({},t);x&&this.then(x);if(typeof n==="string"){k=t.cache!==false;delete t.cache;if(t.engine){y.next_engine=t.engine;delete t.engine}if(k&&(ca=this.event_context.app.templateCache(n)))return ca;this.wait();a.ajax(a.extend({url:n,data:{},type:"get",success:function(X){k&&y.event_context.app.templateCache(n,X);y.next(X)}},t));return false}else{if(n.nodeType)return n.innerHTML;if(n.selector){y.next_engine=n.attr("data-engine");return t.clone===false?n.remove()[0].innerHTML.toString():
n[0].innerHTML.toString()}}})},render:function(n,t,x){return m(n)&&!t?this.then(n):this.load(n).interpolate(t,n).then(x)},collect:function(n,t){var x=this;return this.then(function(){var y="";a.each(n,function(k,ca){var X=t.apply(x,[k,ca]);y+=X;return X});return y})},renderEach:function(n,t,x,y){if(r(t)){y=x;x=t;t=null}if(!x&&r(this.content))x=this.content;return this.load(n).collect(x,function(k,ca){var X={};t?X[t]=ca:X=ca;return this.event_context.interpolate(this.content,X,n)})},interpolate:function(n,
t,x){var y=this;return this.then(function(k,ca){if(this.next_engine){t=this.next_engine;this.next_engine=false}var X=y.event_context.interpolate(k,n,t);return x?ca+X:X})},swap:function(){return this.then(function(n){this.event_context.swap(n)}).trigger("changed",{})},appendTo:function(n){return this.then(function(t){a(n).append(t)}).trigger("changed",{})},prependTo:function(n){return this.then(function(t){a(n).prepend(t)}).trigger("changed",{})},replace:function(n){return this.then(function(t){a(n).html(t)}).trigger("changed",
{})},trigger:function(n,t){return this.then(function(x){if(typeof t=="undefined")t={content:x};this.event_context.trigger(n,t)})}});b.EventContext=function(n,t,x,y,k){this.app=n;this.verb=t;this.path=x;this.params=new b.Object(y);this.target=k};b.EventContext.prototype=a.extend({},b.Object.prototype,{$element:function(){return this.app.$element()},engineFor:function(n){var t;if(m(n))return n;n=n.toString();if(t=n.match(/\.([^\.]+)$/))n=t[1];if(n&&m(this[n]))return this[n];if(this.app.template_engine)return this.engineFor(this.app.template_engine);
return function(x){return x}},interpolate:function(n,t,x){return this.engineFor(x).apply(this,[n,t])},render:function(n,t,x){return(new b.RenderContext(this)).render(n,t,x)},load:function(n,t,x){return(new b.RenderContext(this)).load(n,t,x)},partial:function(n,t){return this.render(n,t).swap()},redirect:function(){var n;n=h(arguments);var t=this.app.getLocation();if(n.length>1){n.unshift("/");n=this.join.apply(this,n)}else n=n[0];this.trigger("redirect",{to:n});this.app.last_location=this.path;this.app.setLocation(n);
t==n&&this.app.trigger("location-changed")},trigger:function(n,t){if(typeof t=="undefined")t={};if(!t.context)t.context=this;return this.app.trigger(n,t)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(n){return this.app.swap(n)},notFound:function(){return this.app.notFound(this.verb,this.path)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});a.sammy=window.Sammy=b})(jQuery);(function(a){var b={};Sammy=Sammy||{};Sammy.Template=function(f,e){e||(e="template");f.helper(e,function(h,m,r){if(typeof r=="undefined")r=h;a:{r=r;m=a.extend({},this,m);if(b[r])fn=b[r];else{if(typeof h=="undefined"){h=false;break a}fn=b[r]=new Function("obj",'var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push("'+h.replace(/[\r\t\n]/g," ").replace(/\"/g,'\\"').split("<%").join("\t").replace(/((^|%>)[^\t]*)/g,"$1\r").replace(/\t=(.*?)%>/g,'",$1,"').split("\t").join('");').split("%>").join('p.push("').split("\r").join("")+
"\");}return p.join('');")}h=typeof m!="undefined"?fn(m):fn}return h})}})(jQuery);(function(a){Sammy=Sammy||{};Sammy.Title=function(){this.setTitle=function(b){this.title_function=a.isFunction(b)?b:function(f){return[b,f].join(" ")}};this.helper("title",function(){var b=a.makeArray(arguments).join(" ");if(this.app.title_function)b=this.app.title_function(b);document.title=b})}})(jQuery);function peeq(){var a,b=function(D){return"/resources/templates/"+D+".template"},f=function(D,w,u){a.$element().stop(false,true).animate({opacity:0},200,"linear",function(){$(this).html(D);w(this);$(this).animate({opacity:1},300,"linear",function(){$.isFunction(u)&&u(this)})})},e=function(){a=$.sammy("#main",function(){Sammy.log=this.log=function(){};this.use(Sammy.Template);this.use(Sammy.Title);this.notFound=function(){window.location="/";return true};var D=function(w){window.location=w||"http://yss.com/sign-up.php";
return true};this.setTitle("peeq");this.get("",function(w){h();peeq.api.request("/handler",{service:"project"},"get",function(u){u.ok||D();w.title("\u00bb "+u.result.account.name);u=u.result||{};w.render(b(u.projects!=null&&u.projects.length?"projects":"projects-none"),{projects:u.projects,account:u.account},function(n){f(n,function(){$(".pie-chart").piechart();$("body").attr("id","projects");I();$(".search").philter({query_over:".paginate li",query_by:".title"}).bind("complete.philter",function(t,
x){$(".paginate li.last").removeClass("last");if(x>0){$(".no-matches").hide();var y=x>1?"matches":"match";$(".matches").html('<span class="complete">'+x+"</span> "+y);$(".paginate li:visible:last").addClass("last")}else{x==0?$(".no-matches").show():$(".no-matches").hide();$(".matches").text("")}}).parents("form").submit(function(){return false});$("input").toggle_form_field();$(".excerpt").each(function(){$(this).html($(this).html().replace(/&lt;br \/&gt;/g,"<br />"))})})})})}).get("#/:project",function(w){h();
w.params.project.toLowerCase()=="settings"?this.trigger("settings",w):peeq.api.request("/handler",{service:"view",project:w.params.project},"get",function(u){u.ok||D();u=u.result||{};u.project||w.notFound();w.title("\u00bb "+u.account.name+" \u00bb "+u.project.label);w.render(b(u.views.length&&u.views[0]?"views":"views-none"),{views:u.views,project:u.project},function(n){f(n,function(){r("views");$(".pie-chart:not(#pie-chart-project)").piechart({radius:10,xpos:10,ypos:10,width:20,height:20,show_labels:false,
is_hoverable:false});$("#pie-chart-project").piechart({radius:60,xpos:90,ypos:90,width:190,height:170});$("body").attr("id","views");$(".search").philter({query_over:".paginate li",query_by:".title"}).bind("complete.philter",function(t,x){$(".paginate li.last").removeClass("last");if(x>0){$(".no-matches").hide();var y=x>1?"matches":"match";$(".matches").html('<span class="complete">'+x+"</span> "+y);$(".paginate li:visible:last").addClass("last")}else{x==0?$(".no-matches").show():$(".no-matches").hide();
$(".matches").text("")}}).parents("form").submit(function(){return false});$("input").toggle_form_field();$("#table-attachments tbody").delegate("tr","click",function(){var t=$(this).find(".btn-delete").attr("href").substr(1);window.open("/api/attachments/project"+encodeURIComponent("/"+w.params.project+"/attachment/"+t))});I();peeq.editable.main()})})})}).get("#/:project/:view",function(){this.redirect("")}).get("#/:project/:view/:state",function(w){h();peeq.api.request("/handler",{service:"state",
project:w.params.project,view:w.params.view,state:w.params.state},"get",function(u){u.ok||D();u=u.result||{};var n=peeq.utils.template.states.get_current(u.states,w.path.replace("#","project"));w.title("\u00bb "+u.account.name+" \u00bb "+u.project.label+" \u00bb "+u.view.label+" \u00bb "+n.label);w.render(b("states"),{view:u.view,state:n,annotations:u.annotations},function(t){f(t,function(){r("states");$("#pie-chart-project").piechart({radius:60,xpos:90,ypos:90,width:190,height:170});$("body").attr("id",
"");I();peeq.editable.main();$("#table-states tbody").delegate("tr:not(.current)","click",function(){var x=$(this).find(".btn-delete").attr("href").substr(1);document.location.href="#/"+w.params.project+"/"+w.params.view+"/"+x});if(u.annotations.length){$("#table-annotations-container").find(".table-sortable").tablesorter({cssAsc:"icon-sort-asc",cssDesc:"icon-sort-desc",sortList:[[0,1]]});$("#table-annotations-container").delegate(".annotation-item","click",function(){var x=peeq.utils.template.annotations.get_id_from_elt($(this));
$(".annotate-preview-container ."+x).click()});$("#annotate-preview-image").load(function(){var x=null;x=$(this);var y=x.width(),k=x.height();$("#annotate-preview").addAnnotations(function(oa){return $("<a />",{href:document.location.href+"/annotate:"+peeq.utils.template.annotations.sanitize_id(oa._id),"class":"annotation-item annotation-id-"+peeq.utils.template.annotations.sanitize_id(oa._id)+" icon "+peeq.utils.template.get_annotation_marker_class(oa)+" ir",html:oa.type})},u.annotations,{containerHeight:k});
for(var ca=0,X=u.annotations.length,na=$("#annotate-preview").find(".annotation-item");ca<X;ca++){$preview_annotation=$(na[ca]);x=$preview_annotation.position();if(x.top<-5||x.top>k||x.left<-5||x.left>y)$preview_annotation.css("visibility","hidden")}$("#main").delegate(".annotation-item","mouseover",function(){var oa=peeq.utils.template.annotations.get_id_from_elt($(this));$("."+oa).addClass("on")}).delegate(".annotation-item","mouseout",function(){$(".annotation-item.on").removeClass("on")}).delegate(".annotation-item",
"click",function(){if($(this).attr("href"))document.location.href=$(this).attr("href")})})}})})})}).get("#/:project/:view/:state/annotate",function(w){this.trigger("annotate",w)}).get("#/:project/:view/:state/annotate::id",function(w){this.trigger("annotate",w)});this.bind("settings",function(w,u){h();peeq.api.request("/handler",{service:"settings"},"get",function(n){n.ok||D();u.title("\u00bb "+n.result.account.name+" \u00bb Settings");u.render(b("settings"),n.result,function(t){f(t,function(){r("settings");
I();$("body").attr("id","");$(".settings").find(".table-sortable").tablesorter({cssAsc:"icon-sort-asc",cssDesc:"icon-sort-desc",sortList:[[0,0]]});if(peeq.utils.template.user.is_admin(n.result.account.user_level)){$(".table-users").find(".btn-edit").click(function(){var x=$(this).parents("tr"),y=x.find(".table-column-name").text().split(","),k=$.trim(y[1]);y=$.trim(y[0]);var ca=x.find(".table-column-username").text(),X=x.find(".table-column-email").text(),na=x.find(".table-column-admin").text().length;
x=x.hasClass("is_me");var oa=$(".modal-view-edit-user");oa.find("input[name=firstname]").val(x?k.replace("(ME)",""):k);oa.find("input[name=lastname]").val(y);oa.find("input[name=username]").val(ca).data("original",ca);oa.find("input[name=email]").val(X);oa.find("input[name=admin]").attr("checked",na?"checked":"");oa.find(".btn-admin-change").click().click()});$(".btn-admin-change").click(function(){var x=$(this).parents("li"),y=x.find(".msg-admin"),k=x.find(".msg-user");x=x.find("input[name=admin]");
if(x.is(":checked")){y.hide();k.show();x.attr("checked","")}else{y.show();k.hide();x.attr("checked","checked")}return false})}})})})});this.bind("annotate",function(w,u){h();peeq.api.request("/handler",{service:"annotate",project:u.params.project,view:u.params.view,state:u.params.state},"get",function(n){n.ok||D();n=n.result||{};u.render(b("annotate"),n.state,function(t){f(t,function(){u.title("\u00bb "+n.account.name);r("annotate");$("body").attr("id","annotate");var x=$("#representation");x.find("img:eq(0)").load(function(){x.width($(this)[0].naturalWidth).height($(this)[0].naturalHeight);
$("header .btn-back").attr("href","#/"+u.params.project+"/"+u.params.view+"/"+u.params.state).click(function(){peeq.annotate.cleanup()});peeq.annotate.config.users={};for(var y=n.users.length,k=0;k<y;k++)peeq.annotate.config.users[n.users[k].username]=n.users[k].firstname+" "+n.users[k].lastname;y={"0":"None"};if(n.task_groups){k=0;for(var ca=n.task_groups.groups.length;k<ca;k++)y[n.task_groups.groups[k]._id]=n.task_groups.groups[k].label}y["-1"]="Create New Group";peeq.annotate.config.task_groups=
$.extend(peeq.annotate.config.task_groups,y);peeq.annotate.main();peeq.annotate.add_annotations(n.annotations,u.params.id||null)})})})})})})},h=function(){var D=document.location.hash,w=$("header");w.find("a").removeClass("off");w.find("a[href="+D+"]").addClass("on")},m=function(){$.polling(200,function(D){if(this.is_online!=navigator.onLine)(this.is_online=navigator.onLine)?$("#network-connectivity:visible").animate({bottom:"-30px"},200,"easeOutBack"):$("#network-connectivity").animate({bottom:"-3px"},
200,"easeOutBack");D()})},r=function(D){$("#bg img:not(#bg-default):visible").animate({opacity:0},400);D&&$("#bg img[src$="+D+".png]").animate({opacity:1},400)},G=function(){try{peeq.forms.main()}catch(D){}$("#main").delegate(".expander","click",function(){$(this).parents(".column").toggleClass("wide")});$("#btn-logout").click(function(){$.post("/api/account/logout",function(){document.location.href="http://yss.com"})})},I=function(){function D(w){w=$(w)[0].className.match(/modal-view-(\w|\d|-)*/);
return w.length?"."+w[0]:""}$(".modal").addClass("jqmWindow").jqm({overlay:90,trigger:false,closeClass:"btn-modal-close",onShow:function(w){w.w.css({top:"-1000px",display:"block",opacity:0}).animate({top:"7%",opacity:1},300,"easeOutQuad");$("input").toggle_form_field();$("textarea").toggle_form_field()},onHide:function(w){w.w.animate({top:"-1000px",opacity:0},150,"easeOutQuad");w.o.fadeOut(150,function(){$(this).remove()})}}).find("form").lastfieldentersubmit({submit:function(w){w.find(".btn-submit").click()}});
$(".btn-modal").click(function(){$(".modal"+D(this)).jqmShow();if($(this).hasClass("modal-view-delete-attachment")||$(this).hasClass("modal-view-delete-state")||$(this).hasClass("modal-view-delete-user")){var w=$(this),u=w.attr("href").substr(1),n=".table-column-title",t;if(w.hasClass("modal-view-delete-attachment"))t=$("#frm-attachment-delete");else if(w.hasClass("modal-view-delete-state"))t=$("#frm-state-delete");else{t=$("#frm-user-delete");n=".table-column-username"}t.find("input[name=id]").val(u);
t.find("p strong").append(" "+w.parents("tr").find(n).text())}return false});$(".btn-modal-cancel").click(function(){$(".btn-modal-close").click();return false});$("input[type=file]").filestyle({image:"/resources/imgs/btn-browse.png",imageheight:50,imagewidth:87,width:260})};this.is_online=navigator.onLine;this.main=function(){e();a.run();G();$("footer").css({top:"+=10"}).delay(250).animate({top:"-=10",opacity:1},250,"easeOutQuad");m()};this.toString=function(){return"No peeqing!"}};peeq.prototype.api={successCallbackHandler:function(a,b){$.isFunction(a)&&a(b)},do_ajax_upload:function(a,b){$("#iframe-ajax-on-demand").remove();var f=$('<iframe name="iframe-ajax-on-demand" id="iframe-ajax-on-demand" style="display:none;width:0;height:0" src="http://blitz.yss.com/#/settings" target="_self" />');f.insertAfter("#"+b.attr("id"));b.attr("action",a).submit();f.load(function(){document.location.reload(true);$("#iframe-ajax-on-demand").remove()});return false},request:function(a,b,f,e,
h){h=h||false;if(a){a="/api"+a;if(h)peeq.api.do_ajax_upload(a,b,e);else{if(f=="PUT")f="POST";$.ajax({beforeSend:function(m){m.setRequestHeader("X-HTTP-Method-Override",f||"GET")},type:"POST",data:b,dataType:"json",url:a,success:function(m){peeq.api.successCallbackHandler(e,m)}})}}}};peeq.prototype.forms={main:function(){$("#main").delegate("form .btn-submit","click",function(){var a=$(this).parents("form").attr("id"),b=a.split("-");if(b[2]=="delete")b[2]="remove";peeq.forms[b[1]][b[2]](a);return false})},project:{validate:function(a){var b=$("#"+a);b.one("complete.validate",function(f,e){e&&peeq.forms.project.submit(b,"PUT",function(h){h.ok&&document.location.reload(true)})});b.data("validation")||b.validation({rules:[{elt:"input[name=label]",rule:/[\w\d- ]{2,}/,checkevent:"keypress",
onerror:function(f,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}}]});b.trigger("validate")},add:function(a){peeq.forms.project.validate(a)},remove:function(a){peeq.forms.project.submit($("#"+a),"DELETE",function(b){if(b.ok)document.location.href="/"})},submit:function(a,b,f){var e=peeq.forms.utils.gen_id_from_label(a.find("[input[name=label]").val());peeq.api.request("/project/"+e,a.serialize(),b||"POST",function(h){$.isFunction(f)&&f(h)})}},view:{validate:function(a){var b=
$("#"+a);b.one("complete.validate",function(f,e){e&&peeq.forms.view.submit(b,"PUT",function(h){h.ok&&document.location.reload(true)})});b.data("validation")||b.validation({rules:[{elt:"input[name=label]",rule:/[\w\d- ]{2,}/,onerror:function(f,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=attachment]",rule:/.jpg$/,onerror:function(f,e){var h=e.parents(".field");h.find(".icon-error").text("jpg only.").show();h.find(".icon-success").hide()},onsuccess:function(f,
e){var h=e.parents(".field");h.find(".icon-error").hide();h.find(".icon-success").show()}}]});b.trigger("validate")},add:function(a){peeq.forms.view.validate(a)},remove:function(a){var b=$("#"+a);a=peeq.forms.utils.gen_id_from_label(b.find("[input[name=label]").val());var f=peeq.forms.utils.get_pathname(1,2);peeq.api.request("/project/"+f+"/"+a,{},"DELETE",function(e){if(e.ok){b.parents(".modal").find(".btn-modal-close").click();document.location.href="/#/"+f}})},submit:function(a,b,f){var e=peeq.forms.utils.gen_id_from_label(a.find("[input[name=label]").val()),
h=peeq.forms.utils.get_pathname();peeq.api.request("/project/"+h+"/"+e,a,b||"POST",function(m){$.isFunction(f)&&f(m)},true)}},state:{validate:function(a){var b=$("#"+a);b.one("complete.validate",function(f,e){e&&peeq.forms.state.submit(b,"PUT",function(h){h.ok&&document.location.reload(true)})});b.data("validation")||b.validation({rules:[{elt:"input[name=label]",rule:/[\w\d- ]{2,}/,onerror:function(f,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=attachment]",
rule:/.jpg$/,onerror:function(f,e){var h=e.parents(".field");h.find(".icon-error").text("jpg only.").show();h.find(".icon-success").hide()},onsuccess:function(f,e){var h=e.parents(".field");h.find(".icon-error").hide();h.find(".icon-success").show()}}]});b.trigger("validate")},add:function(a){peeq.forms.state.validate(a)},remove:function(a){peeq.forms.state.submit($("#"+a),"DELETE",function(b){if(b.ok){b=peeq.forms.utils.get_pathname(1,3);$form.parents(".modal").find(".btn-modal-close").click();document.location.href=
"/#/"+b}})},submit:function(a,b,f){var e=peeq.forms.utils.gen_id_from_label(a.find("[input[name=label]").val()),h=peeq.forms.utils.get_pathname(1,3);peeq.api.request("/project/"+h+"/"+e,a,b||"POST",function(m){$.isFunction(f)&&f(m)},true)}},attachment:{validate:function(a){var b=$("#"+a);b.one("complete.validate",function(f,e){e&&peeq.forms.attachment.submit(b,"PUT",function(h){h.ok&&document.location.reload(true)})});b.data("validation")||b.validation({rules:[{elt:"input[name=label]",rule:/[\w\d- ]{2,}/,
onerror:function(f,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=attachment]",rule:/\.(jpg|png|doc|docx|pdf|xls|xlsx|swf|txt)$/,onerror:function(f,e){var h=e.parents(".field");h.find(".icon-error").text("jpg, png, swf, txt, doc, pdf, xls only").show();h.find(".icon-success").hide()},onsuccess:function(f,e){var h=e.parents(".field");h.find(".icon-error").hide();h.find(".icon-success").show()}}]});b.trigger("validate")},validate_update:function(a){var b=
$("#"+a);b.one("complete.validate",function(f,e){if(e){var h=peeq.forms.utils.get_pathname(1);peeq.api.request("/project/"+h,b,"POST",function(m){m.ok&&document.location.reload(true)},true)}});b.data("validation")||b.validation({rules:[{elt:"input[name=attachment]",rule:/\.(jpg)$/,onerror:function(f,e){var h=e.parents(".field");h.find(".icon-error").text("jpg only").show();h.find(".icon-success").hide()},onsuccess:function(f,e){var h=e.parents(".field");h.find(".icon-error").hide();h.find(".icon-success").show()}}]});
b.trigger("validate")},add:function(a){peeq.forms.attachment.validate(a)},remove:function(a){var b=$("#"+a);a=encodeURIComponent(b.find("[input[name=id]").val());var f=peeq.forms.utils.get_pathname();peeq.api.request("/project/"+f+"/attachment/"+a,b.serialize(),"DELETE",function(e){e.ok&&document.location.reload(true)})},submit:function(a,b,f){var e=peeq.forms.utils.gen_id_from_label(a.find("[input[name=label]").val()),h=peeq.forms.utils.get_pathname();peeq.api.request("/project/"+h+"/attachment/"+
e,a,b||"POST",function(m){$.isFunction(f)&&f(m)},true)},update:function(a){peeq.forms.attachment.validate_update(a)}},user:{validate_add:function(a){var b=$("#"+a);b.one("complete.validate",function(f,e){e&&peeq.api.request("/account/"+peeq.utils.get_subdomain()+"/users",b.serialize(),"POST",function(h){if(h.ok)$(".modal").jqmHide();else if(h.errors)for(var m=0,r=h.errors.length,G;m<r;m++){G=b.find("input[name="+h.errors[m].key+"]").parents("li");G.find(".icon-success").hide();G.find(".icon-error").html(h.errors[m].message).show()}})});
b.data("validation")||b.validation({rules:[{elt:"input[name=firstname]",rule:/^[a-zA-Z]{2,}[a-zA-Z ]{0,}$/,onerror:function(f,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=lastname]",rule:/^[a-zA-Z]{2,}[a-zA-Z ]{0,}$/,onerror:function(f,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=email]",rule:$.validation.EMAIL,onerror:function(f,e){e.parent().find(".icon-error").text("Invalid email address.")}},{elt:"input[name=username]",
rule:/^[\w\d]{4,}$/,onerror:function(f,e){e.parent().find(".icon-error").text("Must be at least 4 characters.")}}]});b.trigger("validate")},validate_edit:function(a,b){var f=$("#"+a);f.one("complete.validate",function(e,h){h&&peeq.api.request("/account/"+peeq.utils.get_subdomain()+"/users/"+b,f.serialize(),"POST",function(m){if(m.ok){var r=$(".table-users").find(".username-"+b);peeq.forms.user.update_row_in_table(r,m.user,b);$(".modal").jqmHide()}else if(m.errors){r=0;for(var G=m.errors.length,I;r<
G;r++){I=f.find("input[name="+m.errors[r].key+"]").parents("li");I.find(".icon-success").hide();I.find(".icon-error").html(m.errors[r].message).show()}}})});f.data("validation")||f.validation({rules:[{elt:"input[name=firstname]",rule:/^[a-zA-Z]{2,}[a-zA-Z ]{0,}$/,onerror:function(e,h){h.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=lastname]",rule:/^[a-zA-Z]{2,}[a-zA-Z ]{0,}$/,onerror:function(e,h){h.parent().find(".icon-error").text("Must be at least 2 characters.")}},
{elt:"input[name=email]",rule:$.validation.EMAIL,onerror:function(e,h){h.parent().find(".icon-error").text("Invalid email address.")}},{elt:"input[name=username]",rule:/^[\w\d]{4,}$/,onerror:function(e,h){h.parent().find(".icon-error").text("Must be at least 4 characters.")}}]});f.trigger("validate")},validate_company_logo:function(a){var b=$("#"+a);b.one("complete.validate",function(f,e){e&&peeq.api.request("/account/"+peeq.utils.get_subdomain(),b,"POST",function(h){h.ok&&document.location.reload(true)},
true)});b.data("validation")||b.validation({rules:[{elt:"input[name=logo]",rule:/\.(jpg)$/,onerror:function(f,e){var h=e.parents(".field");h.find(".icon-error").text("jpg only").show();h.find(".icon-success").hide()},onsuccess:function(f,e){var h=e.parents(".field");h.find(".icon-error").hide();h.find(".icon-success").show()}}]});b.trigger("validate")},add:function(a){peeq.forms.user.validate_add(a)},edit:function(a){var b=$("#"+a),f=b.find("input[name=username]").data("original");b.find("input[name=username]").data("original",
"");peeq.forms.user.validate_edit(a,f)},remove:function(a){a=$("#"+a);var b=a.find("[input[name=id]").val();peeq.api.request("/account/"+peeq.utils.get_subdomain()+"/users/"+b,a.serialize(),"DELETE",function(f){if(f.ok){$(".table-users").find(".username-"+b).remove();$(".modal").jqmHide()}})},changepassword:function(a){a=$("#"+a);var b=$(".modal-view-changepassword-user").attr("href").substr(1);peeq.api.request("/account/"+peeq.utils.get_subdomain()+"/users/"+b,a.serialize(),"POST",function(f){f.ok&&
$(".settings").find(".msg-password-changed").fadeIn().delay(5E3).fadeOut();$(".modal").jqmHide()})},updatecompanylogo:function(a){peeq.forms.user.validate_company_logo(a)},update_row_in_table:function(a,b,f){a.removeClass("username-"+f).addClass("username-"+f);a.find(".table-column-name").text(b.lastname+", "+b.firstname);a.find(".table-column-username").text(b.username);a.find(".table-column-email").text(b.email);a.find(".table-column-admin").text(b.level>=7?'<td class="table-column-admin"><span class="icon icon-success ir">admin</span></td>':
"")}},utils:{gen_id_from_label:function(a){return a.replace(/(_|\s)/g,"-").toLowerCase()},get_pathname:function(a,b){var f=document.location.hash.split("/");return f.slice(a||1,b||f.length).join("/")},reset:function(){}}};peeq.prototype.editable={main:function(){$(".editable").editable(function(a){peeq.editable.save({label:a},function(b){console.log(b)});return a},{indicator:"Saving...",tooltip:"Click to edit...",onblur:"ignore",submit:"Save",cancel:"Cancel",cssclass:"frm-editable",width:"none",height:"none"});$(".editable-textarea").editable(function(a){a=peeq.utils.template.nl2br(a);peeq.editable.save({description:a},function(b){console.log(b)});return a},{type:"textarea",indicator:"Saving...",tooltip:"Click to edit...",
onblur:"ignore",submit:"Save",cancel:"Cancel",cssclass:"frm-editable",width:"none",height:"none",data:function(a){return $.trim(a.replace(/<br[\s\/]?>/gi,"\n"))}}).each(function(){$(this).html($(this).html().replace(/&lt;br \/&gt;/g,"<br />"))})},save:function(a,b){var f=document.location.hash.split("/");resource="/project/"+f.slice(1,f.length>2?f.length-1:2).join("/");peeq.api.request(resource,a,"POST",function(e){$.isFunction(b)&&b(e)})}};peeq.prototype.annotate={config:{users:{},context_options:{Flash:"Flash",HTML:"HTML",PHP:"PHP",dotnet:".NET",design:"Design",general:"General"},task_groups:{}},main:function(){var a=$("#representation");a.annotatableImage(peeq.annotate.ui_annotation,{xPosition:"left",yPosition:"top"});a.delegate(".annotation .btn-save","click",function(){var b=$(this).parents(".annotation"),f=b.find(".frm-annotation"),e=b.find("input[name=label]").val(),h=b.find("textarea[name=description]").val(),m=peeq.utils.querystring_to_object(f.serialize());
f=b.serializeAnnotation();m=$.extend(m,f);m.label=e||"No Title";m.description=h;m.estimate=m.estimate!=""?m.estimate+" "+m.estimate_time:"";m.priority=m.priority=="on"?1:0;m.status=m.status=="on"?1:0;delete m.estimate_time;e=b.data("annotation-id");h=document.location.hash.split("/");h=h.slice(1,h.length-1).join("/");if(e){e="project/"+h+"/"+peeq.utils.template.annotations.sanitize_id(e);method="POST"}else{e="project/"+h+"/annotations";method="PUT"}peeq.api.request("/"+e,m,method,function(r){if(r.ok){b.data("annotation-id",
r.id);b.addClass("annotation-"+peeq.utils.template.annotations.sanitize_id(r.id));m.type=="task"&&peeq.annotate.save_group(b,m.task_groups,m.new_group);r=b.find(".annotation-num");var G=r.width();r.append("<span class='msg-save peeq'> Saving </span>").animate({width:70},250,function(){$(this).delay(2E3).animate({width:G},200,function(){$(this).find(".msg-save").remove()})})}b.trigger("deactivate")});return false}).delegate(".annotation .btn-cancel","click",function(){var b=$(this).parents(".annotation");
peeq.annotate.is_empty_annotation(b)?b.find(".btn-delete").click():b.find(".annotation-num").trigger("click",true);return false}).delegate(".annotation .btn-delete","click",function(){var b=$(this).parents(".annotation");b.fadeOut(function(){$(this).remove()});(b=b.data("annotation-id"))&&peeq.api.request("/"+b,{},"DELETE",function(f){console.log(f)});return false}).delegate(".tbl-related-tasks a","click",function(){var b=$(this).attr("href").split(":"),f=document.location.hash.split(":");if(b[0]==
f[0]){peeq.annotate.deeplink_to_annotation(b[1]);return false}})},save_group:function(a,b,f){var e=a.data("group-id");e=e?e.split("/")[4]:"";var h=a.data("annotation-id"),m=document.location.hash.split("/")[1];if(b.indexOf("/")!=-1)b=b.split("/")[4];if(m)if(b==-1)peeq.api.request("/project/"+m+"/group/task",{label:f,task_id:h},"POST",function(r){if(r.ok){a.data("group-id",r.id);peeq.annotate.cleanup();var G=$("#representation").find(".annotation .dd-task-groups");$("<option value='"+r.id+"'>"+f+"</option>").insertBefore(G.find("option:last"));
a.find(".dd-task-groups option[value="+r.id+"]").attr("selected","selected");a.find("input[name=new_group]").val("").hide();a.find(".btn-see-related-tasks").show();G.selectmenu({width:175});peeq.annotate.config.task_groups[r._id]=f}});else if(e&&b!=e)peeq.api.request("/project/"+m+"/group/task/"+e,{},"DELETE",function(r){r.ok&&b>0&&peeq.api.request("/project/"+m+"/group/task/"+b+"/"+encodeURIComponent(h),{},"POST",function(G){a.data("group-id",G.id)})});else b!=e&&b!=0&&peeq.api.request("/project/"+
m+"/group/task/"+b+"/"+encodeURIComponent(h),{},"POST",function(r){a.data("group-id",r.id)})},cleanup:function(){$("ul[id^=dd-task-groups]").remove();$("a[id^=dd-task-groups]").remove()},get_annotations:function(){return $("#representation .annotation").serializeAnnotations()},add_annotations:function(a,b){$("#representation").addAnnotations(peeq.annotate.ui_annotation,a,{xPosition:"left",yPosition:"top"}).trigger("mouseup");$(".annotation:last").trigger("deactivate").addClass("minimized");b&&peeq.annotate.deeplink_to_annotation(b)},
deeplink_to_annotation:function(a){a=$("#representation .annotation-"+a);var b=parseInt(a.css("top"));a.trigger("activate");window.scrollTo(0,b)},get_next_annotation_count:function(){return $("#representation .annotation").length?parseInt($("#representation .annotation:last .annotation-num").text())+1:1},is_empty_annotation:function(a){return a.find("input[name=label]").val()==""&&!a.data("annotation-id")},ui_annotation:function(a){a=$.extend({id:"",context:"",description:"",height:0,width:0,label:"",
type:"note",x:null,y:null,group:"none"},a);if(a._id){a.id=a._id;delete a._id}a.type_class=a.type=="note"?"type-note":"type-task";var b=$("#representation");b.find(".annotation").each(function(){var m=$(this);peeq.annotate.is_empty_annotation(m)?m.find(".btn-delete").click():m.find(".annotation-num").trigger("click",true)});var f=$("<div />",{"class":"annotation "+a.type_class+" annotation-"+peeq.utils.template.annotations.sanitize_id(a.id)}).resizable({handles:"e, s, w, ne, se, sw",containment:"parent",
start:function(){$(this).trigger("deactivate")},stop:function(m,r){$(this).find(".frm-annotation").css({top:r.size.height+10})}}).draggable({containment:"parent",handle:".overlay",start:function(){$(this).trigger("deactivate")}}).mouseup(function(){$(this).addClass("active")}).bind("activate",function(){$(".annotation").removeClass("active").addClass("minimized");$(this).addClass("active").removeClass("minimized")}).bind("deactivate",function(){$(this).removeClass("active")});b.mousemove(function(m){var r=
f.position();f.width(m.pageX-r.left-b.offset().left).height(m.pageY-r.top-50);f.find(".frm-annotation").css({top:f.height()+10});return false}).mouseup(function(){$(this).unbind("mousemove").unbind("mouseup")});$("<div />",{"class":"border"}).appendTo(f);$("<div />",{"class":"overlay",click:function(){$(this).parents(".annotation").trigger("activate")}}).appendTo(f);var e=peeq.annotate.get_next_annotation_count();$("<span />",{"class":"annotation-num",html:e,click:function(m,r){var G=$(this).parents(".annotation"),
I=G.find(".frm-annotation");if(r||!G.hasClass("minimized")){G.hasClass("minimized")||G.data("peeq",{width:G.width(),height:G.height()});G.addClass("minimized")}else{var D=G.data("peeq");b.find(".annotation").each(function(){$(this)!=G&&$(this).find(".annotation-num").trigger("click",true)});G.removeClass("minimized").addClass("active").css({width:D.width,height:D.height});I.fadeIn()}return false}}).appendTo(f);var h=$("<form />",{"class":"frm-annotation",action:"post"}).appendTo(f);$("<div />",{html:'<div class="type"><a href="#" class="btn btn-note selected"><span class="icon icon-note"></span></a><a href="#" class="btn btn-task"><span class="icon icon-task"></span></a><input type="radio" value="note" name="type" checked="checked" class="visuallyhidden" /><input type="radio" value="task" name="type" class="visuallyhidden" /></div><div class="frm-annotation-container"><div class="frm-annotation-inner"><p class="field"><a href="#" class="btn btn-priority" title="Low Priority">!</a><input type="checkbox" name="priority" class="visuallyhidden"/><input type="text" name="label" value="'+
a.label+'" /><label for="label">Title</label></p><p class="field"><textarea name="description">'+a.description+'</textarea><label for="description">Description</label></p><div class="task-fields"><p><label for="context">Context</label><select id="dd-context-'+e+'" class="dd-context" name="context"></select></p><p><label for="assigned_to">Assigned To</label><select id="dd-assigned-to-'+e+'" class="dd-assigned-to" name="assigned_to"></select><a href="#" class="btn btn-status status-close">Close Task</a><input type="checkbox" name="status" class="visuallyhidden" /></p><p class="field field-estimate"><label for="estimate">Estimate</label><input type="text" name="estimate" maxlength="4" /> <select id="dd-estimate-'+
e+'" class="dd-estimate" name="estimate_time"><option value="hours">hours</option><option value="days">days</option><option value="weeks">weeks</option></select></p><p class="field field-groups"><label for="task-groups">Group</label><select id="dd-task-groups-'+e+'" class="dd-task-groups" name="task_groups"></select><input type="text" name="new_group" /><a href="#" class="btn-see-related-tasks">See Related Tasks &raquo;</a></p></div><p class="group-cta"><a href="#" class="btn btn-save">Save</a><a href="#" class="btn btn-cancel">Cancel</a><a href="#" class="btn btn-delete">Delete</a></p><div class="view-related-tasks"><a href="#" class="btn btn-back btn-back-to-form">Back</a><ol class="tbl-related-tasks"></ol></div></div></div>'}).appendTo(h);
peeq.utils.add_options_to_select(peeq.annotate.config.context_options,h.find(".dd-context"));peeq.utils.add_options_to_select(peeq.annotate.config.users,h.find(".dd-assigned-to"));peeq.utils.add_options_to_select(peeq.annotate.config.task_groups,h.find(".dd-task-groups"));h.find(".type .btn-note").click(function(){var m=$(this).parents(".annotation");$(this).addClass("selected");h.find("input[name=type]:eq(1)").removeAttr("checked");h.find("input[name=type]:eq(0)").attr("checked","checked");h.find(".task-fields").hide();
m.removeClass("type-task").addClass("type-note");m.find(".type .btn-task").removeClass("selected");return false});h.find(".type .btn-task").click(function(){var m=$(this).parents(".annotation");$(this).addClass("selected");h.find("input[name=type]:eq(0)").removeAttr("checked");h.find("input[name=type]:eq(1)").attr("checked","checked");h.find(".task-fields").show();m.removeClass("type-note").addClass("type-task");m.find(".type .btn-note").removeClass("selected");return false});h.find(".dd-task-groups").change(function(){var m=
$(this).val(),r=h.find("input[name=new_group]"),G=h.find(".btn-see-related-tasks");if(m==0)G.hide();else if(m==-1){G.hide();r.show();var I=setTimeout(function(){r.focus();clearTimeout(I)},100)}else{r.hide();G.show()}});h.find(".btn-see-related-tasks").click(function(){var m=h.find(".dd-task-groups").val();peeq.api.request("/"+m,{},"GET",function(r){if(r.ok){var G=h.find(".tbl-related-tasks"),I=[],D="",w=[],u="",n=h.parents(".annotation").data("annotation-id"),t=r.tasks.length;if(t>0)for(var x=0;x<
t;x++){if(x>6){I.push('<li class="plus-more">plus <span class="count incomplete">'+(t-x)+"</span> more.</li>");break}D=r.tasks[x];if(D._id!=n){w=D._id.split("/").slice(1);u=w.pop();w.push("annotate:"+u);w=w.join("/");I.push('<li><a href="#/'+w+'"><span class="title">'+peeq.utils.template.truncate(D.label,50)+"</span><br />in "+D.view.label+" &raquo; "+D.state.label+"</a></li>")}}I.length<1&&I.push('<li class="none">No related tasks found.</li>');G.html(I.join(""));f.find(".frm-annotation-inner").animate({left:-402},
250,"easeOutQuad")}});return false});h.find(".btn-back-to-form").click(function(){f.find(".frm-annotation-inner").animate({left:0},250,"easeOutQuad");return false});h.find(".btn-priority").click(function(){var m=$(this),r=m.next("input[name=priority]"),G="Low";m.toggleClass("checked");r.attr("checked",false);if(m.hasClass("checked")){G="High";r.attr("checked",true)}m.attr("title",G+" Priority");return false});h.find(".btn-status").click(function(){var m=$(this),r=m.next("input[name=status]");if(m.hasClass("status-close")){m.removeClass("status-close").text("Reopen task");
r.attr("checked",true)}else{m.addClass("status-close").text("Close Task");r.attr("checked",false)}return false});h.find("input[name=estimate]").numeric(".");if(a.width&&a.height){f.data("peeq",{width:a.width,height:a.height});h.css({top:10+parseInt(a.height)})}if(a.type=="task"){h.find(".type .btn-task").click();h.find(".task-fields").show()}a.context&&h.find(".dd-context option[value="+a.context+"]").attr("selected","selected");a.assigned_to&&h.find(".dd-assigned-to option[value="+a.assigned_to+
"]").attr("selected","selected");if(a.estimate){e=a.estimate.split(" ");h.find("input[name=estimate]").val(e[0]);h.find(".estimate_time option[value="+e[1]+"]")}if(a.group)if(a.group=="none"||a.group<1)h.find(".btn-see-related-tasks").hide();else{h.find(".dd-task-groups option[value="+a.group+"]").attr("selected","selected");f.data("group-id",a.group)}else h.find(".btn-see-related-tasks").hide();a.priority&&a.priority==1&&h.find(".btn-priority").click();a.status&&a.status=="1"&&h.find(".btn-status").click();
a.id&&f.data("annotation-id",a.id);h.find("select:not(.dd-estimate)").selectmenu({width:175,format:function(m){m=m;var r=[{find:/^([^\-]+) \- /g,rep:'<span class="ui-selectmenu-item-header">$1</span>'},{find:/([^\|><]+) \| /g,rep:'<span class="ui-selectmenu-item-content">$1</span>'},{find:/([^\|><\(\)]+) (\()/g,rep:'<span class="ui-selectmenu-item-content">$1</span>$2'},{find:/([^\|><\(\)]+)$/g,rep:'<span class="ui-selectmenu-item-content">$1</span>'},{find:/(\([^\|><]+\))$/g,rep:'<span class="ui-selectmenu-item-footer">$1</span>'}];
for(var G in r)m=m.replace(r[G].find,r[G].rep);return m}});h.find("select.dd-estimate").selectmenu({width:95,menuWidth:75});return f}};peeq.prototype.utils={template:{index:function(a,b){return $.inArray(a,b)+1},percentage:function(a,b){return b>0?parseInt(a/b*100,10):100},truncate:function(a,b){var f,e;if("string"!==typeof a)return"";f=a.split("");if(f.length>b){for(e=f.length-1;e>-1;--e)if(e>b)f.length=e;else if(" "===f[e]){f.length=e;break}f.push("...")}return f.join("")},elapsed_time:function(a){var b=new Date,f=new Date;f.setFullYear(a.substr(0,4));f.setMonth(a.substr(5,2)-1);f.setDate(a.substr(8,2));f.setHours(a.substr(11,
2));f.setMinutes(a.substr(14,2));f.setSeconds(a.substr(17,2));b.setHours(b.getHours()-1);b=(b.getTime()-f.getTime())/1E3;a=function(e){return e==1?"":"s"};if(b<0)return"just now";if(b<60){b=b;return b+" second"+a(b)+" ago"}if(b<3600){b=Math.floor(b/60);return b+" minute"+a(b)+" ago"}if(b<86400){b=Math.floor(b/60/60);return b+" hour"+a(b)+" ago"}if(b<604800){b=Math.floor(b/60/60/24);return b+" day"+a(b)+" ago"}if(b<2678400){b=Math.floor(b/60/60/24/7);return b+" week"+a(b)+" ago"}if(b<31536E3){b=Math.floor(b/
60/60/24/31);return b+" month"+a(b)+" ago"}b=Math.floor(b/60/60/24/365);return b+" year"+a(b)+" ago"},get_completed_projects_count:function(a){for(var b=0,f=0,e=a.length,h;f<e;f++){h=a[f];h.tasks.complete>0&&h.tasks.complete==h.tasks.total&&b++}return b},sanitize_id:function(a){return"#/"+a.split("/").slice(1).join("/")},completed_views:function(a){for(var b=0,f=0,e=a.length;f<e;f++)a[f].tasks.total>0&&a[f].tasks.completed>=a[f].tasks.total&&b++;return b},completed_tasks_in_project:function(a){for(var b=
0,f=0,e=a.length;f<e;f++)b+=a[f].tasks.completed;return b},total_tasks_in_project:function(a){for(var b=0,f=0,e=a.length;f<e;f++)b+=a[f].tasks.total;return b},icon_from_content_type:function(a){var b="icon-view";switch(a){case "application/pdf":b="icon-pdf";break;case "image/gif":b="icon-gif";break;case "image/jpeg":b="icon-jpg";break;case "image/png":b="icon-png";break;case "text/html":b="icon-html";break;case "text/javascript":b="icon-js";break;case "text/xml":b="icon-xml";break}return b},get_annotation_marker_class:function(a){var b=
"icon-marker-incomplete";switch(a.type){case "note":b="icon-note";break;case "task":b+=" icon-marker";if(a.status==1)b+=" icon-marker-complete";break}return b},annotations:{sanitize_id:function(a){return a.split("/").slice(-1)},get_id_from_elt:function(a){return a.attr("class").match(/annotation-id-(\w|\d)*/)[0]},get_priority:function(a){return a&&a>0?"!":""},get_status:function(a){return a>0?"complete":"incomplete"},get_status_icon:function(a){return a>0?"icon icon-success":""}},states:{get_id_from_elt:function(a){return a.attr("class").match(/state-id-(\w|\d|-)*/)[0]},
get_current:function(a,b){for(var f=a[0],e=0,h=a.length;e<h;e++)if(a[e]._id==b){f=a[e];break}return f}},user:{is_admin:function(a){return a>=7}},nl2br:function(a){return a.replace(RegExp("\\n","g"),"<br />")}},add_options_to_select:function(a,b){var f=[];for(var e in a)f.push('<option value="'+e+'">'+a[e]+"</option>");b.html(f.join(""))},querystring_to_object:function(a){var b={};a.replace(/([^=&]+)=([^&]*)/g,function(f,e,h){b[unescape(e)]=unescape(h)});return b},get_subdomain:function(){return document.location.host.split(".")[0]}};peeq=new peeq;$(function(){peeq.main()});
