(function(){function a(){if(a.is(arguments[0],da)){for(var d=arguments[0],h=Ja[i](a,d.splice(0,3+a.is(d[0],aa))),l=h.set(),o=0,s=d[N];o<s;o++){var p=d[o]||{};r[C](p.type)&&l[na](h[p.type]().attr(p))}return l}return Ja[i](a,arguments)}function b(d,h,l){function o(){var s=Array[G].slice.call(arguments,0),p=s[P]("\u25ba"),z=o.cache=o.cache||{},E=o.count=o.count||[];if(z[C](p))return l?l(z[p]):z[p];E[N]>=1E3&&delete z[E.shift()];E[na](p);z[p]=d[i](h,s);return l?l(z[p]):z[p]}return o}function g(){return this.x+
Z+this.y}function e(d){return function(h,l,o,s){var p={back:d};a.is(o,"function")?s=o:p.rot=o;h&&h.constructor==wa&&(h=h.attrs.path);h&&(p.along=h);return this.animate(p,l,s)}}function j(d,h,l,o,s,p){function z(ga,ea){var fa,ba,ja,ka;ja=ga;for(ba=0;ba<8;ba++){ka=((D*ja+B)*ja+E)*ja-ga;if(J.abs(ka)<ea)return ja;fa=(3*D*ja+2*B)*ja+E;if(J.abs(fa)<1.0E-6)break;ja-=ka/fa}fa=0;ba=1;ja=ga;if(ja<fa)return fa;if(ja>ba)return ba;for(;fa<ba;){ka=((D*ja+B)*ja+E)*ja;if(J.abs(ka-ga)<ea)return ja;if(ga>ka)fa=ja;
else ba=ja;ja=(ba-fa)/2+fa}return ja}var E=3*h,B=3*(o-h)-E,D=1-E-B,L=3*l,Q=3*(s-l)-L,U=1-L-Q;return function(ga,ea){var fa=z(ga,ea);return((U*fa+Q)*fa+L)*fa}(d,1/(200*p))}a.version="1.5.0";var m=/[, ]+/,r={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},F=/\{(\d+)\}/g,G="prototype",C="hasOwnProperty",v=document,u=window,n={was:Object[G][C].call(u,"Raphael"),is:u.Raphael},t=function(){this.customAttributes={}},y,i="apply",X="createTouch"in v,Z=" ",K=String,ha="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend orientationchange touchcancel gesturestart gesturechange gestureend".split(Z),
ia={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},P="join",N="length",O=K[G].toLowerCase,J=Math,R=J.max,V=J.min,T=J.pow,aa="number",da="array",oa=Object[G].toString,na="push",ra=/^(?=[\da-f]$)/,Aa=/^url\(['"]?([^\)]+?)['"]?\)$/i,ya=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+\s*,\s*[\d\.]+\s*,\s*[\d\.]+(?:\s*,\s*[\d\.]+)?)\s*\)|rgba?\(\s*([\d\.]+%\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%(?:\s*,\s*[\d\.]+%)?)\s*\)|hsb\(\s*([\d\.]+(?:deg|\xb0)?\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hsb\(\s*([\d\.]+(?:deg|\xb0|%)\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\)|hsl\(\s*([\d\.]+(?:deg|\xb0)?\s*,\s*[\d\.]+\s*,\s*[\d\.]+)\s*\)|hsl\(\s*([\d\.]+(?:deg|\xb0|%)\s*,\s*[\d\.]+%\s*,\s*[\d\.]+%)\s*\))\s*$/i,
Ba=/^(NaN|-?Infinity)$/,Ca=/^cubic-bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,za=J.round,ma=parseFloat,Ha=parseInt,Xa=K[G].toUpperCase,Ya={blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/",opacity:1,path:"M0,0",r:0,rotation:0,rx:0,ry:0,scale:"1 1",src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt",
"stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",translation:"0 0",width:0,x:0,y:0},eb={along:"along",blur:aa,"clip-rect":"csv",cx:aa,cy:aa,fill:"colour","fill-opacity":aa,"font-size":aa,height:aa,opacity:aa,path:"path",r:aa,rotation:"csv",rx:aa,ry:aa,scale:"csv",stroke:"colour","stroke-opacity":aa,"stroke-width":aa,translation:"csv",width:aa,x:aa,y:aa},Cb=/,?([achlmqrstvxz]),?/gi,Ka=/\s*,\s*/,Ra={hs:1,rg:1},
Db=/^(from|to|\d+%)$/,ob=/([achlmqstvz])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?\s*,?\s*)+)/ig,pb=/(-?\d*\.?\d*(?:e[-+]?\d+)?)\s*,?\s*/ig,qb=function(d,h){return d.key-h.key};a.type=u.SVGAngle||v.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if(a.type=="VML"){var Ea=v.createElement("div");Ea.innerHTML='<v:shape adj="1"/>';Ea=Ea.firstChild;Ea.style.behavior="url(#default#VML)";if(!(Ea&&typeof Ea.adj=="object"))return a.type=null;Ea=null}a.svg=!(a.vml=a.type==
"VML");t[G]=a[G];y=t[G];a._id=0;a._oid=0;a.fn={};a.is=function(d,h){h=O.call(h);if(h=="finite")return!Ba.test(+d);return h=="null"&&d===null||h==typeof d||h=="object"&&d===Object(d)||h=="array"&&Array.isArray&&Array.isArray(d)||oa.call(d).slice(8,-1).toLowerCase()==h};a.angle=function(d,h,l,o,s,p){if(s==null){d=d-l;h=h-o;if(!d&&!h)return 0;return((d<0)*180+J.atan(-h/-d)*180/J.PI+360)%360}else return a.angle(d,h,s,p)-a.angle(l,o,s,p)};a.snapTo=function(d,h,l){l=l||10;d=[].concat(d);for(var o=d.length;o--;)if(J.abs(d[o]-
h)<=l)return d[o];return h};a.setWindow=function(d){u=d;v=u.document};var Na=function(d){if(a.vml){var h=/^\s+|\s+$/g,l;try{var o=new ActiveXObject("htmlfile");o.write("<body>");o.close();l=o.body}catch(s){l=createPopup().document.body}var p=l.createTextRange();Na=b(function(E){try{l.style.color=K(E).replace(h,"");var B=p.queryCommandValue("ForeColor");B=(B&255)<<16|B&65280|(B&16711680)>>>16;return"#"+("000000"+B.toString(16)).slice(-6)}catch(D){return"none"}})}else{var z=v.createElement("i");z.title=
"Rapha\u00ebl Colour Picker";z.style.display="none";v.body.appendChild(z);Na=b(function(E){z.style.color=E;return v.defaultView.getComputedStyle(z,"").getPropertyValue("color")})}return Na(d)},fb=function(){return"hsb("+[this.h,this.s,this.b]+")"},gb=function(){return"hsl("+[this.h,this.s,this.l]+")"},rb=function(){return this.hex};a.hsb2rgb=function(d,h,l){if(a.is(d,"object")&&"h"in d&&"s"in d&&"b"in d){l=d.b;h=d.s;d=d.h}return a.hsl2rgb(d,h,l/2)};a.hsl2rgb=function(d,h,l){if(a.is(d,"object")&&"h"in
d&&"s"in d&&"l"in d){l=d.l;h=d.s;d=d.h}if(d>1||h>1||l>1){d/=360;h/=100;l/=100}var o={},s=["r","g","b"],p;if(h){h=l<0.5?l*(1+h):l+h-l*h;l=2*l-h;for(var z=0,E=s.length;z<E;z++){p=d+1/3*-(z-1);p<0&&p++;p>1&&p--;o[s[z]]=p*6<1?l+(h-l)*6*p:p*2<1?h:p*3<2?l+(h-l)*(2/3-p)*6:l}}else o={r:l,g:l,b:l};o.r*=255;o.g*=255;o.b*=255;d=(~~o.r).toString(16);s=(~~o.g).toString(16);h=(~~o.b).toString(16);d=d.replace(ra,"0");s=s.replace(ra,"0");h=h.replace(ra,"0");o.hex="#"+d+s+h;o.toString=rb;return o};a.rgb2hsb=function(d,
h,l){if(h==null&&a.is(d,"object")&&"r"in d&&"g"in d&&"b"in d){l=d.b;h=d.g;d=d.r}if(h==null&&a.is(d,"string")){var o=a.getRGB(d);d=o.r;h=o.g;l=o.b}if(d>1||h>1||l>1){d/=255;h/=255;l/=255}o=R(d,h,l);var s=V(d,h,l);if(s==o)return{h:0,s:0,b:o,toString:fb};else{var p=o-s;s=p/o;d=d==o?(h-l)/p:h==o?2+(l-d)/p:4+(d-h)/p;d/=6;d<0&&d++;d>1&&d--}return{h:d,s:s,b:o,toString:fb}};a.rgb2hsl=function(d,h,l){if(h==null&&a.is(d,"object")&&"r"in d&&"g"in d&&"b"in d){l=d.b;h=d.g;d=d.r}if(h==null&&a.is(d,"string")){var o=
a.getRGB(d);d=o.r;h=o.g;l=o.b}if(d>1||h>1||l>1){d/=255;h/=255;l/=255}var s=R(d,h,l),p=V(d,h,l);o=(s+p)/2;if(p==s)d={h:0,s:0,l:o};else{var z=s-p;p=o<0.5?z/(s+p):z/(2-s-p);d=d==s?(h-l)/z:h==s?2+(l-d)/z:4+(d-h)/z;d/=6;d<0&&d++;d>1&&d--;d={h:d,s:p,l:o}}d.toString=gb;return d};a._path2string=function(){return this.join(",").replace(Cb,"$1")};a.getRGB=b(function(d){if(!d||(d=K(d)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1};if(d=="none")return{r:-1,g:-1,b:-1,hex:"none"};!(Ra[C](d.substring(0,
2))||d.charAt()=="#")&&(d=Na(d));var h,l,o,s,p;if(d=d.match(ya)){if(d[2]){o=Ha(d[2].substring(5),16);l=Ha(d[2].substring(3,5),16);h=Ha(d[2].substring(1,3),16)}if(d[3]){o=Ha((p=d[3].charAt(3))+p,16);l=Ha((p=d[3].charAt(2))+p,16);h=Ha((p=d[3].charAt(1))+p,16)}if(d[4]){d=d[4].split(Ka);h=ma(d[0]);l=ma(d[1]);o=ma(d[2]);s=ma(d[3])}if(d[5]){d=d[5].split(Ka);h=ma(d[0])*2.55;l=ma(d[1])*2.55;o=ma(d[2])*2.55;s=ma(d[3])}if(d[6]){d=d[6].split(Ka);h=ma(d[0]);l=ma(d[1]);o=ma(d[2]);(d[0].slice(-3)=="deg"||d[0].slice(-1)==
"\u00b0")&&(h/=360);return a.hsb2rgb(h,l,o)}if(d[7]){d=d[7].split(Ka);h=ma(d[0])*2.55;l=ma(d[1])*2.55;o=ma(d[2])*2.55;(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(h/=360*2.55);return a.hsb2rgb(h,l,o)}if(d[8]){d=d[8].split(Ka);h=ma(d[0]);l=ma(d[1]);o=ma(d[2]);(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(h/=360);return a.hsl2rgb(h,l,o)}if(d[9]){d=d[9].split(Ka);h=ma(d[0])*2.55;l=ma(d[1])*2.55;o=ma(d[2])*2.55;(d[0].slice(-3)=="deg"||d[0].slice(-1)=="\u00b0")&&(h/=360*2.55);return a.hsl2rgb(h,
l,o)}d={r:h,g:l,b:o};h=(~~h).toString(16);l=(~~l).toString(16);o=(~~o).toString(16);h=h.replace(ra,"0");l=l.replace(ra,"0");o=o.replace(ra,"0");d.hex="#"+h+l+o;isFinite(ma(s))&&(d.o=s);return d}return{r:-1,g:-1,b:-1,hex:"none",error:1}},a);a.getColor=function(d){d=this.getColor.start=this.getColor.start||{h:0,s:1,b:d||0.75};var h=this.hsb2rgb(d.h,d.s,d.b);d.h+=0.075;if(d.h>1){d.h=0;d.s-=0.2;d.s<=0&&(this.getColor.start={h:0,s:1,b:d.b})}return h.hex};a.getColor.reset=function(){delete this.start};
a.parsePathString=b(function(d){if(!d)return null;var h={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},l=[];if(a.is(d,da)&&a.is(d[0],da))l=Za(d);l[N]||K(d).replace(ob,function(o,s,p){var z=[];o=O.call(s);p.replace(pb,function(E,B){B&&z[na](+B)});if(o=="m"&&z[N]>2){l[na]([s].concat(z.splice(0,2)));o="l";s=s=="m"?"l":"L"}for(;z[N]>=h[o];){l[na]([s].concat(z.splice(0,h[o])));if(!h[o])break}});l.toString=a._path2string;return l});a.findDotsAtSegment=function(d,h,l,o,s,p,z,E,B){var D=1-B,L=T(D,3)*d+T(D,2)*
3*B*l+D*3*B*B*s+T(B,3)*z;D=T(D,3)*h+T(D,2)*3*B*o+D*3*B*B*p+T(B,3)*E;var Q=d+2*B*(l-d)+B*B*(s-2*l+d),U=h+2*B*(o-h)+B*B*(p-2*o+h),ga=l+2*B*(s-l)+B*B*(z-2*s+l),ea=o+2*B*(p-o)+B*B*(E-2*p+o);d=(1-B)*d+B*l;h=(1-B)*h+B*o;s=(1-B)*s+B*z;p=(1-B)*p+B*E;E=90-J.atan((Q-ga)/(U-ea))*180/J.PI;(Q>ga||U<ea)&&(E+=180);return{x:L,y:D,m:{x:Q,y:U},n:{x:ga,y:ea},start:{x:d,y:h},end:{x:s,y:p},alpha:E}};var $a=b(function(d){if(!d)return{x:0,y:0,width:0,height:0};d=Sa(d);for(var h=0,l=0,o=[],s=[],p,z=0,E=d[N];z<E;z++){p=d[z];
if(p[0]=="M"){h=p[1];l=p[2];o[na](h);s[na](l)}else{h=Eb(h,l,p[1],p[2],p[3],p[4],p[5],p[6]);o=o.concat(h.min.x,h.max.x);s=s.concat(h.min.y,h.max.y);h=p[5];l=p[6]}}d=V[i](0,o);p=V[i](0,s);return{x:d,y:p,width:R[i](0,o)-d,height:R[i](0,s)-p}}),Za=function(d){var h=[];if(!a.is(d,da)||!a.is(d&&d[0],da))d=a.parsePathString(d);for(var l=0,o=d[N];l<o;l++){h[l]=[];for(var s=0,p=d[l][N];s<p;s++)h[l][s]=d[l][s]}h.toString=a._path2string;return h},hb=b(function(d){if(!a.is(d,da)||!a.is(d&&d[0],da))d=a.parsePathString(d);
var h=[],l=0,o=0,s=0,p=0,z=0;if(d[0][0]=="M"){l=d[0][1];o=d[0][2];s=l;p=o;z++;h[na](["M",l,o])}z=z;for(var E=d[N];z<E;z++){var B=h[z]=[],D=d[z];if(D[0]!=O.call(D[0])){B[0]=O.call(D[0]);switch(B[0]){case "a":B[1]=D[1];B[2]=D[2];B[3]=D[3];B[4]=D[4];B[5]=D[5];B[6]=+(D[6]-l).toFixed(3);B[7]=+(D[7]-o).toFixed(3);break;case "v":B[1]=+(D[1]-o).toFixed(3);break;case "m":s=D[1];p=D[2];default:for(var L=1,Q=D[N];L<Q;L++)B[L]=+(D[L]-(L%2?l:o)).toFixed(3)}}else{h[z]=[];if(D[0]=="m"){s=D[1]+l;p=D[2]+o}B=0;for(L=
D[N];B<L;B++)h[z][B]=D[B]}D=h[z][N];switch(h[z][0]){case "z":l=s;o=p;break;case "h":l+=+h[z][D-1];break;case "v":o+=+h[z][D-1];break;default:l+=+h[z][D-2];o+=+h[z][D-1]}}h.toString=a._path2string;return h},0,Za),Oa=b(function(d){if(!a.is(d,da)||!a.is(d&&d[0],da))d=a.parsePathString(d);var h=[],l=0,o=0,s=0,p=0,z=0;if(d[0][0]=="M"){l=+d[0][1];o=+d[0][2];s=l;p=o;z++;h[0]=["M",l,o]}z=z;for(var E=d[N];z<E;z++){var B=h[z]=[],D=d[z];if(D[0]!=Xa.call(D[0])){B[0]=Xa.call(D[0]);switch(B[0]){case "A":B[1]=D[1];
B[2]=D[2];B[3]=D[3];B[4]=D[4];B[5]=D[5];B[6]=+(D[6]+l);B[7]=+(D[7]+o);break;case "V":B[1]=+D[1]+o;break;case "H":B[1]=+D[1]+l;break;case "M":s=+D[1]+l;p=+D[2]+o;default:for(var L=1,Q=D[N];L<Q;L++)B[L]=+D[L]+(L%2?l:o)}}else{L=0;for(Q=D[N];L<Q;L++)h[z][L]=D[L]}switch(B[0]){case "Z":l=s;o=p;break;case "H":l=B[1];break;case "V":o=B[1];break;case "M":s=h[z][h[z][N]-2];p=h[z][h[z][N]-1];default:l=h[z][h[z][N]-2];o=h[z][h[z][N]-1]}}h.toString=a._path2string;return h},null,Za),ib=function(d,h,l,o,s,p){var z=
1/3,E=2/3;return[z*d+E*l,z*h+E*o,z*s+E*l,z*p+E*o,s,p]},Ta=function(d,h,l,o,s,p,z,E,B,D){var L=J.PI,Q=L*120/180,U=L/180*(+s||0),ga=[],ea,fa=b(function(va,Pa,sb){var Lb=va*J.cos(sb)-Pa*J.sin(sb);va=va*J.sin(sb)+Pa*J.cos(sb);return{x:Lb,y:va}});if(D){ka=D[0];ea=D[1];p=D[2];ja=D[3]}else{ea=fa(d,h,-U);d=ea.x;h=ea.y;ea=fa(E,B,-U);E=ea.x;B=ea.y;J.cos(L/180*s);J.sin(L/180*s);ea=(d-E)/2;ka=(h-B)/2;ja=ea*ea/(l*l)+ka*ka/(o*o);if(ja>1){ja=J.sqrt(ja);l=ja*l;o=ja*o}ja=l*l;var ba=o*o;ja=(p==z?-1:1)*J.sqrt(J.abs((ja*
ba-ja*ka*ka-ba*ea*ea)/(ja*ka*ka+ba*ea*ea)));p=ja*l*ka/o+(d+E)/2;var ja=ja*-o*ea/l+(h+B)/2,ka=J.asin(((h-ja)/o).toFixed(9));ea=J.asin(((B-ja)/o).toFixed(9));ka=d<p?L-ka:ka;ea=E<p?L-ea:ea;ka<0&&(ka=L*2+ka);ea<0&&(ea=L*2+ea);if(z&&ka>ea)ka-=L*2;if(!z&&ea>ka)ea-=L*2}L=ea-ka;if(J.abs(L)>Q){ga=ea;L=E;ba=B;ea=ka+Q*(z&&ea>ka?1:-1);E=p+l*J.cos(ea);B=ja+o*J.sin(ea);ga=Ta(E,B,l,o,s,0,z,L,ba,[ea,ga,p,ja])}L=ea-ka;s=J.cos(ka);Q=J.sin(ka);z=J.cos(ea);ea=J.sin(ea);L=J.tan(L/4);l=4/3*l*L;L=4/3*o*L;o=[d,h];d=[d+l*
Q,h-L*s];h=[E+l*ea,B-L*z];E=[E,B];d[0]=2*o[0]-d[0];d[1]=2*o[1]-d[1];if(D)return[d,h,E].concat(ga);else{ga=[d,h,E].concat(ga)[P]().split(",");D=[];E=0;for(B=ga[N];E<B;E++)D[E]=E%2?fa(ga[E-1],ga[E],U).y:fa(ga[E],ga[E+1],U).x;return D}},Ua=function(d,h,l,o,s,p,z,E,B){var D=1-B;return{x:T(D,3)*d+T(D,2)*3*B*l+D*3*B*B*s+T(B,3)*z,y:T(D,3)*h+T(D,2)*3*B*o+D*3*B*B*p+T(B,3)*E}},Eb=b(function(d,h,l,o,s,p,z,E){var B=s-2*l+d-(z-2*s+l),D=2*(l-d)-2*(s-l),L=d-l,Q=(-D+J.sqrt(D*D-4*B*L))/2/B;B=(-D-J.sqrt(D*D-4*B*L))/
2/B;var U=[h,E],ga=[d,z];J.abs(Q)>"1e12"&&(Q=0.5);J.abs(B)>"1e12"&&(B=0.5);if(Q>0&&Q<1){Q=Ua(d,h,l,o,s,p,z,E,Q);ga[na](Q.x);U[na](Q.y)}if(B>0&&B<1){Q=Ua(d,h,l,o,s,p,z,E,B);ga[na](Q.x);U[na](Q.y)}B=p-2*o+h-(E-2*p+o);D=2*(o-h)-2*(p-o);L=h-o;Q=(-D+J.sqrt(D*D-4*B*L))/2/B;B=(-D-J.sqrt(D*D-4*B*L))/2/B;J.abs(Q)>"1e12"&&(Q=0.5);J.abs(B)>"1e12"&&(B=0.5);if(Q>0&&Q<1){Q=Ua(d,h,l,o,s,p,z,E,Q);ga[na](Q.x);U[na](Q.y)}if(B>0&&B<1){Q=Ua(d,h,l,o,s,p,z,E,B);ga[na](Q.x);U[na](Q.y)}return{min:{x:V[i](0,ga),y:V[i](0,
U)},max:{x:R[i](0,ga),y:R[i](0,U)}}}),Sa=b(function(d,h){var l=Oa(d),o=h&&Oa(h),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},p={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},z=function(fa,ba){var ja,ka;if(!fa)return["C",ba.x,ba.y,ba.x,ba.y,ba.x,ba.y];!(fa[0]in{T:1,Q:1})&&(ba.qx=ba.qy=null);switch(fa[0]){case "M":ba.X=fa[1];ba.Y=fa[2];break;case "A":fa=["C"].concat(Ta[i](0,[ba.x,ba.y].concat(fa.slice(1))));break;case "S":ja=ba.x+(ba.x-(ba.bx||ba.x));ka=ba.y+(ba.y-(ba.by||ba.y));fa=["C",ja,ka].concat(fa.slice(1));
break;case "T":ba.qx=ba.x+(ba.x-(ba.qx||ba.x));ba.qy=ba.y+(ba.y-(ba.qy||ba.y));fa=["C"].concat(ib(ba.x,ba.y,ba.qx,ba.qy,fa[1],fa[2]));break;case "Q":ba.qx=fa[1];ba.qy=fa[2];fa=["C"].concat(ib(ba.x,ba.y,fa[1],fa[2],fa[3],fa[4]));break;case "L":fa=["C"].concat([ba.x,ba.y,fa[1],fa[2],fa[1],fa[2]]);break;case "H":fa=["C"].concat([ba.x,ba.y,fa[1],ba.y,fa[1],ba.y]);break;case "V":fa=["C"].concat([ba.x,ba.y,ba.x,fa[1],ba.x,fa[1]]);break;case "Z":fa=["C"].concat([ba.x,ba.y,ba.X,ba.Y,ba.X,ba.Y]);break}return fa},
E=function(fa,ba){if(fa[ba][N]>7){fa[ba].shift();for(var ja=fa[ba];ja[N];)fa.splice(ba++,0,["C"].concat(ja.splice(0,6)));fa.splice(ba,1);L=R(l[N],o&&o[N]||0)}},B=function(fa,ba,ja,ka,va){if(fa&&ba&&fa[va][0]=="M"&&ba[va][0]!="M"){ba.splice(va,0,["M",ka.x,ka.y]);ja.bx=0;ja.by=0;ja.x=fa[va][1];ja.y=fa[va][2];L=R(l[N],o&&o[N]||0)}},D=0,L=R(l[N],o&&o[N]||0);for(;D<L;D++){l[D]=z(l[D],s);E(l,D);o&&(o[D]=z(o[D],p));o&&E(o,D);B(l,o,s,p,D);B(o,l,p,s,D);var Q=l[D],U=o&&o[D],ga=Q[N],ea=o&&U[N];s.x=Q[ga-2];s.y=
Q[ga-1];s.bx=ma(Q[ga-4])||s.x;s.by=ma(Q[ga-3])||s.y;p.bx=o&&(ma(U[ea-4])||p.x);p.by=o&&(ma(U[ea-3])||p.y);p.x=o&&U[ea-2];p.y=o&&U[ea-1]}return o?[l,o]:l},null,Za),tb=b(function(d){for(var h=[],l=0,o=d[N];l<o;l++){var s={},p=d[l].match(/^([^:]*):?([\d\.]*)/);s.color=a.getRGB(p[1]);if(s.color.error)return null;s.color=s.color.hex;p[2]&&(s.offset=p[2]+"%");h[na](s)}l=1;for(o=h[N]-1;l<o;l++)if(!h[l].offset){d=ma(h[l-1].offset||0);p=0;for(s=l+1;s<o;s++)if(h[s].offset){p=h[s].offset;break}if(!p){p=100;
s=o}p=ma(p);for(p=(p-d)/(s-l+1);l<s;l++){d+=p;h[l].offset=d+"%"}}return h}),ub=function(d,h,l,o){if(a.is(d,"string")||a.is(d,"object")){d=a.is(d,"string")?v.getElementById(d):d;if(d.tagName)return h==null?{container:d,width:d.style.pixelWidth||d.offsetWidth,height:d.style.pixelHeight||d.offsetHeight}:{container:d,width:h,height:l}}else return{container:1,x:d,y:h,width:l,height:o}},ab=function(d,h){var l=this;for(var o in h)if(h[C](o)&&!(o in d))switch(typeof h[o]){case "function":(function(s){d[o]=
d===l?s:function(){return s[i](l,arguments)}})(h[o]);break;case "object":d[o]=d[o]||{};ab.call(this,d[o],h[o]);break;default:d[o]=h[o];break}},La=function(d,h){d==h.top&&(h.top=d.prev);d==h.bottom&&(h.bottom=d.next);d.next&&(d.next.prev=d.prev);d.prev&&(d.prev.next=d.next)},jb=function(d,h){if(h.top!==d){La(d,h);d.next=null;d.prev=h.top;h.top.next=d;h.top=d}},Fa=function(d,h){if(h.bottom!==d){La(d,h);d.next=h.bottom;d.prev=null;h.bottom.prev=d;h.bottom=d}},vb=function(d,h,l){La(d,l);h==l.top&&(l.top=
d);h.next&&(h.next.prev=d);d.next=h.next;d.prev=h;h.next=d},kb=function(d,h,l){La(d,l);h==l.bottom&&(l.bottom=d);h.prev&&(h.prev.next=d);d.prev=h.prev;h.prev=d;d.next=h},lb=function(d){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+d+"\u201d of removed object");}},bb=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;a.pathToRelative=hb;if(a.svg){y.svgns="http://www.w3.org/2000/svg";y.xlink="http://www.w3.org/1999/xlink";za=function(d){return+d+(~~d===d)*0.5};var la=function(d,
h){if(h)for(var l in h)h[C](l)&&d.setAttribute(l,K(h[l]));else{d=v.createElementNS(y.svgns,d);d.style.webkitTapHighlightColor="rgba(0,0,0,0)";return d}};a.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var wb=function(d,h){var l=la("path");h.canvas&&h.canvas.appendChild(l);l=new wa(l,h);l.type="path";Ia(l,{fill:"none",stroke:"#000",path:d});return l},Va=function(d,h,l){var o="linear",s=0.5,p=0.5,z=d.style;h=K(h).replace(bb,function(L,Q,U){o="radial";
if(Q&&U){s=ma(Q);p=ma(U);L=(p>0.5)*2-1;T(s-0.5,2)+T(p-0.5,2)>0.25&&(p=J.sqrt(0.25-T(s-0.5,2))*L+0.5)&&p!=0.5&&(p=p.toFixed(5)-1.0E-5*L)}return""});h=h.split(/\s*\-\s*/);if(o=="linear"){var E=h.shift();E=-ma(E);if(isNaN(E))return null;E=[0,0,J.cos(E*J.PI/180),J.sin(E*J.PI/180)];var B=1/(R(J.abs(E[2]),J.abs(E[3]))||1);E[2]*=B;E[3]*=B;if(E[2]<0){E[0]=-E[2];E[2]=0}if(E[3]<0){E[1]=-E[3];E[3]=0}}h=tb(h);if(!h)return null;B=d.getAttribute("fill");(B=B.match(/^url\(#(.*)\)$/))&&l.defs.removeChild(v.getElementById(B[1]));
B=la(o+"Gradient");B.id="r"+(a._id++).toString(36);la(B,o=="radial"?{fx:s,fy:p}:{x1:E[0],y1:E[1],x2:E[2],y2:E[3]});l.defs.appendChild(B);l=0;for(E=h[N];l<E;l++){var D=la("stop");la(D,{offset:h[l].offset?h[l].offset:!l?"0%":"100%","stop-color":h[l].color||"#fff"});B.appendChild(D)}la(d,{fill:"url(#"+B.id+")",opacity:1,"fill-opacity":1});z.fill="";z.opacity=1;return z.fillOpacity=1},mb=function(d){var h=d.getBBox();la(d.pattern,{patternTransform:a.format("translate({0},{1})",h.x,h.y)})},Ia=function(d,
h){var l={"":[0],none:[0],"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},o=d.node,s=d.attrs,p=d.rotate(),z=function(ea,fa){if(fa=l[O.call(fa)]){for(var ba=ea.attrs["stroke-width"]||"1",ja={round:ba,square:ba,butt:0}[ea.attrs["stroke-linecap"]||h["stroke-linecap"]]||0,ka=[],va=fa[N];va--;)ka[va]=fa[va]*ba+(va%2?1:-1)*ja;la(o,{"stroke-dasharray":ka[P](",")})}};h[C]("rotation")&&(p=h.rotation);var E=K(p).split(m);
if(E.length-1){E[1]=+E[1];E[2]=+E[2]}else E=null;ma(p)&&d.rotate(0,true);for(var B in h)if(h[C](B))if(Ya[C](B)){var D=h[B];s[B]=D;switch(B){case "blur":d.blur(D);break;case "rotation":d.rotate(D,true);break;case "href":case "title":case "target":var L=o.parentNode;if(O.call(L.tagName)!="a"){var Q=la("a");L.insertBefore(Q,o);Q.appendChild(o);L=Q}B=="target"&&D=="blank"?L.setAttributeNS(d.paper.xlink,"show","new"):L.setAttributeNS(d.paper.xlink,B,D);break;case "cursor":o.style.cursor=D;break;case "clip-rect":L=
K(D).split(m);if(L[N]==4){d.clip&&d.clip.parentNode.parentNode.removeChild(d.clip.parentNode);var U=la("clipPath");Q=la("rect");U.id="r"+(a._id++).toString(36);la(Q,{x:L[0],y:L[1],width:L[2],height:L[3]});U.appendChild(Q);d.paper.defs.appendChild(U);la(o,{"clip-path":"url(#"+U.id+")"});d.clip=Q}if(!D){(D=v.getElementById(o.getAttribute("clip-path").replace(/(^url\(#|\)$)/g,"")))&&D.parentNode.removeChild(D);la(o,{"clip-path":""});delete d.clip}break;case "path":if(d.type=="path")la(o,{d:D?s.path=
Oa(D):"M0,0"});break;case "width":o.setAttribute(B,D);if(s.fx){B="x";D=s.x}else break;case "x":if(s.fx)D=-s.x-(s.width||0);case "rx":if(B=="rx"&&d.type=="rect")break;case "cx":E&&(B=="x"||B=="cx")&&(E[1]+=D-s[B]);o.setAttribute(B,D);d.pattern&&mb(d);break;case "height":o.setAttribute(B,D);if(s.fy){B="y";D=s.y}else break;case "y":if(s.fy)D=-s.y-(s.height||0);case "ry":if(B=="ry"&&d.type=="rect")break;case "cy":E&&(B=="y"||B=="cy")&&(E[2]+=D-s[B]);o.setAttribute(B,D);d.pattern&&mb(d);break;case "r":d.type==
"rect"?la(o,{rx:D,ry:D}):o.setAttribute(B,D);break;case "src":d.type=="image"&&o.setAttributeNS(d.paper.xlink,"href",D);break;case "stroke-width":o.style.strokeWidth=D;o.setAttribute(B,D);s["stroke-dasharray"]&&z(d,s["stroke-dasharray"]);break;case "stroke-dasharray":z(d,D);break;case "translation":D=K(D).split(m);D[0]=+D[0]||0;D[1]=+D[1]||0;if(E){E[1]+=D[0];E[2]+=D[1]}Qa.call(d,D[0],D[1]);break;case "scale":D=K(D).split(m);d.scale(+D[0]||1,+D[1]||+D[0]||1,isNaN(ma(D[2]))?null:+D[2],isNaN(ma(D[3]))?
null:+D[3]);break;case "fill":if(L=K(D).match(Aa)){U=la("pattern");var ga=la("image");U.id="r"+(a._id++).toString(36);la(U,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});la(ga,{x:0,y:0});ga.setAttributeNS(d.paper.xlink,"href",L[1]);U.appendChild(ga);D=v.createElement("img");D.style.cssText="position:absolute;left:-9999em;top-9999em";D.onload=function(){la(U,{width:this.offsetWidth,height:this.offsetHeight});la(ga,{width:this.offsetWidth,height:this.offsetHeight});v.body.removeChild(this);
d.paper.safari()};v.body.appendChild(D);D.src=L[1];d.paper.defs.appendChild(U);o.style.fill="url(#"+U.id+")";la(o,{fill:"url(#"+U.id+")"});d.pattern=U;d.pattern&&mb(d);break}L=a.getRGB(D);if(L.error){if(({circle:1,ellipse:1}[C](d.type)||K(D).charAt()!="r")&&Va(o,D,d.paper)){s.gradient=D;s.fill="none";break}}else{delete h.gradient;delete s.gradient;!a.is(s.opacity,"undefined")&&a.is(h.opacity,"undefined")&&la(o,{opacity:s.opacity});!a.is(s["fill-opacity"],"undefined")&&a.is(h["fill-opacity"],"undefined")&&
la(o,{"fill-opacity":s["fill-opacity"]})}L[C]("o")&&la(o,{"fill-opacity":L.o>1?L.o/100:L.o});case "stroke":L=a.getRGB(D);o.setAttribute(B,L.hex);B=="stroke"&&L[C]("o")&&la(o,{"stroke-opacity":L.o>1?L.o/100:L.o});break;case "gradient":(({circle:1,ellipse:1})[C](d.type)||K(D).charAt()!="r")&&Va(o,D,d.paper);break;case "opacity":case "fill-opacity":if(s.gradient){if(L=v.getElementById(o.getAttribute("fill").replace(/^url\(#|\)$/g,""))){L=L.getElementsByTagName("stop");L[L[N]-1].setAttribute("stop-opacity",
D)}break}default:B=="font-size"&&(D=Ha(D,10)+"px");L=B.replace(/(\-.)/g,function(ea){return Xa.call(ea.substring(1))});o.style[L]=D;o.setAttribute(B,D);break}}Fb(d,h);if(E)d.rotate(E.join(Z));else ma(p)&&d.rotate(p,true)},Fb=function(d,h){if(!(d.type!="text"||!(h[C]("text")||h[C]("font")||h[C]("font-size")||h[C]("x")||h[C]("y")))){var l=d.attrs,o=d.node,s=o.firstChild?Ha(v.defaultView.getComputedStyle(o.firstChild,"").getPropertyValue("font-size"),10):10;if(h[C]("text")){for(l.text=h.text;o.firstChild;)o.removeChild(o.firstChild);
for(var p=K(h.text).split("\n"),z=0,E=p[N];z<E;z++)if(p[z]){var B=la("tspan");z&&la(B,{dy:s*1.2,x:l.x});B.appendChild(v.createTextNode(p[z]));o.appendChild(B)}}else{p=o.getElementsByTagName("tspan");z=0;for(E=p[N];z<E;z++)z&&la(p[z],{dy:s*1.2,x:l.x})}la(o,{y:l.y});s=d.getBBox();(s=l.y-(s.y+s.height/2))&&isFinite(s)&&la(o,{y:l.y+s})}},wa=function(d,h){this[0]=d;this.id=a._oid++;this.node=d;d.raphael=this;this.paper=h;this.attrs=this.attrs||{};this.transformations=[];this._={tx:0,ty:0,rt:{deg:0,cx:0,
cy:0},sx:1,sy:1};!h.bottom&&(h.bottom=this);(this.prev=h.top)&&(h.top.next=this);h.top=this;this.next=null},ta=wa[G];wa[G].rotate=function(d,h,l){if(this.removed)return this;if(d==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][P](Z);return this._.rt.deg}var o=this.getBBox();d=K(d).split(m);if(d[N]-1){h=ma(d[1]);l=ma(d[2])}d=ma(d[0]);if(h!=null&&h!==false)this._.rt.deg=d;else this._.rt.deg+=d;l==null&&(h=null);this._.rt.cx=h;this._.rt.cy=l;h=h==null?o.x+o.width/2:h;l=l==null?
o.y+o.height/2:l;if(this._.rt.deg){this.transformations[0]=a.format("rotate({0} {1} {2})",this._.rt.deg,h,l);this.clip&&la(this.clip,{transform:a.format("rotate({0} {1} {2})",-this._.rt.deg,h,l)})}else{this.transformations[0]="";this.clip&&la(this.clip,{transform:""})}la(this.node,{transform:this.transformations[P](Z)});return this};wa[G].hide=function(){!this.removed&&(this.node.style.display="none");return this};wa[G].show=function(){!this.removed&&(this.node.style.display="");return this};wa[G].remove=
function(){if(!this.removed){La(this,this.paper);this.node.parentNode.removeChild(this.node);for(var d in this)delete this[d];this.removed=true}};wa[G].getBBox=function(){if(this.removed)return this;if(this.type=="path")return $a(this.attrs.path);if(this.node.style.display=="none"){this.show();var d=true}var h={};try{h=this.node.getBBox()}catch(l){}finally{h=h||{}}if(this.type=="text"){h={x:h.x,y:Infinity,width:0,height:0};for(var o=0,s=this.node.getNumberOfChars();o<s;o++){var p=this.node.getExtentOfChar(o);
p.y<h.y&&(h.y=p.y);p.y+p.height-h.y>h.height&&(h.height=p.y+p.height-h.y);p.x+p.width-h.x>h.width&&(h.width=p.x+p.width-h.x)}}d&&this.hide();return h};wa[G].attr=function(d,h){if(this.removed)return this;if(d==null){var l={};for(var o in this.attrs)if(this.attrs[C](o))l[o]=this.attrs[o];this._.rt.deg&&(l.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(l.scale=this.scale());l.gradient&&l.fill=="none"&&(l.fill=l.gradient)&&delete l.gradient;return l}if(h==null&&a.is(d,"string")){if(d=="translation")return Qa.call(this);
if(d=="rotation")return this.rotate();if(d=="scale")return this.scale();if(d=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[d]}if(h==null&&a.is(d,da)){o={};l=0;for(var s=d.length;l<s;l++)o[d[l]]=this.attr(d[l]);return o}if(h!=null){l={};l[d]=h}else if(d!=null&&a.is(d,"object"))l=d;for(s in this.paper.customAttributes)if(this.paper.customAttributes[C](s)&&l[C](s)&&a.is(this.paper.customAttributes[s],"function")){o=this.paper.customAttributes[s].apply(this,
[].concat(l[s]));this.attrs[s]=l[s];for(var p in o)if(o[C](p))l[p]=o[p]}Ia(this,l);return this};wa[G].toFront=function(){if(this.removed)return this;this.node.parentNode.appendChild(this.node);var d=this.paper;d.top!=this&&jb(this,d);return this};wa[G].toBack=function(){if(this.removed)return this;if(this.node.parentNode.firstChild!=this.node){this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild);Fa(this,this.paper)}return this};wa[G].insertAfter=function(d){if(this.removed)return this;
var h=d.node||d[d.length-1].node;h.nextSibling?h.parentNode.insertBefore(this.node,h.nextSibling):h.parentNode.appendChild(this.node);vb(this,d,this.paper);return this};wa[G].insertBefore=function(d){if(this.removed)return this;var h=d.node||d[0].node;h.parentNode.insertBefore(this.node,h);kb(this,d,this.paper);return this};wa[G].blur=function(d){if(+d!==0){var h=la("filter"),l=la("feGaussianBlur");this.attrs.blur=d;h.id="r"+(a._id++).toString(36);la(l,{stdDeviation:+d||1.5});h.appendChild(l);this.paper.defs.appendChild(h);
this._blur=h;la(this.node,{filter:"url(#"+h.id+")"})}else{if(this._blur){this._blur.parentNode.removeChild(this._blur);delete this._blur;delete this.attrs.blur}this.node.removeAttribute("filter")}};var nb=function(d,h,l,o){var s=la("circle");d.canvas&&d.canvas.appendChild(s);d=new wa(s,d);d.attrs={cx:h,cy:l,r:o,fill:"none",stroke:"#000"};d.type="circle";la(s,d.attrs);return d},cb=function(d,h,l,o,s,p){var z=la("rect");d.canvas&&d.canvas.appendChild(z);d=new wa(z,d);d.attrs={x:h,y:l,width:o,height:s,
r:p||0,rx:p||0,ry:p||0,fill:"none",stroke:"#000"};d.type="rect";la(z,d.attrs);return d},xb=function(d,h,l,o,s){var p=la("ellipse");d.canvas&&d.canvas.appendChild(p);d=new wa(p,d);d.attrs={cx:h,cy:l,rx:o,ry:s,fill:"none",stroke:"#000"};d.type="ellipse";la(p,d.attrs);return d},yb=function(d,h,l,o,s,p){var z=la("image");la(z,{x:l,y:o,width:s,height:p,preserveAspectRatio:"none"});z.setAttributeNS(d.xlink,"href",h);d.canvas&&d.canvas.appendChild(z);d=new wa(z,d);d.attrs={x:l,y:o,width:s,height:p,src:h};
d.type="image";return d},zb=function(d,h,l,o){var s=la("text");la(s,{x:h,y:l,"text-anchor":"middle"});d.canvas&&d.canvas.appendChild(s);d=new wa(s,d);d.attrs={x:h,y:l,"text-anchor":"middle",text:o,font:Ya.font,stroke:"none",fill:"#000"};d.type="text";Ia(d,d.attrs);return d},Ab=function(d,h){this.width=d||this.width;this.height=h||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);return this},Ja=function(){var d=ub[i](0,arguments),h=d&&d.container,
l=d.x,o=d.y,s=d.width;d=d.height;if(!h)throw Error("SVG container not found.");var p=la("svg");l=l||0;o=o||0;s=s||512;d=d||342;la(p,{xmlns:"http://www.w3.org/2000/svg",version:1.1,width:s,height:d});if(h==1){p.style.cssText="position:absolute;left:"+l+"px;top:"+o+"px";v.body.appendChild(p)}else h.firstChild?h.insertBefore(p,h.firstChild):h.appendChild(p);h=new t;h.width=s;h.height=d;h.canvas=p;ab.call(h,h,a.fn);h.clear();return h};y.clear=function(){for(var d=this.canvas;d.firstChild;)d.removeChild(d.firstChild);
this.bottom=this.top=null;(this.desc=la("desc")).appendChild(v.createTextNode("Created with Rapha\u00ebl"));d.appendChild(this.desc);d.appendChild(this.defs=la("defs"))};y.remove=function(){this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var d in this)this[d]=lb(d)}}if(a.vml){var db={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},Gb=/([clmz]),?([^clmz]*)/gi,Hb=/ progid:\S+Blur\([^\)]+\)/g,Ib=/-?[^,\s-]+/g,Wa=1E3+Z+1E3,Ma={path:1,rect:1},Jb=function(d){var h=/[ahqstv]/ig,
l=Oa;K(d).match(h)&&(l=Sa);h=/[clmz]/g;if(l==Oa&&!K(d).match(h))return d=K(d).replace(Gb,function(B,D,L){var Q=[],U=O.call(D)=="m",ga=db[D];L.replace(Ib,function(ea){if(U&&Q[N]==2){ga+=Q+db[D=="m"?"l":"L"];Q=[]}Q[na](za(ea*10))});return ga+Q});h=l(d);var o;d=[];for(var s=0,p=h[N];s<p;s++){l=h[s];o=O.call(h[s][0]);o=="z"&&(o="x");for(var z=1,E=l[N];z<E;z++)o+=za(l[z]*10)+(z!=E-1?",":"");d[na](o)}return d[P](Z)};a.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};wb=function(d,h){var l=Da("group");l.style.cssText="position:absolute;left:0;top:0;width:"+h.width+"px;height:"+h.height+"px";l.coordsize=h.coordsize;l.coordorigin=h.coordorigin;var o=Da("shape"),s=o.style;s.width=h.width+"px";s.height=h.height+"px";o.coordsize=Wa;o.coordorigin=h.coordorigin;l.appendChild(o);o=new wa(o,l,h);s={fill:"none",stroke:"#000"};d&&(s.path=d);o.type="path";o.path=[];o.Path="";Ia(o,s);h.canvas.appendChild(l);return o};Ia=function(d,h){d.attrs=d.attrs||{};var l=
d.node,o=d.attrs,s=l.style,p;p=(h.x!=o.x||h.y!=o.y||h.width!=o.width||h.height!=o.height||h.r!=o.r)&&d.type=="rect";for(var z in h)if(h[C](z))o[z]=h[z];if(p){o.path=Bb(o.x,o.y,o.width,o.height,o.r);d.X=o.x;d.Y=o.y;d.W=o.width;d.H=o.height}h.href&&(l.href=h.href);h.title&&(l.title=h.title);h.target&&(l.target=h.target);h.cursor&&(s.cursor=h.cursor);"blur"in h&&d.blur(h.blur);if(h.path&&d.type=="path"||p)l.path=Jb(o.path);h.rotation!=null&&d.rotate(h.rotation,true);if(h.translation){p=K(h.translation).split(m);
Qa.call(d,p[0],p[1]);if(d._.rt.cx!=null){d._.rt.cx+=+p[0];d._.rt.cy+=+p[1];d.setBox(d.attrs,p[0],p[1])}}if(h.scale){p=K(h.scale).split(m);d.scale(+p[0]||1,+p[1]||+p[0]||1,+p[2]||null,+p[3]||null)}if("clip-rect"in h){p=K(h["clip-rect"]).split(m);if(p[N]==4){p[2]=+p[2]+ +p[0];p[3]=+p[3]+ +p[1];z=l.clipRect||v.createElement("div");var E=z.style,B=l.parentNode;E.clip=a.format("rect({1}px {2}px {3}px {0}px)",p);if(!l.clipRect){E.position="absolute";E.top=0;E.left=0;E.width=d.paper.width+"px";E.height=
d.paper.height+"px";B.parentNode.insertBefore(z,B);z.appendChild(B);l.clipRect=z}}if(!h["clip-rect"])l.clipRect&&(l.clipRect.style.clip="")}if(d.type=="image"&&h.src)l.src=h.src;if(d.type=="image"&&h.opacity){l.filterOpacity=" progid:DXImageTransform.Microsoft.Alpha(opacity="+h.opacity*100+")";s.filter=(l.filterMatrix||"")+(l.filterOpacity||"")}h.font&&(s.font=h.font);h["font-family"]&&(s.fontFamily='"'+h["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"');h["font-size"]&&(s.fontSize=h["font-size"]);
h["font-weight"]&&(s.fontWeight=h["font-weight"]);h["font-style"]&&(s.fontStyle=h["font-style"]);if(h.opacity!=null||h["stroke-width"]!=null||h.fill!=null||h.stroke!=null||h["stroke-width"]!=null||h["stroke-opacity"]!=null||h["fill-opacity"]!=null||h["stroke-dasharray"]!=null||h["stroke-miterlimit"]!=null||h["stroke-linejoin"]!=null||h["stroke-linecap"]!=null){l=d.shape||l;p=l.getElementsByTagName("fill")&&l.getElementsByTagName("fill")[0];z=false;!p&&(z=p=Da("fill"));if("fill-opacity"in h||"opacity"in
h){s=((+o["fill-opacity"]+1||2)-1)*((+o.opacity+1||2)-1)*((+a.getRGB(h.fill).o+1||2)-1);s=V(R(s,0),1);p.opacity=s}h.fill&&(p.on=true);if(p.on==null||h.fill=="none")p.on=false;if(p.on&&h.fill)if(s=h.fill.match(Aa)){p.src=s[1];p.type="tile"}else{p.color=a.getRGB(h.fill).hex;p.src="";p.type="solid";if(a.getRGB(h.fill).error&&(d.type in{circle:1,ellipse:1}||K(h.fill).charAt()!="r")&&Va(d,h.fill)){o.fill="none";o.gradient=h.fill}}z&&l.appendChild(p);p=l.getElementsByTagName("stroke")&&l.getElementsByTagName("stroke")[0];
z=false;!p&&(z=p=Da("stroke"));if(h.stroke&&h.stroke!="none"||h["stroke-width"]||h["stroke-opacity"]!=null||h["stroke-dasharray"]||h["stroke-miterlimit"]||h["stroke-linejoin"]||h["stroke-linecap"])p.on=true;(h.stroke=="none"||p.on==null||h.stroke==0||h["stroke-width"]==0)&&(p.on=false);s=a.getRGB(h.stroke);p.on&&h.stroke&&(p.color=s.hex);s=((+o["stroke-opacity"]+1||2)-1)*((+o.opacity+1||2)-1)*((+s.o+1||2)-1);E=(ma(h["stroke-width"])||1)*0.75;s=V(R(s,0),1);h["stroke-width"]==null&&(E=o["stroke-width"]);
h["stroke-width"]&&(p.weight=E);E&&E<1&&(s*=E)&&(p.weight=1);p.opacity=s;h["stroke-linejoin"]&&(p.joinstyle=h["stroke-linejoin"]||"miter");p.miterlimit=h["stroke-miterlimit"]||8;h["stroke-linecap"]&&(p.endcap=h["stroke-linecap"]=="butt"?"flat":h["stroke-linecap"]=="square"?"square":"round");if(h["stroke-dasharray"]){s={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};p.dashstyle=
s[C](h["stroke-dasharray"])?s[h["stroke-dasharray"]]:""}z&&l.appendChild(p)}if(d.type=="text"){s=d.paper.span.style;o.font&&(s.font=o.font);o["font-family"]&&(s.fontFamily=o["font-family"]);o["font-size"]&&(s.fontSize=o["font-size"]);o["font-weight"]&&(s.fontWeight=o["font-weight"]);o["font-style"]&&(s.fontStyle=o["font-style"]);d.node.string&&(d.paper.span.innerHTML=K(d.node.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));d.W=o.w=d.paper.span.offsetWidth;d.H=o.h=d.paper.span.offsetHeight;
d.X=o.x;d.Y=o.y+za(d.H/2);switch(o["text-anchor"]){case "start":d.node.style["v-text-align"]="left";d.bbx=za(d.W/2);break;case "end":d.node.style["v-text-align"]="right";d.bbx=-za(d.W/2);break;default:d.node.style["v-text-align"]="center";break}}};Va=function(d,h){d.attrs=d.attrs||{};var l,o="linear",s=".5 .5";d.attrs.gradient=h;h=K(h).replace(bb,function(L,Q,U){o="radial";if(Q&&U){Q=ma(Q);U=ma(U);T(Q-0.5,2)+T(U-0.5,2)>0.25&&(U=J.sqrt(0.25-T(Q-0.5,2))*((U>0.5)*2-1)+0.5);s=Q+Z+U}return""});h=h.split(/\s*\-\s*/);
if(o=="linear"){var p=h.shift();p=-ma(p);if(isNaN(p))return null}var z=tb(h);if(!z)return null;d=d.shape||d.node;l=d.getElementsByTagName("fill")[0]||Da("fill");!l.parentNode&&d.appendChild(l);if(z[N]){l.on=true;l.method="none";l.color=z[0].color;l.color2=z[z[N]-1].color;for(var E=[],B=0,D=z[N];B<D;B++)z[B].offset&&E[na](z[B].offset+Z+z[B].color);l.colors&&(l.colors.value=E[N]?E[P]():"0% "+l.color);if(o=="radial"){l.type="gradientradial";l.focus="100%";l.focussize=s;l.focusposition=s}else{l.type=
"gradient";l.angle=(270-p)%360}}return 1};wa=function(d,h,l){this[0]=d;this.id=a._oid++;this.node=d;d.raphael=this;this.Y=this.X=0;this.attrs={};this.Group=h;this.paper=l;this._={tx:0,ty:0,rt:{deg:0},sx:1,sy:1};!l.bottom&&(l.bottom=this);(this.prev=l.top)&&(l.top.next=this);l.top=this;this.next=null};ta=wa[G];ta.rotate=function(d,h,l){if(this.removed)return this;if(d==null){if(this._.rt.cx)return[this._.rt.deg,this._.rt.cx,this._.rt.cy][P](Z);return this._.rt.deg}d=K(d).split(m);if(d[N]-1){h=ma(d[1]);
l=ma(d[2])}d=ma(d[0]);if(h!=null)this._.rt.deg=d;else this._.rt.deg+=d;l==null&&(h=null);this._.rt.cx=h;this._.rt.cy=l;this.setBox(this.attrs,h,l);this.Group.style.rotation=this._.rt.deg;return this};ta.setBox=function(d,h,l){if(this.removed)return this;var o=this.Group.style,s=this.shape&&this.shape.style||this.node.style;d=d||{};for(var p in d)if(d[C](p))this.attrs[p]=d[p];h=h||this._.rt.cx;l=l||this._.rt.cy;var z=this.attrs,E;switch(this.type){case "circle":d=z.cx-z.r;p=z.cy-z.r;E=z=z.r*2;break;
case "ellipse":d=z.cx-z.rx;p=z.cy-z.ry;E=z.rx*2;z=z.ry*2;break;case "image":d=+z.x;p=+z.y;E=z.width||0;z=z.height||0;break;case "text":this.textpath.v=["m",za(z.x),", ",za(z.y-2),"l",za(z.x)+1,", ",za(z.y-2)][P]("");d=z.x-za(this.W/2);p=z.y-this.H/2;E=this.W;z=this.H;break;case "rect":case "path":if(this.attrs.path){z=$a(this.attrs.path);d=z.x;p=z.y;E=z.width;z=z.height}else{p=d=0;E=this.paper.width;z=this.paper.height}break;default:p=d=0;E=this.paper.width;z=this.paper.height;break}h=h==null?d+E/
2:h;l=l==null?p+z/2:l;h=h-this.paper.width/2;l=l-this.paper.height/2;var B;o.left!=(B=h+"px")&&(o.left=B);o.top!=(B=l+"px")&&(o.top=B);this.X=Ma[C](this.type)?-h:d;this.Y=Ma[C](this.type)?-l:p;this.W=E;this.H=z;if(Ma[C](this.type)){s.left!=(B=-h*10+"px")&&(s.left=B);s.top!=(B=-l*10+"px")&&(s.top=B)}else if(this.type=="text"){s.left!=(B=-h+"px")&&(s.left=B);s.top!=(B=-l+"px")&&(s.top=B)}else{o.width!=(B=this.paper.width+"px")&&(o.width=B);o.height!=(B=this.paper.height+"px")&&(o.height=B);s.left!=
(B=d-h+"px")&&(s.left=B);s.top!=(B=p-l+"px")&&(s.top=B);s.width!=(B=E+"px")&&(s.width=B);s.height!=(B=z+"px")&&(s.height=B)}};ta.hide=function(){!this.removed&&(this.Group.style.display="none");return this};ta.show=function(){!this.removed&&(this.Group.style.display="block");return this};ta.getBBox=function(){if(this.removed)return this;if(Ma[C](this.type))return $a(this.attrs.path);return{x:this.X+(this.bbx||0),y:this.Y,width:this.W,height:this.H}};ta.remove=function(){if(!this.removed){La(this,
this.paper);this.node.parentNode.removeChild(this.node);this.Group.parentNode.removeChild(this.Group);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var d in this)delete this[d];this.removed=true}};ta.attr=function(d,h){if(this.removed)return this;if(d==null){var l={};for(var o in this.attrs)if(this.attrs[C](o))l[o]=this.attrs[o];this._.rt.deg&&(l.rotation=this.rotate());(this._.sx!=1||this._.sy!=1)&&(l.scale=this.scale());l.gradient&&l.fill=="none"&&(l.fill=l.gradient)&&delete l.gradient;
return l}if(h==null&&a.is(d,"string")){if(d=="translation")return Qa.call(this);if(d=="rotation")return this.rotate();if(d=="scale")return this.scale();if(d=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;return this.attrs[d]}if(this.attrs&&h==null&&a.is(d,da)){var s={};o=0;for(l=d[N];o<l;o++)s[d[o]]=this.attr(d[o]);return s}if(h!=null){l={};l[d]=h}h==null&&a.is(d,"object")&&(l=d);if(l){for(s in this.paper.customAttributes)if(this.paper.customAttributes[C](s)&&l[C](s)&&
a.is(this.paper.customAttributes[s],"function")){o=this.paper.customAttributes[s].apply(this,[].concat(l[s]));this.attrs[s]=l[s];for(var p in o)if(o[C](p))l[p]=o[p]}if(l.text&&this.type=="text")this.node.string=l.text;Ia(this,l);if(l.gradient&&({circle:1,ellipse:1}[C](this.type)||K(l.gradient).charAt()!="r"))Va(this,l.gradient);(!Ma[C](this.type)||this._.rt.deg)&&this.setBox(this.attrs)}return this};ta.toFront=function(){!this.removed&&this.Group.parentNode.appendChild(this.Group);this.paper.top!=
this&&jb(this,this.paper);return this};ta.toBack=function(){if(this.removed)return this;if(this.Group.parentNode.firstChild!=this.Group){this.Group.parentNode.insertBefore(this.Group,this.Group.parentNode.firstChild);Fa(this,this.paper)}return this};ta.insertAfter=function(d){if(this.removed)return this;if(d.constructor==A)d=d[d.length];d.Group.nextSibling?d.Group.parentNode.insertBefore(this.Group,d.Group.nextSibling):d.Group.parentNode.appendChild(this.Group);vb(this,d,this.paper);return this};
ta.insertBefore=function(d){if(this.removed)return this;if(d.constructor==A)d=d[0];d.Group.parentNode.insertBefore(this.Group,d.Group);kb(this,d,this.paper);return this};ta.blur=function(d){var h=this.node.runtimeStyle,l=h.filter;l=l.replace(Hb,"");if(+d!==0){this.attrs.blur=d;h.filter=l+Z+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+d||1.5)+")";h.margin=a.format("-{0}px 0 0 -{0}px",za(+d||1.5))}else{h.filter=l;h.margin=0;delete this.attrs.blur}};nb=function(d,h,l,o){var s=Da("group"),
p=Da("oval");s.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";s.coordsize=Wa;s.coordorigin=d.coordorigin;s.appendChild(p);p=new wa(p,s,d);p.type="circle";Ia(p,{stroke:"#000",fill:"none"});p.attrs.cx=h;p.attrs.cy=l;p.attrs.r=o;p.setBox({x:h-o,y:l-o,width:o*2,height:o*2});d.canvas.appendChild(s);return p};var Bb=function(d,h,l,o,s){return s?a.format("M{0},{1}l{2},0a{3},{3},0,0,1,{3},{3}l0,{5}a{3},{3},0,0,1,{4},{3}l{6},0a{3},{3},0,0,1,{4},{4}l0,{7}a{3},{3},0,0,1,{3},{4}z",
d+s,h,l-s*2,s,-s,o-s*2,s*2-l,s*2-o):a.format("M{0},{1}l{2},0,0,{3},{4},0z",d,h,l,o,-l)};cb=function(d,h,l,o,s,p){var z=Bb(h,l,o,s,p);d=d.path(z);var E=d.attrs;d.X=E.x=h;d.Y=E.y=l;d.W=E.width=o;d.H=E.height=s;E.r=p;E.path=z;d.type="rect";return d};xb=function(d,h,l,o,s){var p=Da("group"),z=Da("oval");p.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";p.coordsize=Wa;p.coordorigin=d.coordorigin;p.appendChild(z);z=new wa(z,p,d);z.type="ellipse";Ia(z,{stroke:"#000"});
z.attrs.cx=h;z.attrs.cy=l;z.attrs.rx=o;z.attrs.ry=s;z.setBox({x:h-o,y:l-s,width:o*2,height:s*2});d.canvas.appendChild(p);return z};yb=function(d,h,l,o,s,p){var z=Da("group"),E=Da("image");z.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";z.coordsize=Wa;z.coordorigin=d.coordorigin;E.src=h;z.appendChild(E);E=new wa(E,z,d);E.type="image";E.attrs.src=h;E.attrs.x=l;E.attrs.y=o;E.attrs.w=s;E.attrs.h=p;E.setBox({x:l,y:o,width:s,height:p});d.canvas.appendChild(z);
return E};zb=function(d,h,l,o){var s=Da("group"),p=Da("shape"),z=p.style,E=Da("path"),B=Da("textpath");s.style.cssText="position:absolute;left:0;top:0;width:"+d.width+"px;height:"+d.height+"px";s.coordsize=Wa;s.coordorigin=d.coordorigin;E.v=a.format("m{0},{1}l{2},{1}",za(h*10),za(l*10),za(h*10)+1);E.textpathok=true;z.width=d.width;z.height=d.height;B.string=K(o);B.on=true;p.appendChild(B);p.appendChild(E);s.appendChild(p);z=new wa(B,s,d);z.shape=p;z.textpath=E;z.type="text";z.attrs.text=o;z.attrs.x=
h;z.attrs.y=l;z.attrs.w=1;z.attrs.h=1;Ia(z,{font:Ya.font,stroke:"none",fill:"#000"});z.setBox();d.canvas.appendChild(s);return z};Ab=function(d,h){var l=this.canvas.style;d==+d&&(d+="px");h==+h&&(h+="px");l.width=d;l.height=h;l.clip="rect(0 "+d+" "+h+" 0)";return this};var Da;v.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!v.namespaces.rvml&&v.namespaces.add("rvml","urn:schemas-microsoft-com:vml");Da=function(d){return v.createElement("<rvml:"+d+' class="rvml">')}}catch(Kb){Da=
function(d){return v.createElement("<"+d+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}Ja=function(){var d=ub[i](0,arguments),h=d.container,l=d.height,o=d.width,s=d.x;d=d.y;if(!h)throw Error("VML container not found.");var p=new t,z=p.canvas=v.createElement("div"),E=z.style;s=s||0;d=d||0;o=o||512;l=l||342;o==+o&&(o+="px");l==+l&&(l+="px");p.width=1E3;p.height=1E3;p.coordsize=1E4+Z+1E4;p.coordorigin="0 0";p.span=v.createElement("span");p.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
z.appendChild(p.span);E.cssText=a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",o,l);if(h==1){v.body.appendChild(z);E.left=s+"px";E.top=d+"px";E.position="absolute"}else h.firstChild?h.insertBefore(z,h.firstChild):h.appendChild(z);ab.call(p,p,a.fn);return p};y.clear=function(){this.canvas.innerHTML="";this.span=v.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";
this.canvas.appendChild(this.span);this.bottom=this.top=null};y.remove=function(){this.canvas.parentNode.removeChild(this.canvas);for(var d in this)this[d]=lb(d);return true}}Ea=navigator.userAgent.match(/Version\/(.*?)\s/);y.safari=navigator.vendor=="Apple Computer, Inc."&&(Ea&&Ea[1]<4||navigator.platform.slice(0,2)=="iP")?function(){var d=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});u.setTimeout(function(){d.remove()})}:function(){};var f=function(){this.returnValue=false},
k=function(){return this.originalEvent.preventDefault()},q=function(){this.cancelBubble=true},w=function(){return this.originalEvent.stopPropagation()},x=function(){if(v.addEventListener)return function(d,h,l,o){var s=X&&ia[h]?ia[h]:h,p=function(z){if(X&&ia[C](h))for(var E=0,B=z.targetTouches&&z.targetTouches.length;E<B;E++)if(z.targetTouches[E].target==d){B=z;z=z.targetTouches[E];z.originalEvent=B;z.preventDefault=k;z.stopPropagation=w;break}return l.call(o,z)};d.addEventListener(s,p,false);return function(){d.removeEventListener(s,
p,false);return true}};else if(v.attachEvent)return function(d,h,l,o){var s=function(p){p=p||u.event;p.preventDefault=p.preventDefault||f;p.stopPropagation=p.stopPropagation||q;return l.call(o,p)};d.attachEvent("on"+h,s);return function(){d.detachEvent("on"+h,s);return true}}}(),I=[],M=function(d){for(var h=d.clientX,l=d.clientY,o=v.documentElement.scrollTop||v.body.scrollTop,s=v.documentElement.scrollLeft||v.body.scrollLeft,p,z=I.length;z--;){p=I[z];if(X)for(var E=d.touches.length,B;E--;){B=d.touches[E];
if(B.identifier==p.el._drag.id){h=B.clientX;l=B.clientY;(d.originalEvent?d.originalEvent:d).preventDefault();break}}else d.preventDefault();h+=s;l+=o;p.move&&p.move.call(p.el,h-p.el._drag.x,l-p.el._drag.y,h,l)}},W=function(){a.unmousemove(M).unmouseup(W);for(var d=I.length,h;d--;){h=I[d];h.el._drag={};h.end&&h.end.call(h.el)}I=[]};for(Ea=ha[N];Ea--;)(function(d){a[d]=wa[G][d]=function(h){if(a.is(h,"function")){this.events=this.events||[];this.events.push({name:d,f:h,unbind:x(this.shape||this.node||
v,d,h,this)})}return this};a["un"+d]=wa[G]["un"+d]=function(h){for(var l=this.events,o=l[N];o--;)if(l[o].name==d&&l[o].f==h){l[o].unbind();l.splice(o,1);!l.length&&delete this.events;return this}return this}})(ha[Ea]);ta.hover=function(d,h){return this.mouseover(d).mouseout(h)};ta.unhover=function(d,h){return this.unmouseover(d).unmouseout(h)};ta.drag=function(d,h,l){this._drag={};this.mousedown(function(o){(o.originalEvent||o).preventDefault();var s=v.documentElement.scrollTop||v.body.scrollTop,
p=v.documentElement.scrollLeft||v.body.scrollLeft;this._drag.x=o.clientX+p;this._drag.y=o.clientY+s;this._drag.id=o.identifier;h&&h.call(this,o.clientX+p,o.clientY+s);!I.length&&a.mousemove(M).mouseup(W);I.push({el:this,move:d,end:l})});return this};ta.undrag=function(d,h,l){for(h=I.length;h--;){I[h].el==this&&I[h].move==d&&I[h].end==l&&I.splice(h,1);!I.length&&a.unmousemove(M).unmouseup(W)}};y.circle=function(d,h,l){return nb(this,d||0,h||0,l||0)};y.rect=function(d,h,l,o,s){return cb(this,d||0,h||
0,l||0,o||0,s||0)};y.ellipse=function(d,h,l,o){return xb(this,d||0,h||0,l||0,o||0)};y.path=function(d){d&&!a.is(d,"string")&&!a.is(d[0],da)&&(d+="");return wb(a.format[i](a,arguments),this)};y.image=function(d,h,l,o,s){return yb(this,d||"about:blank",h||0,l||0,o||0,s||0)};y.text=function(d,h,l){return zb(this,d||0,h||0,K(l))};y.set=function(d){arguments[N]>1&&(d=Array[G].splice.call(arguments,0,arguments[N]));return new A(d)};y.setSize=Ab;y.top=y.bottom=null;y.raphael=a;ta.resetScale=function(){if(this.removed)return this;
this._.sx=1;this._.sy=1;this.attrs.scale="1 1"};ta.scale=function(d,h,l,o){if(this.removed)return this;if(d==null&&h==null)return{x:this._.sx,y:this._.sy,toString:g};h=h||d;!+h&&(h=d);var s,p,z=this.attrs;if(d!=0){var E=this.getBBox(),B=E.x+E.width/2,D=E.y+E.height/2;s=d/this._.sx;p=h/this._.sy;l=+l||l==0?l:B;o=+o||o==0?o:D;E=~~(d/J.abs(d));var L=~~(h/J.abs(h)),Q=this.node.style,U=l+(B-l)*s;D=o+(D-o)*p;switch(this.type){case "rect":case "image":var ga=z.width*E*s,ea=z.height*L*p;this.attr({height:ea,
r:z.r*V(E*s,L*p),width:ga,x:U-ga/2,y:D-ea/2});break;case "circle":case "ellipse":this.attr({rx:z.rx*E*s,ry:z.ry*L*p,r:z.r*V(E*s,L*p),cx:U,cy:D});break;case "text":this.attr({x:U,y:D});break;case "path":B=hb(z.path);for(var fa=true,ba=0,ja=B[N];ba<ja;ba++){var ka=B[ba],va=Xa.call(ka[0]);if(!(va=="M"&&fa)){fa=false;if(va=="A"){ka[B[ba][N]-2]*=s;ka[B[ba][N]-1]*=p;ka[1]*=E*s;ka[2]*=L*p;ka[5]=+!(E+L?!+ka[5]:+ka[5])}else if(va=="H"){va=1;for(var Pa=ka[N];va<Pa;va++)ka[va]*=s}else if(va=="V"){va=1;for(Pa=
ka[N];va<Pa;va++)ka[va]*=p}else{va=1;for(Pa=ka[N];va<Pa;va++)ka[va]*=va%2?s:p}}}p=$a(B);s=U-p.x-p.width/2;p=D-p.y-p.height/2;B[0][1]+=s;B[0][2]+=p;this.attr({path:B});break}if(this.type in{text:1,image:1}&&(E!=1||L!=1))if(this.transformations){this.transformations[2]="scale(".concat(E,",",L,")");this.node.setAttribute("transform",this.transformations[P](Z));s=E==-1?-z.x-(ga||0):z.x;p=L==-1?-z.y-(ea||0):z.y;this.attr({x:s,y:p});z.fx=E-1;z.fy=L-1}else{this.node.filterMatrix=" progid:DXImageTransform.Microsoft"+
".Matrix(M11=".concat(E,", M12=0, M21=0, M22=",L,", Dx=0, Dy=0, sizingmethod='auto expand', filtertype='bilinear')");Q.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}else if(this.transformations){this.transformations[2]="";this.node.setAttribute("transform",this.transformations[P](Z));z.fx=0;z.fy=0}else{this.node.filterMatrix="";Q.filter=(this.node.filterMatrix||"")+(this.node.filterOpacity||"")}z.scale=[d,h,l,o][P](Z);this._.sx=d;this._.sy=h}return this};ta.clone=function(){if(this.removed)return null;
var d=this.attr();delete d.scale;delete d.translation;return this.paper[this.type]().attr(d)};var S={},Y=function(d,h,l,o,s,p,z,E,B){var D=0,L=[d,h,l,o,s,p,z,E].join(),Q=S[L],U,ga;!Q&&(S[L]=Q={data:[]});Q.timer&&clearTimeout(Q.timer);Q.timer=setTimeout(function(){delete S[L]},2E3);for(var ea=0;ea<101;ea++){if(Q.data[B]>ea)ga=Q.data[ea*100];else{ga=a.findDotsAtSegment(d,h,l,o,s,p,z,E,ea/100);Q.data[ea]=ga}ea&&(D+=T(T(U.x-ga.x,2)+T(U.y-ga.y,2),0.5));if(B!=null&&D>=B)return ga;U=ga}if(B==null)return D};
ha=function(d,h){return function(l,o,s){l=Sa(l);for(var p,z,E,B,D="",L={},Q=0,U=0,ga=l.length;U<ga;U++){E=l[U];if(E[0]=="M"){p=+E[1];z=+E[2]}else{B=Y(p,z,E[1],E[2],E[3],E[4],E[5],E[6]);if(Q+B>o){if(h&&!L.start){p=Y(p,z,E[1],E[2],E[3],E[4],E[5],E[6],o-Q);D+=["C",p.start.x,p.start.y,p.m.x,p.m.y,p.x,p.y];if(s)return D;L.start=D;D=["M",p.x,p.y+"C",p.n.x,p.n.y,p.end.x,p.end.y,E[5],E[6]][P]();Q+=B;p=+E[5];z=+E[6];continue}if(!d&&!h){p=Y(p,z,E[1],E[2],E[3],E[4],E[5],E[6],o-Q);return{x:p.x,y:p.y,alpha:p.alpha}}}Q+=
B;p=+E[5];z=+E[6]}D+=E}L.end=D;p=d?Q:h?L:a.findDotsAtSegment(p,z,E[1],E[2],E[3],E[4],E[5],E[6],1);p.alpha&&(p={x:p.x,y:p.y,alpha:p.alpha});return p}};var ca=ha(1),pa=ha(),ua=ha(0,1);ta.getTotalLength=function(){if(this.type=="path"){if(this.node.getTotalLength)return this.node.getTotalLength();return ca(this.attrs.path)}};ta.getPointAtLength=function(d){if(this.type=="path"){if(this.node.getPointAtLength)return this.node.getPointAtLength(d);return pa(this.attrs.path,d)}};ta.getSubpath=function(d,
h){if(this.type=="path"){if(J.abs(this.getTotalLength()-h)<"1e-6")return ua(this.attrs.path,d).end;var l=ua(this.attrs.path,h,1);return d?ua(l,d).end:l}};a.easing_formulas={linear:function(d){return d},"<":function(d){return T(d,3)},">":function(d){return T(d-1,3)+1},"<>":function(d){d*=2;if(d<1)return T(d,3)/2;d-=2;return(T(d,3)+2)/2},backIn:function(d){return d*d*(2.70158*d-1.70158)},backOut:function(d){d-=1;return d*d*(2.70158*d+1.70158)+1},elastic:function(d){if(d==0||d==1)return d;return T(2,
-10*d)*J.sin((d-0.075)*2*J.PI/0.3)+1},bounce:function(d){if(d<1/2.75)d=7.5625*d*d;else if(d<2/2.75){d-=1.5/2.75;d=7.5625*d*d+0.75}else if(d<2.5/2.75){d-=2.25/2.75;d=7.5625*d*d+0.9375}else{d-=2.625/2.75;d=7.5625*d*d+0.984375}return d}};var sa=[],xa=function(){for(var d=+new Date,h=0;h<sa[N];h++){var l=sa[h];if(!(l.stop||l.el.removed)){var o=d-l.start,s=l.ms,p=l.easing,z=l.from,E=l.diff,B=l.to,D=l.t,L=l.el;l={};var Q;if(o<s){o=p(o/s);for(var U in z)if(z[C](U)){switch(eb[U]){case "along":Q=o*s*E[U];
B.back&&(Q=B.len-Q);p=pa(B[U],Q);L.translate(E.sx-E.x||0,E.sy-E.y||0);E.x=p.x;E.y=p.y;L.translate(p.x-E.sx,p.y-E.sy);B.rot&&L.rotate(E.r+p.alpha,p.x,p.y);break;case aa:Q=+z[U]+o*s*E[U];break;case "colour":Q="rgb("+[qa(za(z[U].r+o*s*E[U].r)),qa(za(z[U].g+o*s*E[U].g)),qa(za(z[U].b+o*s*E[U].b))][P](",")+")";break;case "path":Q=[];p=0;for(var ga=z[U][N];p<ga;p++){Q[p]=[z[U][p][0]];for(var ea=1,fa=z[U][p][N];ea<fa;ea++)Q[p][ea]=+z[U][p][ea]+o*s*E[U][p][ea];Q[p]=Q[p][P](Z)}Q=Q[P](Z);break;case "csv":switch(U){case "translation":Q=
o*s*E[U][0]-D.x;p=o*s*E[U][1]-D.y;D.x+=Q;D.y+=p;Q=Q+Z+p;break;case "rotation":Q=+z[U][0]+o*s*E[U][0];z[U][1]&&(Q+=","+z[U][1]+","+z[U][2]);break;case "scale":Q=[+z[U][0]+o*s*E[U][0],+z[U][1]+o*s*E[U][1],2 in B[U]?B[U][2]:"",3 in B[U]?B[U][3]:""][P](Z);break;case "clip-rect":Q=[];for(p=4;p--;)Q[p]=+z[U][p]+o*s*E[U][p];break}break;default:ga=[].concat(z[U]);Q=[];for(p=L.paper.customAttributes[U].length;p--;)Q[p]=+ga[p]+o*s*E[U][p];break}l[U]=Q}L.attr(l);L._run&&L._run.call(L)}else{if(B.along){p=pa(B.along,
B.len*!B.back);L.translate(E.sx-(E.x||0)+p.x-E.sx,E.sy-(E.y||0)+p.y-E.sy);B.rot&&L.rotate(E.r+p.alpha,p.x,p.y)}(D.x||D.y)&&L.translate(-D.x,-D.y);B.scale&&(B.scale+="");L.attr(B);sa.splice(h--,1)}}}a.svg&&L&&L.paper&&L.paper.safari();sa[N]&&setTimeout(xa)},Ga=function(d,h,l,o,s){var p=l-o;h.timeouts.push(setTimeout(function(){a.is(s,"function")&&s.call(h);h.animate(d,p,d.easing)},o))},qa=function(d){return R(V(d,255),0)},Qa=function(d,h){if(d==null)return{x:this._.tx,y:this._.ty,toString:g};this._.tx+=
+d;this._.ty+=+h;switch(this.type){case "circle":case "ellipse":this.attr({cx:+d+this.attrs.cx,cy:+h+this.attrs.cy});break;case "rect":case "image":case "text":this.attr({x:+d+this.attrs.x,y:+h+this.attrs.y});break;case "path":var l=hb(this.attrs.path);l[0][1]+=+d;l[0][2]+=+h;this.attr({path:l});break}return this};ta.animateWith=function(d,h,l,o,s){for(var p=0,z=sa.length;p<z;p++)if(sa[p].el.id==d.id)h.start=sa[p].start;return this.animate(h,l,o,s)};ta.animateAlong=e();ta.animateAlongBack=e(1);ta.onAnimation=
function(d){this._run=d||0;return this};ta.animate=function(d,h,l,o){var s=this;s.timeouts=s.timeouts||[];if(a.is(l,"function")||!l)o=l||null;if(s.removed){o&&o.call(s);return s}var p={},z={},E=false,B={};for(var D in d)if(d[C](D))if(eb[C](D)||s.paper.customAttributes[C](D)){E=true;p[D]=s.attr(D);p[D]==null&&(p[D]=Ya[D]);z[D]=d[D];switch(eb[D]){case "along":var L=ca(d[D]),Q=pa(d[D],L*!!d.back),U=s.getBBox();B[D]=L/h;B.tx=U.x;B.ty=U.y;B.sx=Q.x;B.sy=Q.y;z.rot=d.rot;z.back=d.back;z.len=L;d.rot&&(B.r=
ma(s.rotate())||0);break;case aa:B[D]=(z[D]-p[D])/h;break;case "colour":p[D]=a.getRGB(p[D]);L=a.getRGB(z[D]);B[D]={r:(L.r-p[D].r)/h,g:(L.g-p[D].g)/h,b:(L.b-p[D].b)/h};break;case "path":L=Sa(p[D],z[D]);p[D]=L[0];U=L[1];B[D]=[];L=0;for(Q=p[D][N];L<Q;L++){B[D][L]=[0];for(var ga=1,ea=p[D][L][N];ga<ea;ga++)B[D][L][ga]=(U[L][ga]-p[D][L][ga])/h}break;case "csv":Q=K(d[D]).split(m);U=K(p[D]).split(m);switch(D){case "translation":p[D]=[0,0];B[D]=[Q[0]/h,Q[1]/h];break;case "rotation":p[D]=U[1]==Q[1]&&U[2]==
Q[2]?U:[0,Q[1],Q[2]];B[D]=[(Q[0]-p[D][0])/h,0,0];break;case "scale":d[D]=Q;p[D]=K(p[D]).split(m);B[D]=[(Q[0]-p[D][0])/h,(Q[1]-p[D][1])/h,0,0];break;case "clip-rect":p[D]=K(p[D]).split(m);B[D]=[];for(L=4;L--;)B[D][L]=(Q[L]-p[D][L])/h;break}z[D]=Q;break;default:Q=[].concat(d[D]);U=[].concat(p[D]);B[D]=[];for(L=s.paper.customAttributes[D][N];L--;)B[D][L]=((Q[L]||0)-(U[L]||0))/h;break}}if(E){D=a.easing_formulas[l];if(!D)if((D=K(l).match(Ca))&&D[N]==5){var fa=D;D=function(ka){return j(ka,+fa[1],+fa[2],
+fa[3],+fa[4],h)}}else D=function(ka){return ka};sa.push({start:d.start||+new Date,ms:h,easing:D,from:p,diff:B,to:z,el:s,t:{x:0,y:0}});a.is(o,"function")&&(s._ac=setTimeout(function(){o.call(s)},h));sa[N]==1&&setTimeout(xa)}else{l=[];var ba;for(var ja in d)if(d[C](ja)&&Db.test(ja)){D={value:d[ja]};ja=="from"&&(ja=0);ja=="to"&&(ja=100);D.key=Ha(ja,10);l.push(D)}l.sort(qb);l[0].key&&l.unshift({key:0,value:s.attrs});L=0;for(Q=l[N];L<Q;L++)Ga(l[L].value,s,h/100*l[L].key,h/100*(l[L-1]&&l[L-1].key||0),
l[L-1]&&l[L-1].value.callback);(ba=l[l[N]-1].value.callback)&&s.timeouts.push(setTimeout(function(){ba.call(s)},h))}return this};ta.stop=function(){for(var d=0;d<sa.length;d++)sa[d].el.id==this.id&&sa.splice(d--,1);d=0;for(ii=this.timeouts&&this.timeouts.length;d<ii;d++)clearTimeout(this.timeouts[d]);this.timeouts=[];clearTimeout(this._ac);delete this._ac;return this};ta.translate=function(d,h){return this.attr({translation:d+" "+h})};ta.toString=function(){return"Rapha\u00ebl\u2019s object"};a.ae=
sa;var A=function(d){this.items=[];this[N]=0;this.type="set";if(d)for(var h=0,l=d[N];h<l;h++)if(d[h]&&(d[h].constructor==wa||d[h].constructor==A)){this[this.items[N]]=this.items[this.items[N]]=d[h];this[N]++}};A[G][na]=function(){for(var d,h,l=0,o=arguments[N];l<o;l++)if((d=arguments[l])&&(d.constructor==wa||d.constructor==A)){h=this.items[N];this[h]=this.items[h]=d;this[N]++}return this};A[G].pop=function(){delete this[this[N]--];return this.items.pop()};for(var H in ta)if(ta[C](H))A[G][H]=function(d){return function(){for(var h=
0,l=this.items[N];h<l;h++)this.items[h][d][i](this.items[h],arguments);return this}}(H);A[G].attr=function(d,h){if(d&&a.is(d,da)&&a.is(d[0],"object"))for(var l=0,o=d[N];l<o;l++)this.items[l].attr(d[l]);else{l=0;for(o=this.items[N];l<o;l++)this.items[l].attr(d,h)}return this};A[G].animate=function(d,h,l,o){(a.is(l,"function")||!l)&&(o=l||null);var s=this.items[N],p=s,z,E=this,B;o&&(B=function(){!--s&&o.call(E)});l=a.is(l,"string")?l:B;for(z=this.items[--p].animate(d,h,l,B);p--;)this.items[p]&&!this.items[p].removed&&
this.items[p].animateWith(z,d,h,l,B);return this};A[G].insertAfter=function(d){for(var h=this.items[N];h--;)this.items[h].insertAfter(d);return this};A[G].getBBox=function(){for(var d=[],h=[],l=[],o=[],s=this.items[N];s--;){var p=this.items[s].getBBox();d[na](p.x);h[na](p.y);l[na](p.x+p.width);o[na](p.y+p.height)}d=V[i](0,d);h=V[i](0,h);return{x:d,y:h,width:R[i](0,l)-d,height:R[i](0,o)-h}};A[G].clone=function(d){d=new A;for(var h=0,l=this.items[N];h<l;h++)d[na](this.items[h].clone());return d};a.registerFont=
function(d){if(!d.face)return d;this.fonts=this.fonts||{};var h={w:d.w,face:{},glyphs:{}},l=d.face["font-family"];for(var o in d.face)if(d.face[C](o))h.face[o]=d.face[o];if(this.fonts[l])this.fonts[l][na](h);else this.fonts[l]=[h];if(!d.svg){h.face["units-per-em"]=Ha(d.face["units-per-em"],10);for(var s in d.glyphs)if(d.glyphs[C](s)){l=d.glyphs[s];h.glyphs[s]={w:l.w,k:{},d:l.d&&"M"+l.d.replace(/[mlcxtrv]/g,function(z){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[z]||"M"})+"z"};if(l.k)for(var p in l.k)if(l[C](p))h.glyphs[s].k[p]=
l.k[p]}}return d};y.getFont=function(d,h,l,o){o=o||"normal";l=l||"normal";h=+h||{normal:400,bold:700,lighter:300,bolder:800}[h]||400;if(a.fonts){var s=a.fonts[d];if(!s){d=RegExp("(^|\\s)"+d.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i");for(var p in a.fonts)if(a.fonts[C](p))if(d.test(p)){s=a.fonts[p];break}}var z;if(s){p=0;for(d=s[N];p<d;p++){z=s[p];if(z.face["font-weight"]==h&&(z.face["font-style"]==l||!z.face["font-style"])&&z.face["font-stretch"]==o)break}}return z}};y.print=function(d,h,l,o,s,
p,z){p=p||"middle";z=R(V(z||0,1),-1);var E=this.set(),B=K(l).split(""),D=0;a.is(o,l)&&(o=this.getFont(o));if(o){l=(s||16)/o.face["units-per-em"];var L=o.face.bbox.split(m);s=+L[0];p=+L[1]+(p=="baseline"?L[3]-L[1]+ +o.face.descent:(L[3]-L[1])/2);L=0;for(var Q=B[N];L<Q;L++){var U=L&&o.glyphs[B[L-1]]||{},ga=o.glyphs[B[L]];D+=L?(U.w||o.w)+(U.k&&U.k[B[L]]||0)+o.w*z:0;ga&&ga.d&&E[na](this.path(ga.d).attr({fill:"#000",stroke:"none",translation:[D,0]}))}E.scale(l,l,s,p).translate(d-s,h-p)}return E};a.format=
function(d,h){var l=a.is(h,da)?[0].concat(h):arguments;d&&a.is(d,"string")&&l[N]-1&&(d=d.replace(F,function(o,s){return l[++s]==null?"":l[s]}));return d||""};a.ninja=function(){n.was?u.Raphael=n.is:delete Raphael;return a};a.el=ta;a.st=A[G];n.was?u.Raphael=a:Raphael=a})();(function(a,b){function g(){if(!i.isReady){try{K.documentElement.doScroll("left")}catch(f){setTimeout(g,1);return}i.ready()}}function e(f,k){k.src?i.ajax({url:k.src,async:false,dataType:"script"}):i.globalEval(k.text||k.textContent||k.innerHTML||"");k.parentNode&&k.parentNode.removeChild(k)}function j(f,k,q,w,x,I){var M=f.length;if(typeof k==="object"){for(var W in k)j(f,W,k[W],w,x,q);return f}if(q!==b){w=!I&&w&&i.isFunction(q);for(W=0;W<M;W++)x(f[W],k,w?q.call(f[W],W,x(f[W],k)):q,I);return f}return M?
x(f[0],k):b}function m(){return(new Date).getTime()}function r(){return false}function F(){return true}function G(f,k,q){q[0].type=f;return i.event.handle.apply(k,q)}function C(f){var k,q=[],w=[],x=arguments,I,M,W,S,Y,ca;M=i.data(this,"events");if(!(f.liveFired===this||!M||!M.live||f.button&&f.type==="click")){f.liveFired=this;var pa=M.live.slice(0);for(S=0;S<pa.length;S++){M=pa[S];M.origType.replace(Ra,"")===f.type?w.push(M.selector):pa.splice(S--,1)}I=i(f.target).closest(w,f.currentTarget);Y=0;
for(ca=I.length;Y<ca;Y++)for(S=0;S<pa.length;S++){M=pa[S];if(I[Y].selector===M.selector){W=I[Y].elem;w=null;if(M.preType==="mouseenter"||M.preType==="mouseleave")w=i(f.relatedTarget).closest(M.selector)[0];if(!w||w!==W)q.push({elem:W,handleObj:M})}}Y=0;for(ca=q.length;Y<ca;Y++){I=q[Y];f.currentTarget=I.elem;f.data=I.handleObj.data;f.handleObj=I.handleObj;if(I.handleObj.origHandler.apply(I.elem,x)===false){k=false;break}}return k}}function v(f,k){return"live."+(f&&f!=="*"?f+".":"")+k.replace(/\./g,
"`").replace(/ /g,"&")}function u(f,k){var q=0;k.each(function(){if(this.nodeName===(f[q]&&f[q].nodeName)){var w=i.data(f[q++]),x=i.data(this,w);if(w=w&&w.events){delete x.handle;x.events={};for(var I in w)for(var M in w[I])i.event.add(this,I,w[I][M],w[I][M].data)}}})}function n(f,k,q){var w,x,I;k=k&&k[0]?k[0].ownerDocument||k[0]:K;if(f.length===1&&typeof f[0]==="string"&&f[0].length<512&&k===K&&!ab.test(f[0])&&(i.support.checkClone||!La.test(f[0]))){x=true;if(I=i.fragments[f[0]])if(I!==1)w=I}if(!w){w=
k.createDocumentFragment();i.clean(f,k,w,q)}if(x)i.fragments[f[0]]=I?w:1;return{fragment:w,cacheable:x}}function t(f,k){var q={};i.each(Kb.concat.apply([],Kb.slice(0,k)),function(){q[this]=f});return q}function y(f){return"scrollTo"in f&&f.document?f:f.nodeType===9?f.defaultView||f.parentWindow:false}var i=function(f,k){return new i.fn.init(f,k)},X=a.jQuery,Z=a.$,K=a.document,ha,ia=/^[^<]*(<[\w\W]+>)[^>]*$|^#([\w-]+)$/,P=/^.[^:#\[\.,]*$/,N=/\S/,O=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,J=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,
R=navigator.userAgent,V=false,T=[],aa,da=Object.prototype.toString,oa=Object.prototype.hasOwnProperty,na=Array.prototype.push,ra=Array.prototype.slice,Aa=Array.prototype.indexOf;i.fn=i.prototype={init:function(f,k){var q,w;if(!f)return this;if(f.nodeType){this.context=this[0]=f;this.length=1;return this}if(f==="body"&&!k){this.context=K;this[0]=K.body;this.selector="body";this.length=1;return this}if(typeof f==="string")if((q=ia.exec(f))&&(q[1]||!k))if(q[1]){w=k?k.ownerDocument||k:K;if(f=J.exec(f))if(i.isPlainObject(k)){f=
[K.createElement(f[1])];i.fn.attr.call(f,k,true)}else f=[w.createElement(f[1])];else{f=n([q[1]],[w]);f=(f.cacheable?f.fragment.cloneNode(true):f.fragment).childNodes}return i.merge(this,f)}else{if(k=K.getElementById(q[2])){if(k.id!==q[2])return ha.find(f);this.length=1;this[0]=k}this.context=K;this.selector=f;return this}else if(!k&&/^\w+$/.test(f)){this.selector=f;this.context=K;f=K.getElementsByTagName(f);return i.merge(this,f)}else return!k||k.jquery?(k||ha).find(f):i(k).find(f);else if(i.isFunction(f))return ha.ready(f);
if(f.selector!==b){this.selector=f.selector;this.context=f.context}return i.makeArray(f,this)},selector:"",jquery:"1.4.2",length:0,size:function(){return this.length},toArray:function(){return ra.call(this,0)},get:function(f){return f==null?this.toArray():f<0?this.slice(f)[0]:this[f]},pushStack:function(f,k,q){var w=i();i.isArray(f)?na.apply(w,f):i.merge(w,f);w.prevObject=this;w.context=this.context;if(k==="find")w.selector=this.selector+(this.selector?" ":"")+q;else if(k)w.selector=this.selector+
"."+k+"("+q+")";return w},each:function(f,k){return i.each(this,f,k)},ready:function(f){i.bindReady();if(i.isReady)f.call(K,i);else T&&T.push(f);return this},eq:function(f){return f===-1?this.slice(f):this.slice(f,+f+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(ra.apply(this,arguments),"slice",ra.call(arguments).join(","))},map:function(f){return this.pushStack(i.map(this,function(k,q){return f.call(k,q,k)}))},end:function(){return this.prevObject||
i(null)},push:na,sort:[].sort,splice:[].splice};i.fn.init.prototype=i.fn;i.extend=i.fn.extend=function(){var f=arguments[0]||{},k=1,q=arguments.length,w=false,x,I,M,W;if(typeof f==="boolean"){w=f;f=arguments[1]||{};k=2}if(typeof f!=="object"&&!i.isFunction(f))f={};if(q===k){f=this;--k}for(;k<q;k++)if((x=arguments[k])!=null)for(I in x){M=f[I];W=x[I];if(f!==W)if(w&&W&&(i.isPlainObject(W)||i.isArray(W))){M=M&&(i.isPlainObject(M)||i.isArray(M))?M:i.isArray(W)?[]:{};f[I]=i.extend(w,M,W)}else if(W!==b)f[I]=
W}return f};i.extend({noConflict:function(f){a.$=Z;if(f)a.jQuery=X;return i},isReady:false,ready:function(){if(!i.isReady){if(!K.body)return setTimeout(i.ready,13);i.isReady=true;if(T){for(var f,k=0;f=T[k++];)f.call(K,i);T=null}i.fn.triggerHandler&&i(K).triggerHandler("ready")}},bindReady:function(){if(!V){V=true;if(K.readyState==="complete")return i.ready();if(K.addEventListener){K.addEventListener("DOMContentLoaded",aa,false);a.addEventListener("load",i.ready,false)}else if(K.attachEvent){K.attachEvent("onreadystatechange",
aa);a.attachEvent("onload",i.ready);var f=false;try{f=a.frameElement==null}catch(k){}K.documentElement.doScroll&&f&&g()}}},isFunction:function(f){return da.call(f)==="[object Function]"},isArray:function(f){return da.call(f)==="[object Array]"},isPlainObject:function(f){if(!f||da.call(f)!=="[object Object]"||f.nodeType||f.setInterval)return false;if(f.constructor&&!oa.call(f,"constructor")&&!oa.call(f.constructor.prototype,"isPrototypeOf"))return false;var k;for(k in f);return k===b||oa.call(f,k)},
isEmptyObject:function(f){for(var k in f)return false;return true},error:function(f){throw f;},parseJSON:function(f){if(typeof f!=="string"||!f)return null;f=i.trim(f);if(/^[\],:{}\s]*$/.test(f.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return a.JSON&&a.JSON.parse?a.JSON.parse(f):(new Function("return "+f))();else i.error("Invalid JSON: "+f)},noop:function(){},globalEval:function(f){if(f&&
N.test(f)){var k=K.getElementsByTagName("head")[0]||K.documentElement,q=K.createElement("script");q.type="text/javascript";if(i.support.scriptEval)q.appendChild(K.createTextNode(f));else q.text=f;k.insertBefore(q,k.firstChild);k.removeChild(q)}},nodeName:function(f,k){return f.nodeName&&f.nodeName.toUpperCase()===k.toUpperCase()},each:function(f,k,q){var w,x=0,I=f.length,M=I===b||i.isFunction(f);if(q)if(M)for(w in f){if(k.apply(f[w],q)===false)break}else for(;x<I;){if(k.apply(f[x++],q)===false)break}else if(M)for(w in f){if(k.call(f[w],
w,f[w])===false)break}else for(q=f[0];x<I&&k.call(q,x,q)!==false;q=f[++x]);return f},trim:function(f){return(f||"").replace(O,"")},makeArray:function(f,k){k=k||[];if(f!=null)f.length==null||typeof f==="string"||i.isFunction(f)||typeof f!=="function"&&f.setInterval?na.call(k,f):i.merge(k,f);return k},inArray:function(f,k){if(k.indexOf)return k.indexOf(f);for(var q=0,w=k.length;q<w;q++)if(k[q]===f)return q;return-1},merge:function(f,k){var q=f.length,w=0;if(typeof k.length==="number")for(var x=k.length;w<
x;w++)f[q++]=k[w];else for(;k[w]!==b;)f[q++]=k[w++];f.length=q;return f},grep:function(f,k,q){for(var w=[],x=0,I=f.length;x<I;x++)!q!==!k(f[x],x)&&w.push(f[x]);return w},map:function(f,k,q){for(var w=[],x,I=0,M=f.length;I<M;I++){x=k(f[I],I,q);if(x!=null)w[w.length]=x}return w.concat.apply([],w)},guid:1,proxy:function(f,k,q){if(arguments.length===2)if(typeof k==="string"){q=f;f=q[k];k=b}else if(k&&!i.isFunction(k)){q=k;k=b}if(!k&&f)k=function(){return f.apply(q||this,arguments)};if(f)k.guid=f.guid=
f.guid||k.guid||i.guid++;return k},uaMatch:function(f){f=f.toLowerCase();f=/(webkit)[ \/]([\w.]+)/.exec(f)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(f)||/(msie) ([\w.]+)/.exec(f)||!/compatible/.test(f)&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(f)||[];return{browser:f[1]||"",version:f[2]||"0"}},browser:{}});R=i.uaMatch(R);if(R.browser){i.browser[R.browser]=true;i.browser.version=R.version}if(i.browser.webkit)i.browser.safari=true;if(Aa)i.inArray=function(f,k){return Aa.call(k,f)};ha=i(K);if(K.addEventListener)aa=
function(){K.removeEventListener("DOMContentLoaded",aa,false);i.ready()};else if(K.attachEvent)aa=function(){if(K.readyState==="complete"){K.detachEvent("onreadystatechange",aa);i.ready()}};(function(){i.support={};var f=K.documentElement,k=K.createElement("script"),q=K.createElement("div"),w="script"+m();q.style.display="none";q.innerHTML="   <link/><table></table><a href='/a' style='color:red;float:left;opacity:.55;'>a</a><input type='checkbox'/>";var x=q.getElementsByTagName("*"),I=q.getElementsByTagName("a")[0];
if(!(!x||!x.length||!I)){i.support={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName("tbody").length,htmlSerialize:!!q.getElementsByTagName("link").length,style:/red/.test(I.getAttribute("style")),hrefNormalized:I.getAttribute("href")==="/a",opacity:/^0.55$/.test(I.style.opacity),cssFloat:!!I.style.cssFloat,checkOn:q.getElementsByTagName("input")[0].value==="on",optSelected:K.createElement("select").appendChild(K.createElement("option")).selected,parentNode:q.removeChild(q.appendChild(K.createElement("div"))).parentNode===
null,deleteExpando:true,checkClone:false,scriptEval:false,noCloneEvent:true,boxModel:null};k.type="text/javascript";try{k.appendChild(K.createTextNode("window."+w+"=1;"))}catch(M){}f.insertBefore(k,f.firstChild);if(a[w]){i.support.scriptEval=true;delete a[w]}try{delete k.test}catch(W){i.support.deleteExpando=false}f.removeChild(k);if(q.attachEvent&&q.fireEvent){q.attachEvent("onclick",function S(){i.support.noCloneEvent=false;q.detachEvent("onclick",S)});q.cloneNode(true).fireEvent("onclick")}q=K.createElement("div");
q.innerHTML="<input type='radio' name='radiotest' checked='checked'/>";f=K.createDocumentFragment();f.appendChild(q.firstChild);i.support.checkClone=f.cloneNode(true).cloneNode(true).lastChild.checked;i(function(){var S=K.createElement("div");S.style.width=S.style.paddingLeft="1px";K.body.appendChild(S);i.boxModel=i.support.boxModel=S.offsetWidth===2;K.body.removeChild(S).style.display="none"});f=function(S){var Y=K.createElement("div");S="on"+S;var ca=S in Y;if(!ca){Y.setAttribute(S,"return;");ca=
typeof Y[S]==="function"}return ca};i.support.submitBubbles=f("submit");i.support.changeBubbles=f("change");f=k=q=x=I=null}})();i.props={"for":"htmlFor","class":"className",readonly:"readOnly",maxlength:"maxLength",cellspacing:"cellSpacing",rowspan:"rowSpan",colspan:"colSpan",tabindex:"tabIndex",usemap:"useMap",frameborder:"frameBorder"};var ya="jQuery"+m(),Ba=0,Ca={};i.extend({cache:{},expando:ya,noData:{embed:true,object:true,applet:true},data:function(f,k,q){if(!(f.nodeName&&i.noData[f.nodeName.toLowerCase()])){f=
f==a?Ca:f;var w=f[ya],x=i.cache;if(!w&&typeof k==="string"&&q===b)return null;w||(w=++Ba);if(typeof k==="object"){f[ya]=w;x[w]=i.extend(true,{},k)}else if(!x[w]){f[ya]=w;x[w]={}}f=x[w];if(q!==b)f[k]=q;return typeof k==="string"?f[k]:f}},removeData:function(f,k){if(!(f.nodeName&&i.noData[f.nodeName.toLowerCase()])){f=f==a?Ca:f;var q=f[ya],w=i.cache,x=w[q];if(k){if(x){delete x[k];i.isEmptyObject(x)&&i.removeData(f)}}else{if(i.support.deleteExpando)delete f[i.expando];else f.removeAttribute&&f.removeAttribute(i.expando);
delete w[q]}}}});i.fn.extend({data:function(f,k){if(typeof f==="undefined"&&this.length)return i.data(this[0]);else if(typeof f==="object")return this.each(function(){i.data(this,f)});var q=f.split(".");q[1]=q[1]?"."+q[1]:"";if(k===b){var w=this.triggerHandler("getData"+q[1]+"!",[q[0]]);if(w===b&&this.length)w=i.data(this[0],f);return w===b&&q[1]?this.data(q[0]):w}else return this.trigger("setData"+q[1]+"!",[q[0],k]).each(function(){i.data(this,f,k)})},removeData:function(f){return this.each(function(){i.removeData(this,
f)})}});i.extend({queue:function(f,k,q){if(f){k=(k||"fx")+"queue";var w=i.data(f,k);if(!q)return w||[];if(!w||i.isArray(q))w=i.data(f,k,i.makeArray(q));else w.push(q);return w}},dequeue:function(f,k){k=k||"fx";var q=i.queue(f,k),w=q.shift();if(w==="inprogress")w=q.shift();if(w){k==="fx"&&q.unshift("inprogress");w.call(f,function(){i.dequeue(f,k)})}}});i.fn.extend({queue:function(f,k){if(typeof f!=="string"){k=f;f="fx"}if(k===b)return i.queue(this[0],f);return this.each(function(){var q=i.queue(this,
f,k);f==="fx"&&q[0]!=="inprogress"&&i.dequeue(this,f)})},dequeue:function(f){return this.each(function(){i.dequeue(this,f)})},delay:function(f,k){f=i.fx?i.fx.speeds[f]||f:f;k=k||"fx";return this.queue(k,function(){var q=this;setTimeout(function(){i.dequeue(q,k)},f)})},clearQueue:function(f){return this.queue(f||"fx",[])}});var za=/[\n\t]/g,ma=/\s+/,Ha=/\r/g,Xa=/href|src|style/,Ya=/(button|input)/i,eb=/(button|input|object|select|textarea)/i,Cb=/^(a|area)$/i,Ka=/radio|checkbox/;i.fn.extend({attr:function(f,
k){return j(this,f,k,true,i.attr)},removeAttr:function(f){return this.each(function(){i.attr(this,f,"");this.nodeType===1&&this.removeAttribute(f)})},addClass:function(f){if(i.isFunction(f))return this.each(function(Y){var ca=i(this);ca.addClass(f.call(this,Y,ca.attr("class")))});if(f&&typeof f==="string")for(var k=(f||"").split(ma),q=0,w=this.length;q<w;q++){var x=this[q];if(x.nodeType===1)if(x.className){for(var I=" "+x.className+" ",M=x.className,W=0,S=k.length;W<S;W++)if(I.indexOf(" "+k[W]+" ")<
0)M+=" "+k[W];x.className=i.trim(M)}else x.className=f}return this},removeClass:function(f){if(i.isFunction(f))return this.each(function(S){var Y=i(this);Y.removeClass(f.call(this,S,Y.attr("class")))});if(f&&typeof f==="string"||f===b)for(var k=(f||"").split(ma),q=0,w=this.length;q<w;q++){var x=this[q];if(x.nodeType===1&&x.className)if(f){for(var I=(" "+x.className+" ").replace(za," "),M=0,W=k.length;M<W;M++)I=I.replace(" "+k[M]+" "," ");x.className=i.trim(I)}else x.className=""}return this},toggleClass:function(f,
k){var q=typeof f,w=typeof k==="boolean";if(i.isFunction(f))return this.each(function(x){var I=i(this);I.toggleClass(f.call(this,x,I.attr("class"),k),k)});return this.each(function(){if(q==="string")for(var x,I=0,M=i(this),W=k,S=f.split(ma);x=S[I++];){W=w?W:!M.hasClass(x);M[W?"addClass":"removeClass"](x)}else if(q==="undefined"||q==="boolean"){this.className&&i.data(this,"__className__",this.className);this.className=this.className||f===false?"":i.data(this,"__className__")||""}})},hasClass:function(f){f=
" "+f+" ";for(var k=0,q=this.length;k<q;k++)if((" "+this[k].className+" ").replace(za," ").indexOf(f)>-1)return true;return false},val:function(f){if(f===b){var k=this[0];if(k){if(i.nodeName(k,"option"))return(k.attributes.value||{}).specified?k.value:k.text;if(i.nodeName(k,"select")){var q=k.selectedIndex,w=[],x=k.options;k=k.type==="select-one";if(q<0)return null;var I=k?q:0;for(q=k?q+1:x.length;I<q;I++){var M=x[I];if(M.selected){f=i(M).val();if(k)return f;w.push(f)}}return w}if(Ka.test(k.type)&&
!i.support.checkOn)return k.getAttribute("value")===null?"on":k.value;return(k.value||"").replace(Ha,"")}return b}var W=i.isFunction(f);return this.each(function(S){var Y=i(this),ca=f;if(this.nodeType===1){if(W)ca=f.call(this,S,Y.val());if(typeof ca==="number")ca+="";if(i.isArray(ca)&&Ka.test(this.type))this.checked=i.inArray(Y.val(),ca)>=0;else if(i.nodeName(this,"select")){var pa=i.makeArray(ca);i("option",this).each(function(){this.selected=i.inArray(i(this).val(),pa)>=0});if(!pa.length)this.selectedIndex=
-1}else this.value=ca}})}});i.extend({attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(f,k,q,w){if(!f||f.nodeType===3||f.nodeType===8)return b;if(w&&k in i.attrFn)return i(f)[k](q);w=f.nodeType!==1||!i.isXMLDoc(f);var x=q!==b;k=w&&i.props[k]||k;if(f.nodeType===1){var I=Xa.test(k);if(k in f&&w&&!I){if(x){k==="type"&&Ya.test(f.nodeName)&&f.parentNode&&i.error("type property can't be changed");f[k]=q}if(i.nodeName(f,"form")&&f.getAttributeNode(k))return f.getAttributeNode(k).nodeValue;
if(k==="tabIndex")return(k=f.getAttributeNode("tabIndex"))&&k.specified?k.value:eb.test(f.nodeName)||Cb.test(f.nodeName)&&f.href?0:b;return f[k]}if(!i.support.style&&w&&k==="style"){if(x)f.style.cssText=""+q;return f.style.cssText}x&&f.setAttribute(k,""+q);f=!i.support.hrefNormalized&&w&&I?f.getAttribute(k,2):f.getAttribute(k);return f===null?b:f}return i.style(f,k,q)}});var Ra=/\.(.*)$/,Db=function(f){return f.replace(/[^\w\s\.\|`]/g,function(k){return"\\"+k})};i.event={add:function(f,k,q,w){if(!(f.nodeType===
3||f.nodeType===8)){if(f.setInterval&&f!==a&&!f.frameElement)f=a;var x,I;if(q.handler){x=q;q=x.handler}if(!q.guid)q.guid=i.guid++;if(I=i.data(f)){var M=I.events=I.events||{},W=I.handle;if(!W)I.handle=W=function(){return typeof i!=="undefined"&&!i.event.triggered?i.event.handle.apply(W.elem,arguments):b};W.elem=f;k=k.split(" ");for(var S,Y=0,ca;S=k[Y++];){I=x?i.extend({},x):{handler:q,data:w};if(S.indexOf(".")>-1){ca=S.split(".");S=ca.shift();I.namespace=ca.slice(0).sort().join(".")}else{ca=[];I.namespace=
""}I.type=S;I.guid=q.guid;var pa=M[S],ua=i.event.special[S]||{};if(!pa){pa=M[S]=[];if(!ua.setup||ua.setup.call(f,w,ca,W)===false)if(f.addEventListener)f.addEventListener(S,W,false);else f.attachEvent&&f.attachEvent("on"+S,W)}if(ua.add){ua.add.call(f,I);if(!I.handler.guid)I.handler.guid=q.guid}pa.push(I);i.event.global[S]=true}f=null}}},global:{},remove:function(f,k,q,w){if(!(f.nodeType===3||f.nodeType===8)){var x,I=0,M,W,S,Y,ca,pa,ua=i.data(f),sa=ua&&ua.events;if(ua&&sa){if(k&&k.type){q=k.handler;
k=k.type}if(!k||typeof k==="string"&&k.charAt(0)==="."){k=k||"";for(x in sa)i.event.remove(f,x+k)}else{for(k=k.split(" ");x=k[I++];){Y=x;M=x.indexOf(".")<0;W=[];if(!M){W=x.split(".");x=W.shift();S=RegExp("(^|\\.)"+i.map(W.slice(0).sort(),Db).join("\\.(?:.*\\.)?")+"(\\.|$)")}if(ca=sa[x])if(q){Y=i.event.special[x]||{};for(xa=w||0;xa<ca.length;xa++){pa=ca[xa];if(q.guid===pa.guid){if(M||S.test(pa.namespace)){w==null&&ca.splice(xa--,1);Y.remove&&Y.remove.call(f,pa)}if(w!=null)break}}if(ca.length===0||
w!=null&&ca.length===1){if(!Y.teardown||Y.teardown.call(f,W)===false)ob(f,x,ua.handle);delete sa[x]}}else for(var xa=0;xa<ca.length;xa++){pa=ca[xa];if(M||S.test(pa.namespace)){i.event.remove(f,Y,pa.handler,xa);ca.splice(xa--,1)}}}if(i.isEmptyObject(sa)){if(k=ua.handle)k.elem=null;delete ua.events;delete ua.handle;i.isEmptyObject(ua)&&i.removeData(f)}}}}},trigger:function(f,k,q,w){var x=f.type||f;if(!w){f=typeof f==="object"?f[ya]?f:i.extend(i.Event(x),f):i.Event(x);if(x.indexOf("!")>=0){f.type=x=
x.slice(0,-1);f.exclusive=true}if(!q){f.stopPropagation();i.event.global[x]&&i.each(i.cache,function(){this.events&&this.events[x]&&i.event.trigger(f,k,this.handle.elem)})}if(!q||q.nodeType===3||q.nodeType===8)return b;f.result=b;f.target=q;k=i.makeArray(k);k.unshift(f)}f.currentTarget=q;(w=i.data(q,"handle"))&&w.apply(q,k);w=q.parentNode||q.ownerDocument;try{if(!(q&&q.nodeName&&i.noData[q.nodeName.toLowerCase()]))if(q["on"+x]&&q["on"+x].apply(q,k)===false)f.result=false}catch(I){}if(!f.isPropagationStopped()&&
w)i.event.trigger(f,k,w,true);else if(!f.isDefaultPrevented()){w=f.target;var M,W=i.nodeName(w,"a")&&x==="click",S=i.event.special[x]||{};if((!S._default||S._default.call(q,f)===false)&&!W&&!(w&&w.nodeName&&i.noData[w.nodeName.toLowerCase()])){try{if(w[x]){if(M=w["on"+x])w["on"+x]=null;i.event.triggered=true;w[x]()}}catch(Y){}if(M)w["on"+x]=M;i.event.triggered=false}}},handle:function(f){var k,q,w,x;f=arguments[0]=i.event.fix(f||a.event);f.currentTarget=this;k=f.type.indexOf(".")<0&&!f.exclusive;
if(!k){q=f.type.split(".");f.type=q.shift();w=RegExp("(^|\\.)"+q.slice(0).sort().join("\\.(?:.*\\.)?")+"(\\.|$)")}x=i.data(this,"events");q=x[f.type];if(x&&q){q=q.slice(0);x=0;for(var I=q.length;x<I;x++){var M=q[x];if(k||w.test(M.namespace)){f.handler=M.handler;f.data=M.data;f.handleObj=M;M=M.handler.apply(this,arguments);if(M!==b){f.result=M;if(M===false){f.preventDefault();f.stopPropagation()}}if(f.isImmediatePropagationStopped())break}}}return f.result},props:"altKey attrChange attrName bubbles button cancelable charCode clientX clientY ctrlKey currentTarget data detail eventPhase fromElement handler keyCode layerX layerY metaKey newValue offsetX offsetY originalTarget pageX pageY prevValue relatedNode relatedTarget screenX screenY shiftKey srcElement target toElement view wheelDelta which".split(" "),
fix:function(f){if(f[ya])return f;var k=f;f=i.Event(k);for(var q=this.props.length,w;q;){w=this.props[--q];f[w]=k[w]}if(!f.target)f.target=f.srcElement||K;if(f.target.nodeType===3)f.target=f.target.parentNode;if(!f.relatedTarget&&f.fromElement)f.relatedTarget=f.fromElement===f.target?f.toElement:f.fromElement;if(f.pageX==null&&f.clientX!=null){k=K.documentElement;q=K.body;f.pageX=f.clientX+(k&&k.scrollLeft||q&&q.scrollLeft||0)-(k&&k.clientLeft||q&&q.clientLeft||0);f.pageY=f.clientY+(k&&k.scrollTop||
q&&q.scrollTop||0)-(k&&k.clientTop||q&&q.clientTop||0)}if(!f.which&&(f.charCode||f.charCode===0?f.charCode:f.keyCode))f.which=f.charCode||f.keyCode;if(!f.metaKey&&f.ctrlKey)f.metaKey=f.ctrlKey;if(!f.which&&f.button!==b)f.which=f.button&1?1:f.button&2?3:f.button&4?2:0;return f},guid:1E8,proxy:i.proxy,special:{ready:{setup:i.bindReady,teardown:i.noop},live:{add:function(f){i.event.add(this,f.origType,i.extend({},f,{handler:C}))},remove:function(f){var k=true,q=f.origType.replace(Ra,"");i.each(i.data(this,
"events").live||[],function(){if(q===this.origType.replace(Ra,""))return k=false});k&&i.event.remove(this,f.origType,C)}},beforeunload:{setup:function(f,k,q){if(this.setInterval)this.onbeforeunload=q;return false},teardown:function(f,k){if(this.onbeforeunload===k)this.onbeforeunload=null}}}};var ob=K.removeEventListener?function(f,k,q){f.removeEventListener(k,q,false)}:function(f,k,q){f.detachEvent("on"+k,q)};i.Event=function(f){if(!this.preventDefault)return new i.Event(f);if(f&&f.type){this.originalEvent=
f;this.type=f.type}else this.type=f;this.timeStamp=m();this[ya]=true};i.Event.prototype={preventDefault:function(){this.isDefaultPrevented=F;var f=this.originalEvent;if(f){f.preventDefault&&f.preventDefault();f.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=F;var f=this.originalEvent;if(f){f.stopPropagation&&f.stopPropagation();f.cancelBubble=true}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=F;this.stopPropagation()},isDefaultPrevented:r,isPropagationStopped:r,
isImmediatePropagationStopped:r};var pb=function(f){var k=f.relatedTarget;try{for(;k&&k!==this;)k=k.parentNode;if(k!==this){f.type=f.data;i.event.handle.apply(this,arguments)}}catch(q){}},qb=function(f){f.type=f.data;i.event.handle.apply(this,arguments)};i.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(f,k){i.event.special[f]={setup:function(q){i.event.add(this,k,q&&q.selector?qb:pb,f)},teardown:function(q){i.event.remove(this,k,q&&q.selector?qb:pb)}}});if(!i.support.submitBubbles)i.event.special.submit=
{setup:function(){if(this.nodeName.toLowerCase()!=="form"){i.event.add(this,"click.specialSubmit",function(f){var k=f.target,q=k.type;if((q==="submit"||q==="image")&&i(k).closest("form").length)return G("submit",this,arguments)});i.event.add(this,"keypress.specialSubmit",function(f){var k=f.target,q=k.type;if((q==="text"||q==="password")&&i(k).closest("form").length&&f.keyCode===13)return G("submit",this,arguments)})}else return false},teardown:function(){i.event.remove(this,".specialSubmit")}};if(!i.support.changeBubbles){var Ea=
/textarea|input|select/i,Na,fb=function(f){var k=f.type,q=f.value;if(k==="radio"||k==="checkbox")q=f.checked;else if(k==="select-multiple")q=f.selectedIndex>-1?i.map(f.options,function(w){return w.selected}).join("-"):"";else if(f.nodeName.toLowerCase()==="select")q=f.selectedIndex;return q},gb=function(f,k){var q=f.target,w,x;if(!(!Ea.test(q.nodeName)||q.readOnly)){w=i.data(q,"_change_data");x=fb(q);if(f.type!=="focusout"||q.type!=="radio")i.data(q,"_change_data",x);if(!(w===b||x===w))if(w!=null||
x){f.type="change";return i.event.trigger(f,k,q)}}};i.event.special.change={filters:{focusout:gb,click:function(f){var k=f.target,q=k.type;if(q==="radio"||q==="checkbox"||k.nodeName.toLowerCase()==="select")return gb.call(this,f)},keydown:function(f){var k=f.target,q=k.type;if(f.keyCode===13&&k.nodeName.toLowerCase()!=="textarea"||f.keyCode===32&&(q==="checkbox"||q==="radio")||q==="select-multiple")return gb.call(this,f)},beforeactivate:function(f){f=f.target;i.data(f,"_change_data",fb(f))}},setup:function(){if(this.type===
"file")return false;for(var f in Na)i.event.add(this,f+".specialChange",Na[f]);return Ea.test(this.nodeName)},teardown:function(){i.event.remove(this,".specialChange");return Ea.test(this.nodeName)}};Na=i.event.special.change.filters}K.addEventListener&&i.each({focus:"focusin",blur:"focusout"},function(f,k){function q(w){w=i.event.fix(w);w.type=k;return i.event.handle.call(this,w)}i.event.special[k]={setup:function(){this.addEventListener(f,q,true)},teardown:function(){this.removeEventListener(f,
q,true)}}});i.each(["bind","one"],function(f,k){i.fn[k]=function(q,w,x){if(typeof q==="object"){for(var I in q)this[k](I,w,q[I],x);return this}if(i.isFunction(w)){x=w;w=b}var M=k==="one"?i.proxy(x,function(S){i(this).unbind(S,M);return x.apply(this,arguments)}):x;if(q==="unload"&&k!=="one")this.one(q,w,x);else{I=0;for(var W=this.length;I<W;I++)i.event.add(this[I],q,M,w)}return this}});i.fn.extend({unbind:function(f,k){if(typeof f==="object"&&!f.preventDefault)for(var q in f)this.unbind(q,f[q]);else{q=
0;for(var w=this.length;q<w;q++)i.event.remove(this[q],f,k)}return this},delegate:function(f,k,q,w){return this.live(k,q,w,f)},undelegate:function(f,k,q){return arguments.length===0?this.unbind("live"):this.die(k,null,q,f)},trigger:function(f,k){return this.each(function(){i.event.trigger(f,k,this)})},triggerHandler:function(f,k){if(this[0]){f=i.Event(f);f.preventDefault();f.stopPropagation();i.event.trigger(f,k,this[0]);return f.result}},toggle:function(f){for(var k=arguments,q=1;q<k.length;)i.proxy(f,
k[q++]);return this.click(i.proxy(f,function(w){var x=(i.data(this,"lastToggle"+f.guid)||0)%q;i.data(this,"lastToggle"+f.guid,x+1);w.preventDefault();return k[x].apply(this,arguments)||false}))},hover:function(f,k){return this.mouseenter(f).mouseleave(k||f)}});var rb={focus:"focusin",blur:"focusout",mouseenter:"mouseover",mouseleave:"mouseout"};i.each(["live","die"],function(f,k){i.fn[k]=function(q,w,x,I){var M,W=0,S,Y,ca=I||this.selector,pa=I?this:i(this.context);if(i.isFunction(w)){x=w;w=b}for(q=
(q||"").split(" ");(M=q[W++])!=null;){I=Ra.exec(M);S="";if(I){S=I[0];M=M.replace(Ra,"")}if(M==="hover")q.push("mouseenter"+S,"mouseleave"+S);else{Y=M;if(M==="focus"||M==="blur"){q.push(rb[M]+S);M+=S}else M=(rb[M]||M)+S;k==="live"?pa.each(function(){i.event.add(this,v(M,ca),{data:w,selector:ca,handler:x,origType:M,origHandler:x,preType:Y})}):pa.unbind(v(M,ca),x)}}return this}});i.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),
function(f,k){i.fn[k]=function(q){return q?this.bind(k,q):this.trigger(k)};if(i.attrFn)i.attrFn[k]=true});a.attachEvent&&!a.addEventListener&&a.attachEvent("onunload",function(){for(var f in i.cache)if(i.cache[f].handle)try{i.event.remove(i.cache[f].handle.elem)}catch(k){}});(function(){function f(A){for(var H="",d,h=0;A[h];h++){d=A[h];if(d.nodeType===3||d.nodeType===4)H+=d.nodeValue;else if(d.nodeType!==8)H+=f(d.childNodes)}return H}function k(A,H,d,h,l,o){l=0;for(var s=h.length;l<s;l++){var p=h[l];
if(p){p=p[A];for(var z=false;p;){if(p.sizcache===d){z=h[p.sizset];break}if(p.nodeType===1&&!o){p.sizcache=d;p.sizset=l}if(p.nodeName.toLowerCase()===H){z=p;break}p=p[A]}h[l]=z}}}function q(A,H,d,h,l,o){l=0;for(var s=h.length;l<s;l++){var p=h[l];if(p){p=p[A];for(var z=false;p;){if(p.sizcache===d){z=h[p.sizset];break}if(p.nodeType===1){if(!o){p.sizcache=d;p.sizset=l}if(typeof H!=="string"){if(p===H){z=true;break}}else if(S.filter(H,[p]).length>0){z=p;break}}p=p[A]}h[l]=z}}}var w=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
x=0,I=Object.prototype.toString,M=false,W=true;[0,0].sort(function(){W=false;return 0});var S=function(A,H,d,h){d=d||[];var l=H=H||K;if(H.nodeType!==1&&H.nodeType!==9)return[];if(!A||typeof A!=="string")return d;for(var o=[],s,p,z,E,B=true,D=qa(H),L=A;(w.exec(""),s=w.exec(L))!==null;){L=s[3];o.push(s[1]);if(s[2]){E=s[3];break}}if(o.length>1&&ca.exec(A))if(o.length===2&&Y.relative[o[0]])p=Qa(o[0]+o[1],H);else for(p=Y.relative[o[0]]?[H]:S(o.shift(),H);o.length;){A=o.shift();if(Y.relative[A])A+=o.shift();
p=Qa(A,p)}else{if(!h&&o.length>1&&H.nodeType===9&&!D&&Y.match.ID.test(o[0])&&!Y.match.ID.test(o[o.length-1])){s=S.find(o.shift(),H,D);H=s.expr?S.filter(s.expr,s.set)[0]:s.set[0]}if(H){s=h?{expr:o.pop(),set:ua(h)}:S.find(o.pop(),o.length===1&&(o[0]==="~"||o[0]==="+")&&H.parentNode?H.parentNode:H,D);p=s.expr?S.filter(s.expr,s.set):s.set;if(o.length>0)z=ua(p);else B=false;for(;o.length;){var Q=o.pop();s=Q;if(Y.relative[Q])s=o.pop();else Q="";if(s==null)s=H;Y.relative[Q](z,s,D)}}else z=[]}z||(z=p);z||
S.error(Q||A);if(I.call(z)==="[object Array]")if(B)if(H&&H.nodeType===1)for(A=0;z[A]!=null;A++){if(z[A]&&(z[A]===true||z[A].nodeType===1&&Ga(H,z[A])))d.push(p[A])}else for(A=0;z[A]!=null;A++)z[A]&&z[A].nodeType===1&&d.push(p[A]);else d.push.apply(d,z);else ua(z,d);if(E){S(E,l,d,h);S.uniqueSort(d)}return d};S.uniqueSort=function(A){if(xa){M=W;A.sort(xa);if(M)for(var H=1;H<A.length;H++)A[H]===A[H-1]&&A.splice(H--,1)}return A};S.matches=function(A,H){return S(A,null,null,H)};S.find=function(A,H,d){var h,
l;if(!A)return[];for(var o=0,s=Y.order.length;o<s;o++){var p=Y.order[o];if(l=Y.leftMatch[p].exec(A)){var z=l[1];l.splice(1,1);if(z.substr(z.length-1)!=="\\"){l[1]=(l[1]||"").replace(/\\/g,"");h=Y.find[p](l,H,d);if(h!=null){A=A.replace(Y.match[p],"");break}}}}h||(h=H.getElementsByTagName("*"));return{set:h,expr:A}};S.filter=function(A,H,d,h){for(var l=A,o=[],s=H,p,z,E=H&&H[0]&&qa(H[0]);A&&H.length;){for(var B in Y.filter)if((p=Y.leftMatch[B].exec(A))!=null&&p[2]){var D=Y.filter[B],L,Q;Q=p[1];z=false;
p.splice(1,1);if(Q.substr(Q.length-1)!=="\\"){if(s===o)o=[];if(Y.preFilter[B])if(p=Y.preFilter[B](p,s,d,o,h,E)){if(p===true)continue}else z=L=true;if(p)for(var U=0;(Q=s[U])!=null;U++)if(Q){L=D(Q,p,U,s);var ga=h^!!L;if(d&&L!=null)if(ga)z=true;else s[U]=false;else if(ga){o.push(Q);z=true}}if(L!==b){d||(s=o);A=A.replace(Y.match[B],"");if(!z)return[];break}}}if(A===l)if(z==null)S.error(A);else break;l=A}return s};S.error=function(A){throw"Syntax error, unrecognized expression: "+A;};var Y=S.selectors=
{order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},
attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(A){return A.getAttribute("href")}},relative:{"+":function(A,H){var d=typeof H==="string",h=d&&!/\W/.test(H);d=d&&!h;if(h)H=H.toLowerCase();h=0;for(var l=A.length,o;h<l;h++)if(o=A[h]){for(;(o=o.previousSibling)&&o.nodeType!==1;);A[h]=d||o&&o.nodeName.toLowerCase()===H?o||false:o===H}d&&S.filter(H,A,true)},">":function(A,H){var d=typeof H==="string";if(d&&!/\W/.test(H)){H=H.toLowerCase();for(var h=0,l=A.length;h<l;h++){var o=A[h];
if(o){d=o.parentNode;A[h]=d.nodeName.toLowerCase()===H?d:false}}}else{h=0;for(l=A.length;h<l;h++)if(o=A[h])A[h]=d?o.parentNode:o.parentNode===H;d&&S.filter(H,A,true)}},"":function(A,H,d){var h=x++,l=q;if(typeof H==="string"&&!/\W/.test(H)){var o=H=H.toLowerCase();l=k}l("parentNode",H,h,A,o,d)},"~":function(A,H,d){var h=x++,l=q;if(typeof H==="string"&&!/\W/.test(H)){var o=H=H.toLowerCase();l=k}l("previousSibling",H,h,A,o,d)}},find:{ID:function(A,H,d){if(typeof H.getElementById!=="undefined"&&!d)return(A=
H.getElementById(A[1]))?[A]:[]},NAME:function(A,H){if(typeof H.getElementsByName!=="undefined"){var d=[];H=H.getElementsByName(A[1]);for(var h=0,l=H.length;h<l;h++)H[h].getAttribute("name")===A[1]&&d.push(H[h]);return d.length===0?null:d}},TAG:function(A,H){return H.getElementsByTagName(A[1])}},preFilter:{CLASS:function(A,H,d,h,l,o){A=" "+A[1].replace(/\\/g,"")+" ";if(o)return A;o=0;for(var s;(s=H[o])!=null;o++)if(s)if(l^(s.className&&(" "+s.className+" ").replace(/[\t\n]/g," ").indexOf(A)>=0))d||
h.push(s);else if(d)H[o]=false;return false},ID:function(A){return A[1].replace(/\\/g,"")},TAG:function(A){return A[1].toLowerCase()},CHILD:function(A){if(A[1]==="nth"){var H=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(A[2]==="even"&&"2n"||A[2]==="odd"&&"2n+1"||!/\D/.test(A[2])&&"0n+"+A[2]||A[2]);A[2]=H[1]+(H[2]||1)-0;A[3]=H[3]-0}A[0]=x++;return A},ATTR:function(A,H,d,h,l,o){H=A[1].replace(/\\/g,"");if(!o&&Y.attrMap[H])A[1]=Y.attrMap[H];if(A[2]==="~=")A[4]=" "+A[4]+" ";return A},PSEUDO:function(A,H,d,h,l){if(A[1]===
"not")if((w.exec(A[3])||"").length>1||/^\w/.test(A[3]))A[3]=S(A[3],null,null,H);else{A=S.filter(A[3],H,d,true^l);d||h.push.apply(h,A);return false}else if(Y.match.POS.test(A[0])||Y.match.CHILD.test(A[0]))return true;return A},POS:function(A){A.unshift(true);return A}},filters:{enabled:function(A){return A.disabled===false&&A.type!=="hidden"},disabled:function(A){return A.disabled===true},checked:function(A){return A.checked===true},selected:function(A){return A.selected===true},parent:function(A){return!!A.firstChild},
empty:function(A){return!A.firstChild},has:function(A,H,d){return!!S(d[3],A).length},header:function(A){return/h\d/i.test(A.nodeName)},text:function(A){return"text"===A.type},radio:function(A){return"radio"===A.type},checkbox:function(A){return"checkbox"===A.type},file:function(A){return"file"===A.type},password:function(A){return"password"===A.type},submit:function(A){return"submit"===A.type},image:function(A){return"image"===A.type},reset:function(A){return"reset"===A.type},button:function(A){return"button"===
A.type||A.nodeName.toLowerCase()==="button"},input:function(A){return/input|select|textarea|button/i.test(A.nodeName)}},setFilters:{first:function(A,H){return H===0},last:function(A,H,d,h){return H===h.length-1},even:function(A,H){return H%2===0},odd:function(A,H){return H%2===1},lt:function(A,H,d){return H<d[3]-0},gt:function(A,H,d){return H>d[3]-0},nth:function(A,H,d){return d[3]-0===H},eq:function(A,H,d){return d[3]-0===H}},filter:{PSEUDO:function(A,H,d,h){var l=H[1],o=Y.filters[l];if(o)return o(A,
d,H,h);else if(l==="contains")return(A.textContent||A.innerText||f([A])||"").indexOf(H[3])>=0;else if(l==="not"){H=H[3];d=0;for(h=H.length;d<h;d++)if(H[d]===A)return false;return true}else S.error("Syntax error, unrecognized expression: "+l)},CHILD:function(A,H){var d=H[1],h=A;switch(d){case "only":case "first":for(;h=h.previousSibling;)if(h.nodeType===1)return false;if(d==="first")return true;h=A;case "last":for(;h=h.nextSibling;)if(h.nodeType===1)return false;return true;case "nth":d=H[2];var l=
H[3];if(d===1&&l===0)return true;H=H[0];var o=A.parentNode;if(o&&(o.sizcache!==H||!A.nodeIndex)){var s=0;for(h=o.firstChild;h;h=h.nextSibling)if(h.nodeType===1)h.nodeIndex=++s;o.sizcache=H}A=A.nodeIndex-l;return d===0?A===0:A%d===0&&A/d>=0}},ID:function(A,H){return A.nodeType===1&&A.getAttribute("id")===H},TAG:function(A,H){return H==="*"&&A.nodeType===1||A.nodeName.toLowerCase()===H},CLASS:function(A,H){return(" "+(A.className||A.getAttribute("class"))+" ").indexOf(H)>-1},ATTR:function(A,H){var d=
H[1];A=Y.attrHandle[d]?Y.attrHandle[d](A):A[d]!=null?A[d]:A.getAttribute(d);d=A+"";var h=H[2];H=H[4];return A==null?h==="!=":h==="="?d===H:h==="*="?d.indexOf(H)>=0:h==="~="?(" "+d+" ").indexOf(H)>=0:!H?d&&A!==false:h==="!="?d!==H:h==="^="?d.indexOf(H)===0:h==="$="?d.substr(d.length-H.length)===H:h==="|="?d===H||d.substr(0,H.length+1)===H+"-":false},POS:function(A,H,d,h){var l=Y.setFilters[H[2]];if(l)return l(A,d,H,h)}}},ca=Y.match.POS;for(var pa in Y.match){Y.match[pa]=RegExp(Y.match[pa].source+/(?![^\[]*\])(?![^\(]*\))/.source);
Y.leftMatch[pa]=RegExp(/(^(?:.|\r|\n)*?)/.source+Y.match[pa].source.replace(/\\(\d+)/g,function(A,H){return"\\"+(H-0+1)}))}var ua=function(A,H){A=Array.prototype.slice.call(A,0);if(H){H.push.apply(H,A);return H}return A};try{Array.prototype.slice.call(K.documentElement.childNodes,0)}catch(sa){ua=function(A,H){H=H||[];if(I.call(A)==="[object Array]")Array.prototype.push.apply(H,A);else if(typeof A.length==="number")for(var d=0,h=A.length;d<h;d++)H.push(A[d]);else for(d=0;A[d];d++)H.push(A[d]);return H}}var xa;
if(K.documentElement.compareDocumentPosition)xa=function(A,H){if(!A.compareDocumentPosition||!H.compareDocumentPosition){if(A==H)M=true;return A.compareDocumentPosition?-1:1}A=A.compareDocumentPosition(H)&4?-1:A===H?0:1;if(A===0)M=true;return A};else if("sourceIndex"in K.documentElement)xa=function(A,H){if(!A.sourceIndex||!H.sourceIndex){if(A==H)M=true;return A.sourceIndex?-1:1}A=A.sourceIndex-H.sourceIndex;if(A===0)M=true;return A};else if(K.createRange)xa=function(A,H){if(!A.ownerDocument||!H.ownerDocument){if(A==
H)M=true;return A.ownerDocument?-1:1}var d=A.ownerDocument.createRange(),h=H.ownerDocument.createRange();d.setStart(A,0);d.setEnd(A,0);h.setStart(H,0);h.setEnd(H,0);A=d.compareBoundaryPoints(Range.START_TO_END,h);if(A===0)M=true;return A};(function(){var A=K.createElement("div"),H="script"+(new Date).getTime();A.innerHTML="<a name='"+H+"'/>";var d=K.documentElement;d.insertBefore(A,d.firstChild);if(K.getElementById(H)){Y.find.ID=function(h,l,o){if(typeof l.getElementById!=="undefined"&&!o)return(l=
l.getElementById(h[1]))?l.id===h[1]||typeof l.getAttributeNode!=="undefined"&&l.getAttributeNode("id").nodeValue===h[1]?[l]:b:[]};Y.filter.ID=function(h,l){var o=typeof h.getAttributeNode!=="undefined"&&h.getAttributeNode("id");return h.nodeType===1&&o&&o.nodeValue===l}}d.removeChild(A);d=A=null})();(function(){var A=K.createElement("div");A.appendChild(K.createComment(""));if(A.getElementsByTagName("*").length>0)Y.find.TAG=function(H,d){d=d.getElementsByTagName(H[1]);if(H[1]==="*"){H=[];for(var h=
0;d[h];h++)d[h].nodeType===1&&H.push(d[h]);d=H}return d};A.innerHTML="<a href='#'></a>";if(A.firstChild&&typeof A.firstChild.getAttribute!=="undefined"&&A.firstChild.getAttribute("href")!=="#")Y.attrHandle.href=function(H){return H.getAttribute("href",2)};A=null})();K.querySelectorAll&&function(){var A=S,H=K.createElement("div");H.innerHTML="<p class='TEST'></p>";if(!(H.querySelectorAll&&H.querySelectorAll(".TEST").length===0)){S=function(h,l,o,s){l=l||K;if(!s&&l.nodeType===9&&!qa(l))try{return ua(l.querySelectorAll(h),
o)}catch(p){}return A(h,l,o,s)};for(var d in A)S[d]=A[d];H=null}}();(function(){var A=K.createElement("div");A.innerHTML="<div class='test e'></div><div class='test'></div>";if(!(!A.getElementsByClassName||A.getElementsByClassName("e").length===0)){A.lastChild.className="e";if(A.getElementsByClassName("e").length!==1){Y.order.splice(1,0,"CLASS");Y.find.CLASS=function(H,d,h){if(typeof d.getElementsByClassName!=="undefined"&&!h)return d.getElementsByClassName(H[1])};A=null}}})();var Ga=K.compareDocumentPosition?
function(A,H){return!!(A.compareDocumentPosition(H)&16)}:function(A,H){return A!==H&&(A.contains?A.contains(H):true)},qa=function(A){return(A=(A?A.ownerDocument||A:0).documentElement)?A.nodeName!=="HTML":false},Qa=function(A,H){var d=[],h="",l;for(H=H.nodeType?[H]:H;l=Y.match.PSEUDO.exec(A);){h+=l[0];A=A.replace(Y.match.PSEUDO,"")}A=Y.relative[A]?A+"*":A;l=0;for(var o=H.length;l<o;l++)S(A,H[l],d);return S.filter(h,d)};i.find=S;i.expr=S.selectors;i.expr[":"]=i.expr.filters;i.unique=S.uniqueSort;i.text=
f;i.isXMLDoc=qa;i.contains=Ga})();var $a=/Until$/,Za=/^(?:parents|prevUntil|prevAll)/,hb=/,/;ra=Array.prototype.slice;var Oa=function(f,k,q){if(i.isFunction(k))return i.grep(f,function(x,I){return!!k.call(x,I,x)===q});else if(k.nodeType)return i.grep(f,function(x){return x===k===q});else if(typeof k==="string"){var w=i.grep(f,function(x){return x.nodeType===1});if(P.test(k))return i.filter(k,w,!q);else k=i.filter(k,w)}return i.grep(f,function(x){return i.inArray(x,k)>=0===q})};i.fn.extend({find:function(f){for(var k=
this.pushStack("","find",f),q=0,w=0,x=this.length;w<x;w++){q=k.length;i.find(f,this[w],k);if(w>0)for(var I=q;I<k.length;I++)for(var M=0;M<q;M++)if(k[M]===k[I]){k.splice(I--,1);break}}return k},has:function(f){var k=i(f);return this.filter(function(){for(var q=0,w=k.length;q<w;q++)if(i.contains(this,k[q]))return true})},not:function(f){return this.pushStack(Oa(this,f,false),"not",f)},filter:function(f){return this.pushStack(Oa(this,f,true),"filter",f)},is:function(f){return!!f&&i.filter(f,this).length>
0},closest:function(f,k){if(i.isArray(f)){var q=[],w=this[0],x,I={},M;if(w&&f.length){x=0;for(var W=f.length;x<W;x++){M=f[x];I[M]||(I[M]=i.expr.match.POS.test(M)?i(M,k||this.context):M)}for(;w&&w.ownerDocument&&w!==k;){for(M in I){x=I[M];if(x.jquery?x.index(w)>-1:i(w).is(x)){q.push({selector:M,elem:w});delete I[M]}}w=w.parentNode}}return q}var S=i.expr.match.POS.test(f)?i(f,k||this.context):null;return this.map(function(Y,ca){for(;ca&&ca.ownerDocument&&ca!==k;){if(S?S.index(ca)>-1:i(ca).is(f))return ca;
ca=ca.parentNode}return null})},index:function(f){if(!f||typeof f==="string")return i.inArray(this[0],f?i(f):this.parent().children());return i.inArray(f.jquery?f[0]:f,this)},add:function(f,k){f=typeof f==="string"?i(f,k||this.context):i.makeArray(f);k=i.merge(this.get(),f);return this.pushStack(!f[0]||!f[0].parentNode||f[0].parentNode.nodeType===11||!k[0]||!k[0].parentNode||k[0].parentNode.nodeType===11?k:i.unique(k))},andSelf:function(){return this.add(this.prevObject)}});i.each({parent:function(f){return(f=
f.parentNode)&&f.nodeType!==11?f:null},parents:function(f){return i.dir(f,"parentNode")},parentsUntil:function(f,k,q){return i.dir(f,"parentNode",q)},next:function(f){return i.nth(f,2,"nextSibling")},prev:function(f){return i.nth(f,2,"previousSibling")},nextAll:function(f){return i.dir(f,"nextSibling")},prevAll:function(f){return i.dir(f,"previousSibling")},nextUntil:function(f,k,q){return i.dir(f,"nextSibling",q)},prevUntil:function(f,k,q){return i.dir(f,"previousSibling",q)},siblings:function(f){return i.sibling(f.parentNode.firstChild,
f)},children:function(f){return i.sibling(f.firstChild)},contents:function(f){return i.nodeName(f,"iframe")?f.contentDocument||f.contentWindow.document:i.makeArray(f.childNodes)}},function(f,k){i.fn[f]=function(q,w){var x=i.map(this,k,q);$a.test(f)||(w=q);if(w&&typeof w==="string")x=i.filter(w,x);x=this.length>1?i.unique(x):x;if((this.length>1||hb.test(w))&&Za.test(f))x=x.reverse();return this.pushStack(x,f,ra.call(arguments).join(","))}});i.extend({filter:function(f,k,q){if(q)f=":not("+f+")";return i.find.matches(f,
k)},dir:function(f,k,q){var w=[];for(f=f[k];f&&f.nodeType!==9&&(q===b||f.nodeType!==1||!i(f).is(q));){f.nodeType===1&&w.push(f);f=f[k]}return w},nth:function(f,k,q){k=k||1;for(var w=0;f;f=f[q])if(f.nodeType===1&&++w===k)break;return f},sibling:function(f,k){for(var q=[];f;f=f.nextSibling)f.nodeType===1&&f!==k&&q.push(f);return q}});var ib=/ jQuery\d+="(?:\d+|null)"/g,Ta=/^\s+/,Ua=/(<([\w:]+)[^>]*?)\/>/g,Eb=/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i,Sa=/<([\w:]+)/,tb=/<tbody/i,ub=/<|&#?\w+;/,
ab=/<script|<object|<embed|<option|<style/i,La=/checked\s*(?:[^=]|=\s*.checked.)/i,jb=function(f,k,q){return Eb.test(q)?f:k+"></"+q+">"},Fa={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]};Fa.optgroup=Fa.option;Fa.tbody=
Fa.tfoot=Fa.colgroup=Fa.caption=Fa.thead;Fa.th=Fa.td;if(!i.support.htmlSerialize)Fa._default=[1,"div<div>","</div>"];i.fn.extend({text:function(f){if(i.isFunction(f))return this.each(function(k){var q=i(this);q.text(f.call(this,k,q.text()))});if(typeof f!=="object"&&f!==b)return this.empty().append((this[0]&&this[0].ownerDocument||K).createTextNode(f));return i.text(this)},wrapAll:function(f){if(i.isFunction(f))return this.each(function(q){i(this).wrapAll(f.call(this,q))});if(this[0]){var k=i(f,this[0].ownerDocument).eq(0).clone(true);
this[0].parentNode&&k.insertBefore(this[0]);k.map(function(){for(var q=this;q.firstChild&&q.firstChild.nodeType===1;)q=q.firstChild;return q}).append(this)}return this},wrapInner:function(f){if(i.isFunction(f))return this.each(function(k){i(this).wrapInner(f.call(this,k))});return this.each(function(){var k=i(this),q=k.contents();q.length?q.wrapAll(f):k.append(f)})},wrap:function(f){return this.each(function(){i(this).wrapAll(f)})},unwrap:function(){return this.parent().each(function(){i.nodeName(this,
"body")||i(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,true,function(f){this.nodeType===1&&this.appendChild(f)})},prepend:function(){return this.domManip(arguments,true,function(f){this.nodeType===1&&this.insertBefore(f,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(k){this.parentNode.insertBefore(k,this)});else if(arguments.length){var f=i(arguments[0]);f.push.apply(f,this.toArray());
return this.pushStack(f,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,false,function(k){this.parentNode.insertBefore(k,this.nextSibling)});else if(arguments.length){var f=this.pushStack(this,"after",arguments);f.push.apply(f,i(arguments[0]).toArray());return f}},remove:function(f,k){for(var q=0,w;(w=this[q])!=null;q++)if(!f||i.filter(f,[w]).length){if(!k&&w.nodeType===1){i.cleanData(w.getElementsByTagName("*"));i.cleanData([w])}w.parentNode&&
w.parentNode.removeChild(w)}return this},empty:function(){for(var f=0,k;(k=this[f])!=null;f++)for(k.nodeType===1&&i.cleanData(k.getElementsByTagName("*"));k.firstChild;)k.removeChild(k.firstChild);return this},clone:function(f){var k=this.map(function(){if(!i.support.noCloneEvent&&!i.isXMLDoc(this)){var q=this.outerHTML,w=this.ownerDocument;if(!q){q=w.createElement("div");q.appendChild(this.cloneNode(true));q=q.innerHTML}return i.clean([q.replace(ib,"").replace(/=([^="'>\s]+\/)>/g,'="$1">').replace(Ta,
"")],w)[0]}else return this.cloneNode(true)});if(f===true){u(this,k);u(this.find("*"),k.find("*"))}return k},html:function(f){if(f===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(ib,""):null;else if(typeof f==="string"&&!ab.test(f)&&(i.support.leadingWhitespace||!Ta.test(f))&&!Fa[(Sa.exec(f)||["",""])[1].toLowerCase()]){f=f.replace(Ua,jb);try{for(var k=0,q=this.length;k<q;k++)if(this[k].nodeType===1){i.cleanData(this[k].getElementsByTagName("*"));this[k].innerHTML=f}}catch(w){this.empty().append(f)}}else i.isFunction(f)?
this.each(function(x){var I=i(this),M=I.html();I.empty().append(function(){return f.call(this,x,M)})}):this.empty().append(f);return this},replaceWith:function(f){if(this[0]&&this[0].parentNode){if(i.isFunction(f))return this.each(function(k){var q=i(this),w=q.html();q.replaceWith(f.call(this,k,w))});if(typeof f!=="string")f=i(f).detach();return this.each(function(){var k=this.nextSibling,q=this.parentNode;i(this).remove();k?i(k).before(f):i(q).append(f)})}else return this.pushStack(i(i.isFunction(f)?
f():f),"replaceWith",f)},detach:function(f){return this.remove(f,true)},domManip:function(f,k,q){var w,x,I=f[0],M=[],W;if(!i.support.checkClone&&arguments.length===3&&typeof I==="string"&&La.test(I))return this.each(function(){i(this).domManip(f,k,q,true)});if(i.isFunction(I))return this.each(function(Y){var ca=i(this);f[0]=I.call(this,Y,k?ca.html():b);ca.domManip(f,k,q)});if(this[0]){w=I&&I.parentNode;w=i.support.parentNode&&w&&w.nodeType===11&&w.childNodes.length===this.length?{fragment:w}:n(f,
this,M);W=w.fragment;if(x=W.childNodes.length===1?W=W.firstChild:W.firstChild){k=k&&i.nodeName(x,"tr");x=0;for(var S=this.length;x<S;x++)q.call(k?i.nodeName(this[x],"table")?this[x].getElementsByTagName("tbody")[0]||this[x].appendChild(this[x].ownerDocument.createElement("tbody")):this[x]:this[x],x>0||w.cacheable||this.length>1?W.cloneNode(true):W)}M.length&&i.each(M,e)}return this}});i.fragments={};i.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(f,k){i.fn[f]=function(q){var w=[];q=i(q);var x=this.length===1&&this[0].parentNode;if(x&&x.nodeType===11&&x.childNodes.length===1&&q.length===1){q[k](this[0]);return this}else{x=0;for(var I=q.length;x<I;x++){var M=(x>0?this.clone(true):this).get();i.fn[k].apply(i(q[x]),M);w=w.concat(M)}return this.pushStack(w,f,q.selector)}}});i.extend({clean:function(f,k,q,w){k=k||K;if(typeof k.createElement==="undefined")k=k.ownerDocument||k[0]&&k[0].ownerDocument||K;for(var x=[],I=0,M;(M=f[I])!=null;I++){if(typeof M===
"number")M+="";if(M){if(typeof M==="string"&&!ub.test(M))M=k.createTextNode(M);else if(typeof M==="string"){M=M.replace(Ua,jb);var W=(Sa.exec(M)||["",""])[1].toLowerCase(),S=Fa[W]||Fa._default,Y=S[0],ca=k.createElement("div");for(ca.innerHTML=S[1]+M+S[2];Y--;)ca=ca.lastChild;if(!i.support.tbody){Y=tb.test(M);W=W==="table"&&!Y?ca.firstChild&&ca.firstChild.childNodes:S[1]==="<table>"&&!Y?ca.childNodes:[];for(S=W.length-1;S>=0;--S)i.nodeName(W[S],"tbody")&&!W[S].childNodes.length&&W[S].parentNode.removeChild(W[S])}!i.support.leadingWhitespace&&
Ta.test(M)&&ca.insertBefore(k.createTextNode(Ta.exec(M)[0]),ca.firstChild);M=ca.childNodes}if(M.nodeType)x.push(M);else x=i.merge(x,M)}}if(q)for(I=0;x[I];I++)if(w&&i.nodeName(x[I],"script")&&(!x[I].type||x[I].type.toLowerCase()==="text/javascript"))w.push(x[I].parentNode?x[I].parentNode.removeChild(x[I]):x[I]);else{x[I].nodeType===1&&x.splice.apply(x,[I+1,0].concat(i.makeArray(x[I].getElementsByTagName("script"))));q.appendChild(x[I])}return x},cleanData:function(f){for(var k,q,w=i.cache,x=i.event.special,
I=i.support.deleteExpando,M=0,W;(W=f[M])!=null;M++)if(q=W[i.expando]){k=w[q];if(k.events)for(var S in k.events)x[S]?i.event.remove(W,S):ob(W,S,k.handle);if(I)delete W[i.expando];else W.removeAttribute&&W.removeAttribute(i.expando);delete w[q]}}});var vb=/z-?index|font-?weight|opacity|zoom|line-?height/i,kb=/alpha\([^)]*\)/,lb=/opacity=([^)]*)/,bb=/float/i,la=/-([a-z])/ig,wb=/([A-Z])/g,Va=/^-?\d+(?:px)?$/i,mb=/^-?\d/,Ia={position:"absolute",visibility:"hidden",display:"block"},Fb=["Left","Right"],
wa=["Top","Bottom"],ta=K.defaultView&&K.defaultView.getComputedStyle,nb=i.support.cssFloat?"cssFloat":"styleFloat",cb=function(f,k){return k.toUpperCase()};i.fn.css=function(f,k){return j(this,f,k,true,function(q,w,x){if(x===b)return i.curCSS(q,w);if(typeof x==="number"&&!vb.test(w))x+="px";i.style(q,w,x)})};i.extend({style:function(f,k,q){if(!f||f.nodeType===3||f.nodeType===8)return b;if((k==="width"||k==="height")&&parseFloat(q)<0)q=b;var w=f.style||f,x=q!==b;if(!i.support.opacity&&k==="opacity"){if(x){w.zoom=
1;k=parseInt(q,10)+""==="NaN"?"":"alpha(opacity="+q*100+")";f=w.filter||i.curCSS(f,"filter")||"";w.filter=kb.test(f)?f.replace(kb,k):k}return w.filter&&w.filter.indexOf("opacity=")>=0?parseFloat(lb.exec(w.filter)[1])/100+"":""}if(bb.test(k))k=nb;k=k.replace(la,cb);if(x)w[k]=q;return w[k]},css:function(f,k,q,w){if(k==="width"||k==="height"){var x,I=k==="width"?Fb:wa;q=function(){x=k==="width"?f.offsetWidth:f.offsetHeight;w!=="border"&&i.each(I,function(){w||(x-=parseFloat(i.curCSS(f,"padding"+this,
true))||0);if(w==="margin")x+=parseFloat(i.curCSS(f,"margin"+this,true))||0;else x-=parseFloat(i.curCSS(f,"border"+this+"Width",true))||0})};f.offsetWidth!==0?q():i.swap(f,Ia,q);return Math.max(0,Math.round(x))}return i.curCSS(f,k,q)},curCSS:function(f,k,q){var w,x=f.style;if(!i.support.opacity&&k==="opacity"&&f.currentStyle){w=lb.test(f.currentStyle.filter||"")?parseFloat(RegExp.$1)/100+"":"";return w===""?"1":w}if(bb.test(k))k=nb;if(!q&&x&&x[k])w=x[k];else if(ta){if(bb.test(k))k="float";k=k.replace(wb,
"-$1").toLowerCase();x=f.ownerDocument.defaultView;if(!x)return null;if(f=x.getComputedStyle(f,null))w=f.getPropertyValue(k);if(k==="opacity"&&w==="")w="1"}else if(f.currentStyle){q=k.replace(la,cb);w=f.currentStyle[k]||f.currentStyle[q];if(!Va.test(w)&&mb.test(w)){k=x.left;var I=f.runtimeStyle.left;f.runtimeStyle.left=f.currentStyle.left;x.left=q==="fontSize"?"1em":w||0;w=x.pixelLeft+"px";x.left=k;f.runtimeStyle.left=I}}return w},swap:function(f,k,q){var w={};for(var x in k){w[x]=f.style[x];f.style[x]=
k[x]}q.call(f);for(x in k)f.style[x]=w[x]}});if(i.expr&&i.expr.filters){i.expr.filters.hidden=function(f){var k=f.offsetWidth,q=f.offsetHeight,w=f.nodeName.toLowerCase()==="tr";return k===0&&q===0&&!w?true:k>0&&q>0&&!w?false:i.curCSS(f,"display")==="none"};i.expr.filters.visible=function(f){return!i.expr.filters.hidden(f)}}var xb=m(),yb=/<script(.|\s)*?\/script>/gi,zb=/select|textarea/i,Ab=/color|date|datetime|email|hidden|month|number|password|range|search|tel|text|time|url|week/i,Ja=/=\?(&|$)/,
db=/\?/,Gb=/(\?|&)_=.*?(&|$)/,Hb=/^(\w+:)?\/\/([^\/?#]+)/,Ib=/%20/g,Wa=i.fn.load;i.fn.extend({load:function(f,k,q){if(typeof f!=="string")return Wa.call(this,f);else if(!this.length)return this;var w=f.indexOf(" ");if(w>=0){var x=f.slice(w,f.length);f=f.slice(0,w)}w="GET";if(k)if(i.isFunction(k)){q=k;k=null}else if(typeof k==="object"){k=i.param(k,i.ajaxSettings.traditional);w="POST"}var I=this;i.ajax({url:f,type:w,dataType:"html",data:k,complete:function(M,W){if(W==="success"||W==="notmodified")I.html(x?
i("<div />").append(M.responseText.replace(yb,"")).find(x):M.responseText);q&&I.each(q,[M.responseText,W,M])}});return this},serialize:function(){return i.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?i.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||zb.test(this.nodeName)||Ab.test(this.type))}).map(function(f,k){f=i(this).val();return f==null?null:i.isArray(f)?i.map(f,function(q){return{name:k.name,
value:q}}):{name:k.name,value:f}}).get()}});i.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(f,k){i.fn[k]=function(q){return this.bind(k,q)}});i.extend({get:function(f,k,q,w){if(i.isFunction(k)){w=w||q;q=k;k=null}return i.ajax({type:"GET",url:f,data:k,success:q,dataType:w})},getScript:function(f,k){return i.get(f,null,k,"script")},getJSON:function(f,k,q){return i.get(f,k,q,"json")},post:function(f,k,q,w){if(i.isFunction(k)){w=w||q;q=k;k={}}return i.ajax({type:"POST",
url:f,data:k,success:q,dataType:w})},ajaxSetup:function(f){i.extend(i.ajaxSettings,f)},ajaxSettings:{url:location.href,global:true,type:"GET",contentType:"application/x-www-form-urlencoded",processData:true,async:true,xhr:a.XMLHttpRequest&&(a.location.protocol!=="file:"||!a.ActiveXObject)?function(){return new a.XMLHttpRequest}:function(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(f){}},accepts:{xml:"application/xml, text/xml",html:"text/html",script:"text/javascript, application/javascript",
json:"application/json, text/javascript",text:"text/plain",_default:"*/*"}},lastModified:{},etag:{},ajax:function(f){function k(){x.success&&x.success.call(S,W,M,qa);x.global&&w("ajaxSuccess",[qa,x])}function q(){x.complete&&x.complete.call(S,qa,M);x.global&&w("ajaxComplete",[qa,x]);x.global&&!--i.active&&i.event.trigger("ajaxStop")}function w(l,o){(x.context?i(x.context):i.event).trigger(l,o)}var x=i.extend(true,{},i.ajaxSettings,f),I,M,W,S=f&&f.context||x,Y=x.type.toUpperCase();if(x.data&&x.processData&&
typeof x.data!=="string")x.data=i.param(x.data,x.traditional);if(x.dataType==="jsonp"){if(Y==="GET")Ja.test(x.url)||(x.url+=(db.test(x.url)?"&":"?")+(x.jsonp||"callback")+"=?");else if(!x.data||!Ja.test(x.data))x.data=(x.data?x.data+"&":"")+(x.jsonp||"callback")+"=?";x.dataType="json"}if(x.dataType==="json"&&(x.data&&Ja.test(x.data)||Ja.test(x.url))){I=x.jsonpCallback||"jsonp"+xb++;if(x.data)x.data=(x.data+"").replace(Ja,"="+I+"$1");x.url=x.url.replace(Ja,"="+I+"$1");x.dataType="script";a[I]=a[I]||
function(l){W=l;k();q();a[I]=b;try{delete a[I]}catch(o){}ua&&ua.removeChild(sa)}}if(x.dataType==="script"&&x.cache===null)x.cache=false;if(x.cache===false&&Y==="GET"){var ca=m(),pa=x.url.replace(Gb,"$1_="+ca+"$2");x.url=pa+(pa===x.url?(db.test(x.url)?"&":"?")+"_="+ca:"")}if(x.data&&Y==="GET")x.url+=(db.test(x.url)?"&":"?")+x.data;x.global&&!i.active++&&i.event.trigger("ajaxStart");ca=(ca=Hb.exec(x.url))&&(ca[1]&&ca[1]!==location.protocol||ca[2]!==location.host);if(x.dataType==="script"&&Y==="GET"&&
ca){var ua=K.getElementsByTagName("head")[0]||K.documentElement,sa=K.createElement("script");sa.src=x.url;if(x.scriptCharset)sa.charset=x.scriptCharset;if(!I){var xa=false;sa.onload=sa.onreadystatechange=function(){if(!xa&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){xa=true;k();q();sa.onload=sa.onreadystatechange=null;ua&&sa.parentNode&&ua.removeChild(sa)}}}ua.insertBefore(sa,ua.firstChild);return b}var Ga=false,qa=x.xhr();if(qa){x.username?qa.open(Y,x.url,x.async,
x.username,x.password):qa.open(Y,x.url,x.async);try{if(x.data||f&&f.contentType)qa.setRequestHeader("Content-Type",x.contentType);if(x.ifModified){i.lastModified[x.url]&&qa.setRequestHeader("If-Modified-Since",i.lastModified[x.url]);i.etag[x.url]&&qa.setRequestHeader("If-None-Match",i.etag[x.url])}ca||qa.setRequestHeader("X-Requested-With","XMLHttpRequest");qa.setRequestHeader("Accept",x.dataType&&x.accepts[x.dataType]?x.accepts[x.dataType]+", */*":x.accepts._default)}catch(Qa){}if(x.beforeSend&&
x.beforeSend.call(S,qa,x)===false){x.global&&!--i.active&&i.event.trigger("ajaxStop");qa.abort();return false}x.global&&w("ajaxSend",[qa,x]);var A=qa.onreadystatechange=function(l){if(!qa||qa.readyState===0||l==="abort"){Ga||q();Ga=true;if(qa)qa.onreadystatechange=i.noop}else if(!Ga&&qa&&(qa.readyState===4||l==="timeout")){Ga=true;qa.onreadystatechange=i.noop;M=l==="timeout"?"timeout":!i.httpSuccess(qa)?"error":x.ifModified&&i.httpNotModified(qa,x.url)?"notmodified":"success";var o;if(M==="success")try{W=
i.httpData(qa,x.dataType,x)}catch(s){M="parsererror";o=s}if(M==="success"||M==="notmodified")I||k();else i.handleError(x,qa,M,o);q();l==="timeout"&&qa.abort();if(x.async)qa=null}};try{var H=qa.abort;qa.abort=function(){qa&&H.call(qa);A("abort")}}catch(d){}x.async&&x.timeout>0&&setTimeout(function(){qa&&!Ga&&A("timeout")},x.timeout);try{qa.send(Y==="POST"||Y==="PUT"||Y==="DELETE"?x.data:null)}catch(h){i.handleError(x,qa,null,h);q()}x.async||A();return qa}},handleError:function(f,k,q,w){if(f.error)f.error.call(f.context||
f,k,q,w);if(f.global)(f.context?i(f.context):i.event).trigger("ajaxError",[k,f,w])},active:0,httpSuccess:function(f){try{return!f.status&&location.protocol==="file:"||f.status>=200&&f.status<300||f.status===304||f.status===1223||f.status===0}catch(k){}return false},httpNotModified:function(f,k){var q=f.getResponseHeader("Last-Modified"),w=f.getResponseHeader("Etag");if(q)i.lastModified[k]=q;if(w)i.etag[k]=w;return f.status===304||f.status===0},httpData:function(f,k,q){var w=f.getResponseHeader("content-type")||
"",x=k==="xml"||!k&&w.indexOf("xml")>=0;f=x?f.responseXML:f.responseText;x&&f.documentElement.nodeName==="parsererror"&&i.error("parsererror");if(q&&q.dataFilter)f=q.dataFilter(f,k);if(typeof f==="string")if(k==="json"||!k&&w.indexOf("json")>=0)f=i.parseJSON(f);else if(k==="script"||!k&&w.indexOf("javascript")>=0)i.globalEval(f);return f},param:function(f,k){function q(M,W){if(i.isArray(W))i.each(W,function(S,Y){k||/\[\]$/.test(M)?w(M,Y):q(M+"["+(typeof Y==="object"||i.isArray(Y)?S:"")+"]",Y)});else!k&&
W!=null&&typeof W==="object"?i.each(W,function(S,Y){q(M+"["+S+"]",Y)}):w(M,W)}function w(M,W){W=i.isFunction(W)?W():W;x[x.length]=encodeURIComponent(M)+"="+encodeURIComponent(W)}var x=[];if(k===b)k=i.ajaxSettings.traditional;if(i.isArray(f)||f.jquery)i.each(f,function(){w(this.name,this.value)});else for(var I in f)q(I,f[I]);return x.join("&").replace(Ib,"+")}});var Ma={},Jb=/toggle|show|hide/,Bb=/^([+-]=)?([\d+-.]+)(.*)$/,Da,Kb=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],
["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];i.fn.extend({show:function(f,k){if(f||f===0)return this.animate(t("show",3),f,k);else{f=0;for(k=this.length;f<k;f++){var q=i.data(this[f],"olddisplay");this[f].style.display=q||"";if(i.css(this[f],"display")==="none"){q=this[f].nodeName;var w;if(Ma[q])w=Ma[q];else{var x=i("<"+q+" />").appendTo("body");w=x.css("display");if(w==="none")w="block";x.remove();Ma[q]=w}i.data(this[f],"olddisplay",w)}}f=0;for(k=this.length;f<k;f++)this[f].style.display=
i.data(this[f],"olddisplay")||"";return this}},hide:function(f,k){if(f||f===0)return this.animate(t("hide",3),f,k);else{f=0;for(k=this.length;f<k;f++){var q=i.data(this[f],"olddisplay");!q&&q!=="none"&&i.data(this[f],"olddisplay",i.css(this[f],"display"))}f=0;for(k=this.length;f<k;f++)this[f].style.display="none";return this}},_toggle:i.fn.toggle,toggle:function(f,k){var q=typeof f==="boolean";if(i.isFunction(f)&&i.isFunction(k))this._toggle.apply(this,arguments);else f==null||q?this.each(function(){var w=
q?f:i(this).is(":hidden");i(this)[w?"show":"hide"]()}):this.animate(t("toggle",3),f,k);return this},fadeTo:function(f,k,q){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:k},f,q)},animate:function(f,k,q,w){var x=i.speed(k,q,w);if(i.isEmptyObject(f))return this.each(x.complete);return this[x.queue===false?"each":"queue"](function(){var I=i.extend({},x),M,W=this.nodeType===1&&i(this).is(":hidden"),S=this;for(M in f){var Y=M.replace(la,cb);if(M!==Y){f[Y]=f[M];delete f[M];
M=Y}if(f[M]==="hide"&&W||f[M]==="show"&&!W)return I.complete.call(this);if((M==="height"||M==="width")&&this.style){I.display=i.css(this,"display");I.overflow=this.style.overflow}if(i.isArray(f[M])){(I.specialEasing=I.specialEasing||{})[M]=f[M][1];f[M]=f[M][0]}}if(I.overflow!=null)this.style.overflow="hidden";I.curAnim=i.extend({},f);i.each(f,function(ca,pa){var ua=new i.fx(S,I,ca);if(Jb.test(pa))ua[pa==="toggle"?W?"show":"hide":pa](f);else{var sa=Bb.exec(pa),xa=ua.cur(true)||0;if(sa){pa=parseFloat(sa[2]);
var Ga=sa[3]||"px";if(Ga!=="px"){S.style[ca]=(pa||1)+Ga;xa=(pa||1)/ua.cur(true)*xa;S.style[ca]=xa+Ga}if(sa[1])pa=(sa[1]==="-="?-1:1)*pa+xa;ua.custom(xa,pa,Ga)}else ua.custom(xa,pa,"")}});return true})},stop:function(f,k){var q=i.timers;f&&this.queue([]);this.each(function(){for(var w=q.length-1;w>=0;w--)if(q[w].elem===this){k&&q[w](true);q.splice(w,1)}});k||this.dequeue();return this}});i.each({slideDown:t("show",1),slideUp:t("hide",1),slideToggle:t("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"}},
function(f,k){i.fn[f]=function(q,w){return this.animate(k,q,w)}});i.extend({speed:function(f,k,q){var w=f&&typeof f==="object"?f:{complete:q||!q&&k||i.isFunction(f)&&f,duration:f,easing:q&&k||k&&!i.isFunction(k)&&k};w.duration=i.fx.off?0:typeof w.duration==="number"?w.duration:i.fx.speeds[w.duration]||i.fx.speeds._default;w.old=w.complete;w.complete=function(){w.queue!==false&&i(this).dequeue();i.isFunction(w.old)&&w.old.call(this)};return w},easing:{linear:function(f,k,q,w){return q+w*f},swing:function(f,
k,q,w){return(-Math.cos(f*Math.PI)/2+0.5)*w+q}},timers:[],fx:function(f,k,q){this.options=k;this.elem=f;this.prop=q;if(!k.orig)k.orig={}}});i.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this);(i.fx.step[this.prop]||i.fx.step._default)(this);if((this.prop==="height"||this.prop==="width")&&this.elem.style)this.elem.style.display="block"},cur:function(f){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];
return(f=parseFloat(i.css(this.elem,this.prop,f)))&&f>-10000?f:parseFloat(i.curCSS(this.elem,this.prop))||0},custom:function(f,k,q){function w(I){return x.step(I)}this.startTime=m();this.start=f;this.end=k;this.unit=q||this.unit||"px";this.now=this.start;this.pos=this.state=0;var x=this;w.elem=this.elem;if(w()&&i.timers.push(w)&&!Da)Da=setInterval(i.fx.tick,13)},show:function(){this.options.orig[this.prop]=i.style(this.elem,this.prop);this.options.show=true;this.custom(this.prop==="width"||this.prop===
"height"?1:0,this.cur());i(this.elem).show()},hide:function(){this.options.orig[this.prop]=i.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(f){var k=m(),q=true;if(f||k>=this.options.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();this.options.curAnim[this.prop]=true;for(var w in this.options.curAnim)if(this.options.curAnim[w]!==true)q=false;if(q){if(this.options.display!=null){this.elem.style.overflow=this.options.overflow;
f=i.data(this.elem,"olddisplay");this.elem.style.display=f?f:this.options.display;if(i.css(this.elem,"display")==="none")this.elem.style.display="block"}this.options.hide&&i(this.elem).hide();if(this.options.hide||this.options.show)for(var x in this.options.curAnim)i.style(this.elem,x,this.options.orig[x]);this.options.complete.call(this.elem)}return false}else{x=k-this.startTime;this.state=x/this.options.duration;f=this.options.easing||(i.easing.swing?"swing":"linear");this.pos=i.easing[this.options.specialEasing&&
this.options.specialEasing[this.prop]||f](this.state,x,0,1,this.options.duration);this.now=this.start+(this.end-this.start)*this.pos;this.update()}return true}};i.extend(i.fx,{tick:function(){for(var f=i.timers,k=0;k<f.length;k++)f[k]()||f.splice(k--,1);f.length||i.fx.stop()},stop:function(){clearInterval(Da);Da=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(f){i.style(f.elem,"opacity",f.now)},_default:function(f){if(f.elem.style&&f.elem.style[f.prop]!=null)f.elem.style[f.prop]=
(f.prop==="width"||f.prop==="height"?Math.max(0,f.now):f.now)+f.unit;else f.elem[f.prop]=f.now}}});if(i.expr&&i.expr.filters)i.expr.filters.animated=function(f){return i.grep(i.timers,function(k){return f===k.elem}).length};i.fn.offset="getBoundingClientRect"in K.documentElement?function(f){var k=this[0];if(f)return this.each(function(x){i.offset.setOffset(this,f,x)});if(!k||!k.ownerDocument)return null;if(k===k.ownerDocument.body)return i.offset.bodyOffset(k);var q=k.getBoundingClientRect(),w=k.ownerDocument;
k=w.body;w=w.documentElement;return{top:q.top+(self.pageYOffset||i.support.boxModel&&w.scrollTop||k.scrollTop)-(w.clientTop||k.clientTop||0),left:q.left+(self.pageXOffset||i.support.boxModel&&w.scrollLeft||k.scrollLeft)-(w.clientLeft||k.clientLeft||0)}}:function(f){var k=this[0];if(f)return this.each(function(ca){i.offset.setOffset(this,f,ca)});if(!k||!k.ownerDocument)return null;if(k===k.ownerDocument.body)return i.offset.bodyOffset(k);i.offset.initialize();var q=k.offsetParent,w=k,x=k.ownerDocument,
I,M=x.documentElement,W=x.body;w=(x=x.defaultView)?x.getComputedStyle(k,null):k.currentStyle;for(var S=k.offsetTop,Y=k.offsetLeft;(k=k.parentNode)&&k!==W&&k!==M;){if(i.offset.supportsFixedPosition&&w.position==="fixed")break;I=x?x.getComputedStyle(k,null):k.currentStyle;S-=k.scrollTop;Y-=k.scrollLeft;if(k===q){S+=k.offsetTop;Y+=k.offsetLeft;if(i.offset.doesNotAddBorder&&!(i.offset.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(k.nodeName))){S+=parseFloat(I.borderTopWidth)||0;Y+=parseFloat(I.borderLeftWidth)||
0}w=q;q=k.offsetParent}if(i.offset.subtractsBorderForOverflowNotVisible&&I.overflow!=="visible"){S+=parseFloat(I.borderTopWidth)||0;Y+=parseFloat(I.borderLeftWidth)||0}w=I}if(w.position==="relative"||w.position==="static"){S+=W.offsetTop;Y+=W.offsetLeft}if(i.offset.supportsFixedPosition&&w.position==="fixed"){S+=Math.max(M.scrollTop,W.scrollTop);Y+=Math.max(M.scrollLeft,W.scrollLeft)}return{top:S,left:Y}};i.offset={initialize:function(){var f=K.body,k=K.createElement("div"),q,w,x,I=parseFloat(i.curCSS(f,
"marginTop",true))||0;i.extend(k.style,{position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"});k.innerHTML="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";f.insertBefore(k,f.firstChild);q=k.firstChild;w=q.firstChild;
x=q.nextSibling.firstChild.firstChild;this.doesNotAddBorder=w.offsetTop!==5;this.doesAddBorderForTableAndCells=x.offsetTop===5;w.style.position="fixed";w.style.top="20px";this.supportsFixedPosition=w.offsetTop===20||w.offsetTop===15;w.style.position=w.style.top="";q.style.overflow="hidden";q.style.position="relative";this.subtractsBorderForOverflowNotVisible=w.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=f.offsetTop!==I;f.removeChild(k);i.offset.initialize=i.noop},bodyOffset:function(f){var k=
f.offsetTop,q=f.offsetLeft;i.offset.initialize();if(i.offset.doesNotIncludeMarginInBodyOffset){k+=parseFloat(i.curCSS(f,"marginTop",true))||0;q+=parseFloat(i.curCSS(f,"marginLeft",true))||0}return{top:k,left:q}},setOffset:function(f,k,q){if(/static/.test(i.curCSS(f,"position")))f.style.position="relative";var w=i(f),x=w.offset(),I=parseInt(i.curCSS(f,"top",true),10)||0,M=parseInt(i.curCSS(f,"left",true),10)||0;if(i.isFunction(k))k=k.call(f,q,x);q={top:k.top-x.top+I,left:k.left-x.left+M};"using"in
k?k.using.call(f,q):w.css(q)}};i.fn.extend({position:function(){if(!this[0])return null;var f=this[0],k=this.offsetParent(),q=this.offset(),w=/^body|html$/i.test(k[0].nodeName)?{top:0,left:0}:k.offset();q.top-=parseFloat(i.curCSS(f,"marginTop",true))||0;q.left-=parseFloat(i.curCSS(f,"marginLeft",true))||0;w.top+=parseFloat(i.curCSS(k[0],"borderTopWidth",true))||0;w.left+=parseFloat(i.curCSS(k[0],"borderLeftWidth",true))||0;return{top:q.top-w.top,left:q.left-w.left}},offsetParent:function(){return this.map(function(){for(var f=
this.offsetParent||K.body;f&&!/^body|html$/i.test(f.nodeName)&&i.css(f,"position")==="static";)f=f.offsetParent;return f})}});i.each(["Left","Top"],function(f,k){var q="scroll"+k;i.fn[q]=function(w){var x=this[0],I;if(!x)return null;return w!==b?this.each(function(){if(I=y(this))I.scrollTo(!f?w:i(I).scrollLeft(),f?w:i(I).scrollTop());else this[q]=w}):(I=y(x))?"pageXOffset"in I?I[f?"pageYOffset":"pageXOffset"]:i.support.boxModel&&I.document.documentElement[q]||I.document.body[q]:x[q]}});i.each(["Height",
"Width"],function(f,k){var q=k.toLowerCase();i.fn["inner"+k]=function(){return this[0]?i.css(this[0],q,false,"padding"):null};i.fn["outer"+k]=function(w){return this[0]?i.css(this[0],q,false,w?"margin":"border"):null};i.fn[q]=function(w){var x=this[0];if(!x)return w==null?null:this;if(i.isFunction(w))return this.each(function(I){var M=i(this);M[q](w.call(this,I,M[q]()))});return"scrollTo"in x&&x.document?x.document.compatMode==="CSS1Compat"&&x.document.documentElement["client"+k]||x.document.body["client"+
k]:x.nodeType===9?Math.max(x.documentElement["client"+k],x.body["scroll"+k],x.documentElement["scroll"+k],x.body["offset"+k],x.documentElement["offset"+k]):w===b?i.css(x,q):this.css(q,typeof w==="string"?w:w+"px")}});a.jQuery=a.$=i})(window);(function(a,b){function g(e){return!a(e).parents().andSelf().filter(function(){return a.curCSS(this,"visibility")==="hidden"||a.expr.filters.hidden(this)}).length}a.ui=a.ui||{};if(!a.ui.version){a.extend(a.ui,{version:"1.8.4",plugin:{add:function(e,j,m){e=a.ui[e].prototype;for(var r in m){e.plugins[r]=e.plugins[r]||[];e.plugins[r].push([j,m[r]])}},call:function(e,j,m){if((j=e.plugins[j])&&e.element[0].parentNode)for(var r=0;r<j.length;r++)e.options[j[r][0]]&&j[r][1].apply(e.element,m)}},contains:function(e,
j){return document.compareDocumentPosition?e.compareDocumentPosition(j)&16:e!==j&&e.contains(j)},hasScroll:function(e,j){if(a(e).css("overflow")==="hidden")return false;j=j&&j==="left"?"scrollLeft":"scrollTop";var m=false;if(e[j]>0)return true;e[j]=1;m=e[j]>0;e[j]=0;return m},isOverAxis:function(e,j,m){return e>j&&e<j+m},isOver:function(e,j,m,r,F,G){return a.ui.isOverAxis(e,m,F)&&a.ui.isOverAxis(j,r,G)},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,
CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}});a.fn.extend({_focus:a.fn.focus,focus:function(e,j){return typeof e==="number"?this.each(function(){var m=this;setTimeout(function(){a(m).focus();j&&j.call(m)},e)}):this._focus.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable",
"off").css("MozUserSelect","")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none")},scrollParent:function(){var e;e=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,
"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||!e.length?a(document):e},zIndex:function(e){if(e!==b)return this.css("zIndex",e);if(this.length){e=a(this[0]);for(var j;e.length&&e[0]!==document;){j=e.css("position");if(j==="absolute"||j==="relative"||j==="fixed"){j=parseInt(e.css("zIndex"));if(!isNaN(j)&&j!=0)return j}e=e.parent()}}return 0}});a.each(["Width","Height"],function(e,j){function m(C,v,u,n){a.each(r,function(){v-=
parseFloat(a.curCSS(C,"padding"+this,true))||0;if(u)v-=parseFloat(a.curCSS(C,"border"+this+"Width",true))||0;if(n)v-=parseFloat(a.curCSS(C,"margin"+this,true))||0});return v}var r=j==="Width"?["Left","Right"]:["Top","Bottom"],F=j.toLowerCase(),G={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+j]=function(C){if(C===b)return G["inner"+j].call(this);return this.each(function(){a.style(this,F,m(this,C)+"px")})};a.fn["outer"+
j]=function(C,v){if(typeof C!=="number")return G["outer"+j].call(this,C);return this.each(function(){a.style(this,F,m(this,C,true,v)+"px")})}});a.extend(a.expr[":"],{data:function(e,j,m){return!!a.data(e,m[3])},focusable:function(e){var j=e.nodeName.toLowerCase(),m=a.attr(e,"tabindex");if("area"===j){j=e.parentNode;m=j.name;if(!e.href||!m||j.nodeName.toLowerCase()!=="map")return false;e=a("img[usemap=#"+m+"]")[0];return!!e&&g(e)}return(/input|select|textarea|button|object/.test(j)?!e.disabled:"a"==
j?e.href||!isNaN(m):!isNaN(m))&&g(e)},tabbable:function(e){var j=a.attr(e,"tabindex");return(isNaN(j)||j>=0)&&a(e).is(":focusable")}})}})(jQuery);
(function(a,b){var g=a.fn.remove;a.fn.remove=function(e,j){return this.each(function(){if(!j)if(!e||a.filter(e,[this]).length)a("*",this).add([this]).each(function(){a(this).triggerHandler("remove")});return g.call(a(this),e,j)})};a.widget=function(e,j,m){var r=e.split(".")[0],F;e=e.split(".")[1];F=r+"-"+e;if(!m){m=j;j=a.Widget}a.expr[":"][F]=function(G){return!!a.data(G,e)};a[r]=a[r]||{};a[r][e]=function(G,C){arguments.length&&this._createWidget(G,C)};j=new j;j.options=a.extend(true,{},j.options);
a[r][e].prototype=a.extend(true,j,{namespace:r,widgetName:e,widgetEventPrefix:a[r][e].prototype.widgetEventPrefix||e,widgetBaseClass:F},m);a.widget.bridge(e,a[r][e])};a.widget.bridge=function(e,j){a.fn[e]=function(m){var r=typeof m==="string",F=Array.prototype.slice.call(arguments,1),G=this;m=!r&&F.length?a.extend.apply(null,[true,m].concat(F)):m;if(r&&m.substring(0,1)==="_")return G;r?this.each(function(){var C=a.data(this,e),v=C&&a.isFunction(C[m])?C[m].apply(C,F):C;if(v!==C&&v!==b){G=v;return false}}):
this.each(function(){var C=a.data(this,e);if(C){m&&C.option(m);C._init()}else a.data(this,e,new j(m,this))});return G}};a.Widget=function(e,j){arguments.length&&this._createWidget(e,j)};a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:false},_createWidget:function(e,j){a.data(j,this.widgetName,this);this.element=a(j);this.options=a.extend(true,{},this.options,a.metadata&&a.metadata.get(j)[this.widgetName],e);var m=this;this.element.bind("remove."+this.widgetName,function(){m.destroy()});
this._create();this._init()},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName);this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(e,j){var m=e,r=this;if(arguments.length===0)return a.extend({},r.options);if(typeof e==="string"){if(j===b)return this.options[e];m={};m[e]=j}a.each(m,function(F,
G){r._setOption(F,G)});return r},_setOption:function(e,j){this.options[e]=j;if(e==="disabled")this.widget()[j?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",j);return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_trigger:function(e,j,m){var r=this.options[e];j=a.Event(j);j.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase();m=m||{};if(j.originalEvent){e=
a.event.props.length;for(var F;e;){F=a.event.props[--e];j[F]=j.originalEvent[F]}}this.element.trigger(j,m);return!(a.isFunction(r)&&r.call(this.element[0],j,m)===false||j.isDefaultPrevented())}}})(jQuery);
(function(a){a.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(g){return b._mouseDown(g)}).bind("click."+this.widgetName,function(g){if(b._preventClickEvent){b._preventClickEvent=false;g.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName)},_mouseDown:function(b){b.originalEvent=b.originalEvent||{};if(!b.originalEvent.mouseHandled){this._mouseStarted&&
this._mouseUp(b);this._mouseDownEvent=b;var g=this,e=b.which==1,j=typeof this.options.cancel=="string"?a(b.target).parents().add(b.target).filter(this.options.cancel).length:false;if(!e||j||!this._mouseCapture(b))return true;this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)){this._mouseStarted=this._mouseStart(b)!==false;if(!this._mouseStarted){b.preventDefault();
return true}}this._mouseMoveDelegate=function(m){return g._mouseMove(m)};this._mouseUpDelegate=function(m){return g._mouseUp(m)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);a.browser.safari||b.preventDefault();return b.originalEvent.mouseHandled=true}},_mouseMove:function(b){if(a.browser.msie&&!b.button)return this._mouseUp(b);if(this._mouseStarted){this._mouseDrag(b);return b.preventDefault()}if(this._mouseDistanceMet(b)&&
this._mouseDelayMet(b))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==false)?this._mouseDrag(b):this._mouseUp(b);return!this._mouseStarted},_mouseUp:function(b){a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=b.target==this._mouseDownEvent.target;this._mouseStop(b)}return false},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-
b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);
(function(a){a.ui=a.ui||{};var b=/left|center|right/,g=/top|center|bottom/,e=a.fn.position,j=a.fn.offset;a.fn.position=function(m){if(!m||!m.of)return e.apply(this,arguments);m=a.extend({},m);var r=a(m.of),F=(m.collision||"flip").split(" "),G=m.offset?m.offset.split(" "):[0,0],C,v,u;if(m.of.nodeType===9){C=r.width();v=r.height();u={top:0,left:0}}else if(m.of.scrollTo&&m.of.document){C=r.width();v=r.height();u={top:r.scrollTop(),left:r.scrollLeft()}}else if(m.of.preventDefault){m.at="left top";C=v=
0;u={top:m.of.pageY,left:m.of.pageX}}else{C=r.outerWidth();v=r.outerHeight();u=r.offset()}a.each(["my","at"],function(){var n=(m[this]||"").split(" ");if(n.length===1)n=b.test(n[0])?n.concat(["center"]):g.test(n[0])?["center"].concat(n):["center","center"];n[0]=b.test(n[0])?n[0]:"center";n[1]=g.test(n[1])?n[1]:"center";m[this]=n});if(F.length===1)F[1]=F[0];G[0]=parseInt(G[0],10)||0;if(G.length===1)G[1]=G[0];G[1]=parseInt(G[1],10)||0;if(m.at[0]==="right")u.left+=C;else if(m.at[0]==="center")u.left+=
C/2;if(m.at[1]==="bottom")u.top+=v;else if(m.at[1]==="center")u.top+=v/2;u.left+=G[0];u.top+=G[1];return this.each(function(){var n=a(this),t=n.outerWidth(),y=n.outerHeight(),i=a.extend({},u);if(m.my[0]==="right")i.left-=t;else if(m.my[0]==="center")i.left-=t/2;if(m.my[1]==="bottom")i.top-=y;else if(m.my[1]==="center")i.top-=y/2;i.left=parseInt(i.left);i.top=parseInt(i.top);a.each(["left","top"],function(X,Z){a.ui.position[F[X]]&&a.ui.position[F[X]][Z](i,{targetWidth:C,targetHeight:v,elemWidth:t,
elemHeight:y,offset:G,my:m.my,at:m.at})});a.fn.bgiframe&&n.bgiframe();n.offset(a.extend(i,{using:m.using}))})};a.ui.position={fit:{left:function(m,r){var F=a(window);r=m.left+r.elemWidth-F.width()-F.scrollLeft();m.left=r>0?m.left-r:Math.max(0,m.left)},top:function(m,r){var F=a(window);r=m.top+r.elemHeight-F.height()-F.scrollTop();m.top=r>0?m.top-r:Math.max(0,m.top)}},flip:{left:function(m,r){if(r.at[0]!=="center"){var F=a(window);F=m.left+r.elemWidth-F.width()-F.scrollLeft();var G=r.my[0]==="left"?
-r.elemWidth:r.my[0]==="right"?r.elemWidth:0,C=-2*r.offset[0];m.left+=m.left<0?G+r.targetWidth+C:F>0?G-r.targetWidth+C:0}},top:function(m,r){if(r.at[1]!=="center"){var F=a(window);F=m.top+r.elemHeight-F.height()-F.scrollTop();var G=r.my[1]==="top"?-r.elemHeight:r.my[1]==="bottom"?r.elemHeight:0,C=r.at[1]==="top"?r.targetHeight:-r.targetHeight,v=-2*r.offset[1];m.top+=m.top<0?G+r.targetHeight+v:F>0?G+C+v:0}}}};if(!a.offset.setOffset){a.offset.setOffset=function(m,r){if(/static/.test(a.curCSS(m,"position")))m.style.position=
"relative";var F=a(m),G=F.offset(),C=parseInt(a.curCSS(m,"top",true),10)||0,v=parseInt(a.curCSS(m,"left",true),10)||0;G={top:r.top-G.top+C,left:r.left-G.left+v};"using"in r?r.using.call(m,G):F.css(G)};a.fn.offset=function(m){var r=this[0];if(!r||!r.ownerDocument)return null;if(m)return this.each(function(){a.offset.setOffset(this,m)});return j.call(this)}}})(jQuery);
(function(a){a.widget("ui.draggable",a.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper==
"original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();return this}},_mouseCapture:function(b){var g=
this.options;if(this.helper||g.disabled||a(b.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(b);if(!this.handle)return false;return true},_mouseStart:function(b){var g=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-
this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt);g.containment&&this._setContainment();if(this._trigger("start",b)===false){this._clear();return false}this._cacheHelperProportions();
a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,g){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!g){g=this._uiHash();if(this._trigger("drag",b,g)===false){this._mouseUp({});return false}this.position=g.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||
this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return false},_mouseStop:function(b){var g=false;if(a.ui.ddmanager&&!this.options.dropBehaviour)g=a.ui.ddmanager.drop(this,b);if(this.dropped){g=this.dropped;this.dropped=false}if(!this.element[0]||!this.element[0].parentNode)return false;if(this.options.revert=="invalid"&&!g||this.options.revert=="valid"&&g||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,
g)){var e=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){e._trigger("stop",b)!==false&&e._clear()})}else this._trigger("stop",b)!==false&&this._clear();return false},cancel:function(){this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear();return this},_getHandle:function(b){var g=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==
b.target)g=true});return g},_createHelper:function(b){var g=this.options;b=a.isFunction(g.helper)?a(g.helper.apply(this.element[0],[b])):g.helper=="clone"?this.element.clone():this.element;b.parents("body").length||b.appendTo(g.appendTo=="parent"?this.element[0].parentNode:g.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){if(typeof b=="string")b=b.split(" ");if(a.isArray(b))b={left:+b[0],top:+b[1]||
0};if("left"in b)this.offset.click.left=b.left+this.margins.left;if("right"in b)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if("top"in b)this.offset.click.top=b.top+this.margins.top;if("bottom"in b)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-
(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if(b.containment==
"parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)&&
b.containment.constructor!=Array){var g=a(b.containment)[0];if(g){b=a(b.containment).offset();var e=a(g).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(g).css("borderLeftWidth"),10)||0)+(parseInt(a(g).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(g).css("borderTopWidth"),10)||0)+(parseInt(a(g).css("paddingTop"),10)||0)-this.margins.top,b.left+(e?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(a(g).css("borderLeftWidth"),10)||0)-(parseInt(a(g).css("paddingRight"),
10)||0)-this.helperProportions.width-this.margins.left,b.top+(e?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(a(g).css("borderTopWidth"),10)||0)-(parseInt(a(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(b.containment.constructor==Array)this.containment=b.containment},_convertPositionTo:function(b,g){if(!g)g=this.position;b=b=="absolute"?1:-1;var e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],
this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=/(html|body)/i.test(e[0].tagName);return{top:g.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():j?0:e.scrollTop())*b),left:g.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():
j?0:e.scrollLeft())*b)}},_generatePosition:function(b){var g=this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=/(html|body)/i.test(e[0].tagName),m=b.pageX,r=b.pageY;if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0])m=this.containment[0]+this.offset.click.left;if(b.pageY-this.offset.click.top<this.containment[1])r=this.containment[1]+
this.offset.click.top;if(b.pageX-this.offset.click.left>this.containment[2])m=this.containment[2]+this.offset.click.left;if(b.pageY-this.offset.click.top>this.containment[3])r=this.containment[3]+this.offset.click.top}if(g.grid){r=this.originalPageY+Math.round((r-this.originalPageY)/g.grid[1])*g.grid[1];r=this.containment?!(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?r:!(r-this.offset.click.top<this.containment[1])?r-g.grid[1]:r+g.grid[1]:r;m=this.originalPageX+
Math.round((m-this.originalPageX)/g.grid[0])*g.grid[0];m=this.containment?!(m-this.offset.click.left<this.containment[0]||m-this.offset.click.left>this.containment[2])?m:!(m-this.offset.click.left<this.containment[0])?m-g.grid[0]:m+g.grid[0]:m}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():j?0:e.scrollTop()),left:m-this.offset.click.left-
this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&a.browser.version<526&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:e.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,g,e){e=e||this._uiHash();a.ui.plugin.call(this,b,[g,e]);if(b=="drag")this.positionAbs=
this._convertPositionTo("absolute");return a.Widget.prototype._trigger.call(this,b,g,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.extend(a.ui.draggable,{version:"1.8.4"});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,g){var e=a(this).data("draggable"),j=e.options,m=a.extend({},g,{item:e.element});e.sortables=[];a(j.connectToSortable).each(function(){var r=a.data(this,"sortable");
if(r&&!r.options.disabled){e.sortables.push({instance:r,shouldRevert:r.options.revert});r._refreshItems();r._trigger("activate",b,m)}})},stop:function(b,g){var e=a(this).data("draggable"),j=a.extend({},g,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(b);this.instance.options.helper=this.instance.options._helper;
e.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",b,j)}})},drag:function(b,g){var e=a(this).data("draggable"),j=this;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=
1;this.instance.currentItem=a(j).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};b.target=this.instance.currentItem[0];this.instance._mouseCapture(b,true);this.instance._mouseStart(b,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;
this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",b);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}this.instance.currentItem&&this.instance._mouseDrag(b)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",b,this.instance._uiHash(this.instance));this.instance._mouseStop(b,true);this.instance.options.helper=
this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();e._trigger("fromSortable",b);e.dropped=false}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),g=a(this).data("draggable").options;if(b.css("cursor"))g._cursor=b.css("cursor");b.css("cursor",g.cursor)},stop:function(){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=
a(this).data("draggable").options;a(b.iframeFix===true?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1E3}).css(a(this).offset()).appendTo("body")})},stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(b,g){b=a(g.helper);g=a(this).data("draggable").options;
if(b.css("opacity"))g._opacity=b.css("opacity");b.css("opacity",g.opacity)},stop:function(b,g){b=a(this).data("draggable").options;b._opacity&&a(g.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=document&&b.scrollParent[0].tagName!="HTML")b.overflowOffset=b.scrollParent.offset()},drag:function(b){var g=a(this).data("draggable"),e=g.options,j=false;if(g.scrollParent[0]!=document&&g.scrollParent[0].tagName!=
"HTML"){if(!e.axis||e.axis!="x")if(g.overflowOffset.top+g.scrollParent[0].offsetHeight-b.pageY<e.scrollSensitivity)g.scrollParent[0].scrollTop=j=g.scrollParent[0].scrollTop+e.scrollSpeed;else if(b.pageY-g.overflowOffset.top<e.scrollSensitivity)g.scrollParent[0].scrollTop=j=g.scrollParent[0].scrollTop-e.scrollSpeed;if(!e.axis||e.axis!="y")if(g.overflowOffset.left+g.scrollParent[0].offsetWidth-b.pageX<e.scrollSensitivity)g.scrollParent[0].scrollLeft=j=g.scrollParent[0].scrollLeft+e.scrollSpeed;else if(b.pageX-
g.overflowOffset.left<e.scrollSensitivity)g.scrollParent[0].scrollLeft=j=g.scrollParent[0].scrollLeft-e.scrollSpeed}else{if(!e.axis||e.axis!="x")if(b.pageY-a(document).scrollTop()<e.scrollSensitivity)j=a(document).scrollTop(a(document).scrollTop()-e.scrollSpeed);else if(a(window).height()-(b.pageY-a(document).scrollTop())<e.scrollSensitivity)j=a(document).scrollTop(a(document).scrollTop()+e.scrollSpeed);if(!e.axis||e.axis!="y")if(b.pageX-a(document).scrollLeft()<e.scrollSensitivity)j=a(document).scrollLeft(a(document).scrollLeft()-
e.scrollSpeed);else if(a(window).width()-(b.pageX-a(document).scrollLeft())<e.scrollSensitivity)j=a(document).scrollLeft(a(document).scrollLeft()+e.scrollSpeed)}j!==false&&a.ui.ddmanager&&!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(g,b)}});a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("draggable"),g=b.options;b.snapElements=[];a(g.snap.constructor!=String?g.snap.items||":data(draggable)":g.snap).each(function(){var e=a(this),j=e.offset();this!=b.element[0]&&b.snapElements.push({item:this,
width:e.outerWidth(),height:e.outerHeight(),top:j.top,left:j.left})})},drag:function(b,g){for(var e=a(this).data("draggable"),j=e.options,m=j.snapTolerance,r=g.offset.left,F=r+e.helperProportions.width,G=g.offset.top,C=G+e.helperProportions.height,v=e.snapElements.length-1;v>=0;v--){var u=e.snapElements[v].left,n=u+e.snapElements[v].width,t=e.snapElements[v].top,y=t+e.snapElements[v].height;if(u-m<r&&r<n+m&&t-m<G&&G<y+m||u-m<r&&r<n+m&&t-m<C&&C<y+m||u-m<F&&F<n+m&&t-m<G&&G<y+m||u-m<F&&F<n+m&&t-m<C&&
C<y+m){if(j.snapMode!="inner"){var i=Math.abs(t-C)<=m,X=Math.abs(y-G)<=m,Z=Math.abs(u-F)<=m,K=Math.abs(n-r)<=m;if(i)g.position.top=e._convertPositionTo("relative",{top:t-e.helperProportions.height,left:0}).top-e.margins.top;if(X)g.position.top=e._convertPositionTo("relative",{top:y,left:0}).top-e.margins.top;if(Z)g.position.left=e._convertPositionTo("relative",{top:0,left:u-e.helperProportions.width}).left-e.margins.left;if(K)g.position.left=e._convertPositionTo("relative",{top:0,left:n}).left-e.margins.left}var ha=
i||X||Z||K;if(j.snapMode!="outer"){i=Math.abs(t-G)<=m;X=Math.abs(y-C)<=m;Z=Math.abs(u-r)<=m;K=Math.abs(n-F)<=m;if(i)g.position.top=e._convertPositionTo("relative",{top:t,left:0}).top-e.margins.top;if(X)g.position.top=e._convertPositionTo("relative",{top:y-e.helperProportions.height,left:0}).top-e.margins.top;if(Z)g.position.left=e._convertPositionTo("relative",{top:0,left:u}).left-e.margins.left;if(K)g.position.left=e._convertPositionTo("relative",{top:0,left:n-e.helperProportions.width}).left-e.margins.left}if(!e.snapElements[v].snapping&&
(i||X||Z||K||ha))e.options.snap.snap&&e.options.snap.snap.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[v].item}));e.snapElements[v].snapping=i||X||Z||K||ha}else{e.snapElements[v].snapping&&e.options.snap.release&&e.options.snap.release.call(e.element,b,a.extend(e._uiHash(),{snapItem:e.snapElements[v].item}));e.snapElements[v].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options;b=a.makeArray(a(b.stack)).sort(function(e,
j){return(parseInt(a(e).css("zIndex"),10)||0)-(parseInt(a(j).css("zIndex"),10)||0)});if(b.length){var g=parseInt(b[0].style.zIndex)||0;a(b).each(function(e){this.style.zIndex=g+e});this[0].style.zIndex=g+b.length}}});a.ui.plugin.add("draggable","zIndex",{start:function(b,g){b=a(g.helper);g=a(this).data("draggable").options;if(b.css("zIndex"))g._zIndex=b.css("zIndex");b.css("zIndex",g.zIndex)},stop:function(b,g){b=a(this).data("draggable").options;b._zIndex&&a(g.helper).css("zIndex",b._zIndex)}})})(jQuery);
(function(a){a.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"},_create:function(){var b=this.options,g=b.accept;this.isover=0;this.isout=1;this.accept=a.isFunction(g)?g:function(e){return e.is(g)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[];a.ui.ddmanager.droppables[b.scope].push(this);
b.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],g=0;g<b.length;g++)b[g]==this&&b.splice(g,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable");return this},_setOption:function(b,g){if(b=="accept")this.accept=a.isFunction(g)?g:function(e){return e.is(g)};a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var g=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);g&&this._trigger("activate",b,this.ui(g))},_deactivate:function(b){var g=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);g&&this._trigger("deactivate",b,this.ui(g))},_over:function(b){var g=a.ui.ddmanager.current;if(!(!g||(g.currentItem||g.element)[0]==this.element[0]))if(this.accept.call(this.element[0],g.currentItem||g.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",b,this.ui(g))}},_out:function(b){var g=a.ui.ddmanager.current;if(!(!g||(g.currentItem||g.element)[0]==this.element[0]))if(this.accept.call(this.element[0],g.currentItem||g.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",b,this.ui(g))}},_drop:function(b,g){var e=g||a.ui.ddmanager.current;if(!e||(e.currentItem||e.element)[0]==this.element[0])return false;var j=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var m=
a.data(this,"droppable");if(m.options.greedy&&!m.options.disabled&&m.options.scope==e.options.scope&&m.accept.call(m.element[0],e.currentItem||e.element)&&a.ui.intersect(e,a.extend(m,{offset:m.element.offset()}),m.options.tolerance)){j=true;return false}});if(j)return false;if(this.accept.call(this.element[0],e.currentItem||e.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",
b,this.ui(e));return this.element}return false},ui:function(b){return{draggable:b.currentItem||b.element,helper:b.helper,position:b.position,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.8.4"});a.ui.intersect=function(b,g,e){if(!g.offset)return false;var j=(b.positionAbs||b.position.absolute).left,m=j+b.helperProportions.width,r=(b.positionAbs||b.position.absolute).top,F=r+b.helperProportions.height,G=g.offset.left,C=G+g.proportions.width,v=g.offset.top,u=v+g.proportions.height;switch(e){case "fit":return G<=
j&&m<=C&&v<=r&&F<=u;case "intersect":return G<j+b.helperProportions.width/2&&m-b.helperProportions.width/2<C&&v<r+b.helperProportions.height/2&&F-b.helperProportions.height/2<u;case "pointer":return a.ui.isOver((b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top,(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left,v,G,g.proportions.height,g.proportions.width);case "touch":return(r>=v&&r<=u||F>=v&&F<=u||r<v&&F>u)&&(j>=G&&j<=C||m>=G&&m<=C||j<G&&m>C);
default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,g){var e=a.ui.ddmanager.droppables[b.options.scope]||[],j=g?g.type:null,m=(b.currentItem||b.element).find(":data(droppable)").andSelf(),r=0;a:for(;r<e.length;r++)if(!(e[r].options.disabled||b&&!e[r].accept.call(e[r].element[0],b.currentItem||b.element))){for(var F=0;F<m.length;F++)if(m[F]==e[r].element[0]){e[r].proportions.height=0;continue a}e[r].visible=e[r].element.css("display")!="none";if(e[r].visible){e[r].offset=
e[r].element.offset();e[r].proportions={width:e[r].element[0].offsetWidth,height:e[r].element[0].offsetHeight};j=="mousedown"&&e[r]._activate.call(e[r],g)}}},drop:function(b,g){var e=false;a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance))e=e||this._drop.call(this,g);if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)){this.isout=1;
this.isover=0;this._deactivate.call(this,g)}}});return e},drag:function(b,g){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,g);a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var e=a.ui.intersect(b,this,this.options.tolerance);if(e=!e&&this.isover==1?"isout":e&&this.isover==0?"isover":null){var j;if(this.options.greedy){var m=this.element.parents(":data(droppable):eq(0)");if(m.length){j=a.data(m[0],"droppable");
j.greedyChild=e=="isover"?1:0}}if(j&&e=="isover"){j.isover=0;j.isout=1;j._out.call(j,g)}this[e]=1;this[e=="isout"?"isover":"isout"]=0;this[e=="isover"?"_over":"_out"].call(this,g);if(j&&e=="isout"){j.isout=0;j.isover=1;j._over.call(j,g)}}}})}}})(jQuery);
(function(a){a.widget("ui.resizable",a.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1E3},_create:function(){var e=this,j=this.options;this.element.addClass("ui-resizable");a.extend(this,{_aspectRatio:!!j.aspectRatio,aspectRatio:j.aspectRatio,originalElement:this.element,
_proportionallyResizeElements:[],_helper:j.helper||j.ghost||j.animate?j.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){/relative/.test(this.element.css("position"))&&a.browser.opera&&this.element.css({position:"relative",top:"auto",left:"auto"});this.element.wrap(a('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),
top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("resizable",this.element.data("resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=
this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=j.handles||(!a(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",
nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all")this.handles="n,e,s,w,se,sw,ne,nw";var m=this.handles.split(",");this.handles={};for(var r=0;r<m.length;r++){var F=a.trim(m[r]),G=a('<div class="ui-resizable-handle '+("ui-resizable-"+F)+'"></div>');/sw|se|ne|nw/.test(F)&&G.css({zIndex:++j.zIndex});"se"==F&&G.addClass("ui-icon ui-icon-gripsmall-diagonal-se");this.handles[F]=".ui-resizable-"+F;this.element.append(G)}}this._renderAxis=function(C){C=C||this.element;for(var v in this.handles){if(this.handles[v].constructor==
String)this.handles[v]=a(this.handles[v],this.element).show();if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var u=a(this.handles[v],this.element),n=0;n=/sw|ne|nw|se|n|s/.test(v)?u.outerHeight():u.outerWidth();u=["padding",/ne|nw|n/.test(v)?"Top":/se|sw|s/.test(v)?"Bottom":/^e$/.test(v)?"Right":"Left"].join("");C.css(u,n);this._proportionallyResize()}a(this.handles[v])}};this._renderAxis(this.element);this._handles=a(".ui-resizable-handle",this.element).disableSelection();
this._handles.mouseover(function(){if(!e.resizing){if(this.className)var C=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=C&&C[1]?C[1]:"se"}});if(j.autoHide){this._handles.hide();a(this.element).addClass("ui-resizable-autohide").hover(function(){a(this).removeClass("ui-resizable-autohide");e._handles.show()},function(){if(!e.resizing){a(this).addClass("ui-resizable-autohide");e._handles.hide()}})}this._mouseInit()},destroy:function(){this._mouseDestroy();var e=function(m){a(m).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};
if(this.elementIsWrapper){e(this.element);var j=this.element;j.after(this.originalElement.css({position:j.css("position"),width:j.outerWidth(),height:j.outerHeight(),top:j.css("top"),left:j.css("left")})).remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(e){var j=false;for(var m in this.handles)if(a(this.handles[m])[0]==e.target)j=true;return!this.options.disabled&&j},_mouseStart:function(e){var j=this.options,m=this.element.position(),
r=this.element;this.resizing=true;this.documentScroll={top:a(document).scrollTop(),left:a(document).scrollLeft()};if(r.is(".ui-draggable")||/absolute/.test(r.css("position")))r.css({position:"absolute",top:m.top,left:m.left});a.browser.opera&&/relative/.test(r.css("position"))&&r.css({position:"relative",top:"auto",left:"auto"});this._renderProxy();m=b(this.helper.css("left"));var F=b(this.helper.css("top"));if(j.containment){m+=a(j.containment).scrollLeft()||0;F+=a(j.containment).scrollTop()||0}this.offset=
this.helper.offset();this.position={left:m,top:F};this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()};this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()};this.originalPosition={left:m,top:F};this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()};this.originalMousePosition={left:e.pageX,top:e.pageY};this.aspectRatio=typeof j.aspectRatio=="number"?j.aspectRatio:
this.originalSize.width/this.originalSize.height||1;j=a(".ui-resizable-"+this.axis).css("cursor");a("body").css("cursor",j=="auto"?this.axis+"-resize":j);r.addClass("ui-resizable-resizing");this._propagate("start",e);return true},_mouseDrag:function(e){var j=this.helper,m=this.originalMousePosition,r=this._change[this.axis];if(!r)return false;m=r.apply(this,[e,e.pageX-m.left||0,e.pageY-m.top||0]);if(this._aspectRatio||e.shiftKey)m=this._updateRatio(m,e);m=this._respectSize(m,e);this._propagate("resize",
e);j.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize();this._updateCache(m);this._trigger("resize",e,this.ui());return false},_mouseStop:function(e){this.resizing=false;var j=this.options;if(this._helper){var m=this._proportionallyResizeElements,r=m.length&&/textarea/i.test(m[0].nodeName);m=r&&a.ui.hasScroll(m[0],"left")?0:this.sizeDiff.height;
r={width:this.size.width-(r?0:this.sizeDiff.width),height:this.size.height-m};m=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null;var F=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;j.animate||this.element.css(a.extend(r,{top:F,left:m}));this.helper.height(this.size.height);this.helper.width(this.size.width);this._helper&&!j.animate&&this._proportionallyResize()}a("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");
this._propagate("stop",e);this._helper&&this.helper.remove();return false},_updateCache:function(e){this.offset=this.helper.offset();if(g(e.left))this.position.left=e.left;if(g(e.top))this.position.top=e.top;if(g(e.height))this.size.height=e.height;if(g(e.width))this.size.width=e.width},_updateRatio:function(e){var j=this.position,m=this.size,r=this.axis;if(e.height)e.width=m.height*this.aspectRatio;else if(e.width)e.height=m.width/this.aspectRatio;if(r=="sw"){e.left=j.left+(m.width-e.width);e.top=
null}if(r=="nw"){e.top=j.top+(m.height-e.height);e.left=j.left+(m.width-e.width)}return e},_respectSize:function(e){var j=this.options,m=this.axis,r=g(e.width)&&j.maxWidth&&j.maxWidth<e.width,F=g(e.height)&&j.maxHeight&&j.maxHeight<e.height,G=g(e.width)&&j.minWidth&&j.minWidth>e.width,C=g(e.height)&&j.minHeight&&j.minHeight>e.height;if(G)e.width=j.minWidth;if(C)e.height=j.minHeight;if(r)e.width=j.maxWidth;if(F)e.height=j.maxHeight;var v=this.originalPosition.left+this.originalSize.width,u=this.position.top+
this.size.height,n=/sw|nw|w/.test(m);m=/nw|ne|n/.test(m);if(G&&n)e.left=v-j.minWidth;if(r&&n)e.left=v-j.maxWidth;if(C&&m)e.top=u-j.minHeight;if(F&&m)e.top=u-j.maxHeight;if((j=!e.width&&!e.height)&&!e.left&&e.top)e.top=null;else if(j&&!e.top&&e.left)e.left=null;return e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e=this.helper||this.element,j=0;j<this._proportionallyResizeElements.length;j++){var m=this._proportionallyResizeElements[j];if(!this.borderDif){var r=
[m.css("borderTopWidth"),m.css("borderRightWidth"),m.css("borderBottomWidth"),m.css("borderLeftWidth")],F=[m.css("paddingTop"),m.css("paddingRight"),m.css("paddingBottom"),m.css("paddingLeft")];this.borderDif=a.map(r,function(G,C){G=parseInt(G,10)||0;C=parseInt(F[C],10)||0;return G+C})}a.browser.msie&&(a(e).is(":hidden")||a(e).parents(":hidden").length)||m.css({height:e.height()-this.borderDif[0]-this.borderDif[2]||0,width:e.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var e=
this.options;this.elementOffset=this.element.offset();if(this._helper){this.helper=this.helper||a('<div style="overflow:hidden;"></div>');var j=a.browser.msie&&a.browser.version<7,m=j?1:0;j=j?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+j,height:this.element.outerHeight()+j,position:"absolute",left:this.elementOffset.left-m+"px",top:this.elementOffset.top-m+"px",zIndex:++e.zIndex});this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(e,
j){return{width:this.originalSize.width+j}},w:function(e,j){return{left:this.originalPosition.left+j,width:this.originalSize.width-j}},n:function(e,j,m){return{top:this.originalPosition.top+m,height:this.originalSize.height-m}},s:function(e,j,m){return{height:this.originalSize.height+m}},se:function(e,j,m){return a.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,j,m]))},sw:function(e,j,m){return a.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,j,
m]))},ne:function(e,j,m){return a.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,j,m]))},nw:function(e,j,m){return a.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,j,m]))}},_propagate:function(e,j){a.ui.plugin.call(this,e,[j,this.ui()]);e!="resize"&&this._trigger(e,j,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,
originalPosition:this.originalPosition}}});a.extend(a.ui.resizable,{version:"1.8.4"});a.ui.plugin.add("resizable","alsoResize",{start:function(){var e=a(this).data("resizable").options,j=function(m){a(m).each(function(){var r=a(this);r.data("resizable-alsoresize",{width:parseInt(r.width(),10),height:parseInt(r.height(),10),left:parseInt(r.css("left"),10),top:parseInt(r.css("top"),10),position:r.css("position")})})};if(typeof e.alsoResize=="object"&&!e.alsoResize.parentNode)if(e.alsoResize.length){e.alsoResize=
e.alsoResize[0];j(e.alsoResize)}else a.each(e.alsoResize,function(m){j(m)});else j(e.alsoResize)},resize:function(e,j){var m=a(this).data("resizable");e=m.options;var r=m.originalSize,F=m.originalPosition,G={height:m.size.height-r.height||0,width:m.size.width-r.width||0,top:m.position.top-F.top||0,left:m.position.left-F.left||0},C=function(v,u){a(v).each(function(){var n=a(this),t=a(this).data("resizable-alsoresize"),y={},i=u&&u.length?u:n.parents(j.originalElement[0]).length?["width","height"]:["width",
"height","top","left"];a.each(i,function(X,Z){if((X=(t[Z]||0)+(G[Z]||0))&&X>=0)y[Z]=X||null});if(a.browser.opera&&/relative/.test(n.css("position"))){m._revertToRelativePosition=true;n.css({position:"absolute",top:"auto",left:"auto"})}n.css(y)})};typeof e.alsoResize=="object"&&!e.alsoResize.nodeType?a.each(e.alsoResize,function(v,u){C(v,u)}):C(e.alsoResize)},stop:function(){var e=a(this).data("resizable"),j=e.options,m=function(r){a(r).each(function(){var F=a(this);F.css({position:F.data("resizable-alsoresize").position})})};
if(e._revertToRelativePosition){e._revertToRelativePosition=false;typeof j.alsoResize=="object"&&!j.alsoResize.nodeType?a.each(j.alsoResize,function(r){m(r)}):m(j.alsoResize)}a(this).removeData("resizable-alsoresize")}});a.ui.plugin.add("resizable","animate",{stop:function(e){var j=a(this).data("resizable"),m=j.options,r=j._proportionallyResizeElements,F=r.length&&/textarea/i.test(r[0].nodeName),G=F&&a.ui.hasScroll(r[0],"left")?0:j.sizeDiff.height;F={width:j.size.width-(F?0:j.sizeDiff.width),height:j.size.height-
G};G=parseInt(j.element.css("left"),10)+(j.position.left-j.originalPosition.left)||null;var C=parseInt(j.element.css("top"),10)+(j.position.top-j.originalPosition.top)||null;j.element.animate(a.extend(F,C&&G?{top:C,left:G}:{}),{duration:m.animateDuration,easing:m.animateEasing,step:function(){var v={width:parseInt(j.element.css("width"),10),height:parseInt(j.element.css("height"),10),top:parseInt(j.element.css("top"),10),left:parseInt(j.element.css("left"),10)};r&&r.length&&a(r[0]).css({width:v.width,
height:v.height});j._updateCache(v);j._propagate("resize",e)}})}});a.ui.plugin.add("resizable","containment",{start:function(){var e=a(this).data("resizable"),j=e.element,m=e.options.containment;if(j=m instanceof a?m.get(0):/parent/.test(m)?j.parent().get(0):m){e.containerElement=a(j);if(/document/.test(m)||m==document){e.containerOffset={left:0,top:0};e.containerPosition={left:0,top:0};e.parentData={element:a(document),left:0,top:0,width:a(document).width(),height:a(document).height()||document.body.parentNode.scrollHeight}}else{var r=
a(j),F=[];a(["Top","Right","Left","Bottom"]).each(function(v,u){F[v]=b(r.css("padding"+u))});e.containerOffset=r.offset();e.containerPosition=r.position();e.containerSize={height:r.innerHeight()-F[3],width:r.innerWidth()-F[1]};m=e.containerOffset;var G=e.containerSize.height,C=e.containerSize.width;C=a.ui.hasScroll(j,"left")?j.scrollWidth:C;G=a.ui.hasScroll(j)?j.scrollHeight:G;e.parentData={element:j,left:m.left,top:m.top,width:C,height:G}}}},resize:function(e){var j=a(this).data("resizable"),m=j.options,
r=j.containerOffset,F=j.position;e=j._aspectRatio||e.shiftKey;var G={top:0,left:0},C=j.containerElement;if(C[0]!=document&&/static/.test(C.css("position")))G=r;if(F.left<(j._helper?r.left:0)){j.size.width+=j._helper?j.position.left-r.left:j.position.left-G.left;if(e)j.size.height=j.size.width/m.aspectRatio;j.position.left=m.helper?r.left:0}if(F.top<(j._helper?r.top:0)){j.size.height+=j._helper?j.position.top-r.top:j.position.top;if(e)j.size.width=j.size.height*m.aspectRatio;j.position.top=j._helper?
r.top:0}j.offset.left=j.parentData.left+j.position.left;j.offset.top=j.parentData.top+j.position.top;m=Math.abs((j._helper?j.offset.left-G.left:j.offset.left-G.left)+j.sizeDiff.width);r=Math.abs((j._helper?j.offset.top-G.top:j.offset.top-r.top)+j.sizeDiff.height);F=j.containerElement.get(0)==j.element.parent().get(0);G=/relative|absolute/.test(j.containerElement.css("position"));if(F&&G)m-=j.parentData.left;if(m+j.size.width>=j.parentData.width){j.size.width=j.parentData.width-m;if(e)j.size.height=
j.size.width/j.aspectRatio}if(r+j.size.height>=j.parentData.height){j.size.height=j.parentData.height-r;if(e)j.size.width=j.size.height*j.aspectRatio}},stop:function(){var e=a(this).data("resizable"),j=e.options,m=e.containerOffset,r=e.containerPosition,F=e.containerElement,G=a(e.helper),C=G.offset(),v=G.outerWidth()-e.sizeDiff.width;G=G.outerHeight()-e.sizeDiff.height;e._helper&&!j.animate&&/relative/.test(F.css("position"))&&a(this).css({left:C.left-r.left-m.left,width:v,height:G});e._helper&&!j.animate&&
/static/.test(F.css("position"))&&a(this).css({left:C.left-r.left-m.left,width:v,height:G})}});a.ui.plugin.add("resizable","ghost",{start:function(){var e=a(this).data("resizable"),j=e.options,m=e.size;e.ghost=e.originalElement.clone();e.ghost.css({opacity:0.25,display:"block",position:"relative",height:m.height,width:m.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof j.ghost=="string"?j.ghost:"");e.ghost.appendTo(e.helper)},resize:function(){var e=a(this).data("resizable");
e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=a(this).data("resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}});a.ui.plugin.add("resizable","grid",{resize:function(){var e=a(this).data("resizable"),j=e.options,m=e.size,r=e.originalSize,F=e.originalPosition,G=e.axis;j.grid=typeof j.grid=="number"?[j.grid,j.grid]:j.grid;var C=Math.round((m.width-r.width)/(j.grid[0]||1))*(j.grid[0]||1);j=Math.round((m.height-r.height)/
(j.grid[1]||1))*(j.grid[1]||1);if(/^(se|s|e)$/.test(G)){e.size.width=r.width+C;e.size.height=r.height+j}else if(/^(ne)$/.test(G)){e.size.width=r.width+C;e.size.height=r.height+j;e.position.top=F.top-j}else{if(/^(sw)$/.test(G)){e.size.width=r.width+C;e.size.height=r.height+j}else{e.size.width=r.width+C;e.size.height=r.height+j;e.position.top=F.top-j}e.position.left=F.left-C}}});var b=function(e){return parseInt(e,10)||0},g=function(e){return!isNaN(parseInt(e,10))}})(jQuery);
(function(a){a.widget("ui.selectable",a.ui.mouse,{options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch"},_create:function(){var b=this;this.element.addClass("ui-selectable");this.dragged=false;var g;this.refresh=function(){g=a(b.options.filter,b.element[0]);g.each(function(){var e=a(this),j=e.offset();a.data(this,"selectable-item",{element:this,$element:e,left:j.left,top:j.top,right:j.left+e.outerWidth(),bottom:j.top+e.outerHeight(),startselected:false,selected:e.hasClass("ui-selected"),
selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})};this.refresh();this.selectees=g.addClass("ui-selectee");this._mouseInit();this.helper=a("<div class='ui-selectable-helper'></div>")},destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled").removeData("selectable").unbind(".selectable");this._mouseDestroy();return this},_mouseStart:function(b){var g=this;this.opos=[b.pageX,
b.pageY];if(!this.options.disabled){var e=this.options;this.selectees=a(e.filter,this.element[0]);this._trigger("start",b);a(e.appendTo).append(this.helper);this.helper.css({left:b.clientX,top:b.clientY,width:0,height:0});e.autoRefresh&&this.refresh();this.selectees.filter(".ui-selected").each(function(){var j=a.data(this,"selectable-item");j.startselected=true;if(!b.metaKey){j.$element.removeClass("ui-selected");j.selected=false;j.$element.addClass("ui-unselecting");j.unselecting=true;g._trigger("unselecting",
b,{unselecting:j.element})}});a(b.target).parents().andSelf().each(function(){var j=a.data(this,"selectable-item");if(j){var m=!b.metaKey||!j.$element.hasClass("ui-selected");j.$element.removeClass(m?"ui-unselecting":"ui-selected").addClass(m?"ui-selecting":"ui-unselecting");j.unselecting=!m;j.selecting=m;(j.selected=m)?g._trigger("selecting",b,{selecting:j.element}):g._trigger("unselecting",b,{unselecting:j.element});return false}})}},_mouseDrag:function(b){var g=this;this.dragged=true;if(!this.options.disabled){var e=
this.options,j=this.opos[0],m=this.opos[1],r=b.pageX,F=b.pageY;if(j>r){var G=r;r=j;j=G}if(m>F){G=F;F=m;m=G}this.helper.css({left:j,top:m,width:r-j,height:F-m});this.selectees.each(function(){var C=a.data(this,"selectable-item");if(!(!C||C.element==g.element[0])){var v=false;if(e.tolerance=="touch")v=!(C.left>r||C.right<j||C.top>F||C.bottom<m);else if(e.tolerance=="fit")v=C.left>j&&C.right<r&&C.top>m&&C.bottom<F;if(v){if(C.selected){C.$element.removeClass("ui-selected");C.selected=false}if(C.unselecting){C.$element.removeClass("ui-unselecting");
C.unselecting=false}if(!C.selecting){C.$element.addClass("ui-selecting");C.selecting=true;g._trigger("selecting",b,{selecting:C.element})}}else{if(C.selecting)if(b.metaKey&&C.startselected){C.$element.removeClass("ui-selecting");C.selecting=false;C.$element.addClass("ui-selected");C.selected=true}else{C.$element.removeClass("ui-selecting");C.selecting=false;if(C.startselected){C.$element.addClass("ui-unselecting");C.unselecting=true}g._trigger("unselecting",b,{unselecting:C.element})}if(C.selected)if(!b.metaKey&&
!C.startselected){C.$element.removeClass("ui-selected");C.selected=false;C.$element.addClass("ui-unselecting");C.unselecting=true;g._trigger("unselecting",b,{unselecting:C.element})}}}});return false}},_mouseStop:function(b){var g=this;this.dragged=false;a(".ui-unselecting",this.element[0]).each(function(){var e=a.data(this,"selectable-item");e.$element.removeClass("ui-unselecting");e.unselecting=false;e.startselected=false;g._trigger("unselected",b,{unselected:e.element})});a(".ui-selecting",this.element[0]).each(function(){var e=
a.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected");e.selecting=false;e.selected=true;e.startselected=true;g._trigger("selected",b,{selected:e.element})});this._trigger("stop",b);this.helper.remove();return false}});a.extend(a.ui.selectable,{version:"1.8.4"})})(jQuery);
(function(a){a.widget("ui.sortable",a.ui.mouse,{widgetEventPrefix:"sort",options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1E3},_create:function(){this.containerCache={};this.element.addClass("ui-sortable");
this.refresh();this.floating=this.items.length?/left|right/.test(this.items[0].item.css("float")):false;this.offset=this.element.offset();this._mouseInit()},destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").removeData("sortable").unbind(".sortable");this._mouseDestroy();for(var b=this.items.length-1;b>=0;b--)this.items[b].item.removeData("sortable-item");return this},_setOption:function(b,g){if(b==="disabled"){this.options[b]=g;this.widget()[g?"addClass":"removeClass"]("ui-sortable-disabled")}else a.Widget.prototype._setOption.apply(this,
arguments)},_mouseCapture:function(b,g){if(this.reverting)return false;if(this.options.disabled||this.options.type=="static")return false;this._refreshItems(b);var e=null,j=this;a(b.target).parents().each(function(){if(a.data(this,"sortable-item")==j){e=a(this);return false}});if(a.data(b.target,"sortable-item")==j)e=a(b.target);if(!e)return false;if(this.options.handle&&!g){var m=false;a(this.options.handle,e).find("*").andSelf().each(function(){if(this==b.target)m=true});if(!m)return false}this.currentItem=
e;this._removeCurrentsFromItems();return true},_mouseStart:function(b,g,e){g=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(b);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");a.extend(this.offset,
{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt);this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};this.helper[0]!=this.currentItem[0]&&this.currentItem.hide();this._createPlaceholder();g.containment&&this._setContainment();
if(g.cursor){if(a("body").css("cursor"))this._storedCursor=a("body").css("cursor");a("body").css("cursor",g.cursor)}if(g.opacity){if(this.helper.css("opacity"))this._storedOpacity=this.helper.css("opacity");this.helper.css("opacity",g.opacity)}if(g.zIndex){if(this.helper.css("zIndex"))this._storedZIndex=this.helper.css("zIndex");this.helper.css("zIndex",g.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML")this.overflowOffset=this.scrollParent.offset();this._trigger("start",
b,this._uiHash());this._preserveHelperProportions||this._cacheHelperProportions();if(!e)for(e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("activate",b,this._uiHash(this));if(a.ui.ddmanager)a.ui.ddmanager.current=this;a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(b);return true},_mouseDrag:function(b){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");
if(!this.lastPositionAbs)this.lastPositionAbs=this.positionAbs;if(this.options.scroll){var g=this.options,e=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if(this.overflowOffset.top+this.scrollParent[0].offsetHeight-b.pageY<g.scrollSensitivity)this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop+g.scrollSpeed;else if(b.pageY-this.overflowOffset.top<g.scrollSensitivity)this.scrollParent[0].scrollTop=e=this.scrollParent[0].scrollTop-g.scrollSpeed;if(this.overflowOffset.left+
this.scrollParent[0].offsetWidth-b.pageX<g.scrollSensitivity)this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft+g.scrollSpeed;else if(b.pageX-this.overflowOffset.left<g.scrollSensitivity)this.scrollParent[0].scrollLeft=e=this.scrollParent[0].scrollLeft-g.scrollSpeed}else{if(b.pageY-a(document).scrollTop()<g.scrollSensitivity)e=a(document).scrollTop(a(document).scrollTop()-g.scrollSpeed);else if(a(window).height()-(b.pageY-a(document).scrollTop())<g.scrollSensitivity)e=a(document).scrollTop(a(document).scrollTop()+
g.scrollSpeed);if(b.pageX-a(document).scrollLeft()<g.scrollSensitivity)e=a(document).scrollLeft(a(document).scrollLeft()-g.scrollSpeed);else if(a(window).width()-(b.pageX-a(document).scrollLeft())<g.scrollSensitivity)e=a(document).scrollLeft(a(document).scrollLeft()+g.scrollSpeed)}e!==false&&a.ui.ddmanager&&!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b)}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+
"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+"px";for(g=this.items.length-1;g>=0;g--){e=this.items[g];var j=e.item[0],m=this._intersectsWithPointer(e);if(m)if(j!=this.currentItem[0]&&this.placeholder[m==1?"next":"prev"]()[0]!=j&&!a.ui.contains(this.placeholder[0],j)&&(this.options.type=="semi-dynamic"?!a.ui.contains(this.element[0],j):true)){this.direction=m==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(e))this._rearrange(b,
e);else break;this._trigger("change",b,this._uiHash());break}}this._contactContainers(b);a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);this._trigger("sort",b,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(b,g){if(b){a.ui.ddmanager&&!this.options.dropBehaviour&&a.ui.ddmanager.drop(this,b);if(this.options.revert){var e=this;g=e.placeholder.offset();e.reverting=true;a(this.helper).animate({left:g.left-this.offset.parent.left-e.margins.left+(this.offsetParent[0]==
document.body?0:this.offsetParent[0].scrollLeft),top:g.top-this.offset.parent.top-e.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){e._clear(b)})}else this._clear(b,g);return false}},cancel:function(){if(this.dragging){this._mouseUp();this.options.helper=="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var b=this.containers.length-1;b>=0;b--){this.containers[b]._trigger("deactivate",
null,this._uiHash(this));if(this.containers[b].containerCache.over){this.containers[b]._trigger("out",null,this._uiHash(this));this.containers[b].containerCache.over=0}}}this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]);this.options.helper!="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove();a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});this.domPosition.prev?a(this.domPosition.prev).after(this.currentItem):
a(this.domPosition.parent).prepend(this.currentItem);return this},serialize:function(b){var g=this._getItemsAsjQuery(b&&b.connected),e=[];b=b||{};a(g).each(function(){var j=(a(b.item||this).attr(b.attribute||"id")||"").match(b.expression||/(.+)[-=_](.+)/);if(j)e.push((b.key||j[1]+"[]")+"="+(b.key&&b.expression?j[1]:j[2]))});!e.length&&b.key&&e.push(b.key+"=");return e.join("&")},toArray:function(b){var g=this._getItemsAsjQuery(b&&b.connected),e=[];b=b||{};g.each(function(){e.push(a(b.item||this).attr(b.attribute||
"id")||"")});return e},_intersectsWith:function(b){var g=this.positionAbs.left,e=g+this.helperProportions.width,j=this.positionAbs.top,m=j+this.helperProportions.height,r=b.left,F=r+b.width,G=b.top,C=G+b.height,v=this.offset.click.top,u=this.offset.click.left;v=j+v>G&&j+v<C&&g+u>r&&g+u<F;return this.options.tolerance=="pointer"||this.options.forcePointerForContainers||this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>b[this.floating?"width":"height"]?v:r<g+
this.helperProportions.width/2&&e-this.helperProportions.width/2<F&&G<j+this.helperProportions.height/2&&m-this.helperProportions.height/2<C},_intersectsWithPointer:function(b){var g=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left,b.width);g=g&&b;b=this._getDragVerticalDirection();var e=this._getDragHorizontalDirection();if(!g)return false;return this.floating?e&&e=="right"||b=="down"?2:1:b&&(b=="down"?
2:1)},_intersectsWithSides:function(b){var g=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,b.top+b.height/2,b.height);b=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,b.left+b.width/2,b.width);var e=this._getDragVerticalDirection(),j=this._getDragHorizontalDirection();return this.floating&&j?j=="right"&&b||j=="left"&&!b:e&&(e=="down"&&g||e=="up"&&!g)},_getDragVerticalDirection:function(){var b=this.positionAbs.top-this.lastPositionAbs.top;return b!=0&&(b>0?"down":"up")},
_getDragHorizontalDirection:function(){var b=this.positionAbs.left-this.lastPositionAbs.left;return b!=0&&(b>0?"right":"left")},refresh:function(b){this._refreshItems(b);this.refreshPositions();return this},_connectWith:function(){var b=this.options;return b.connectWith.constructor==String?[b.connectWith]:b.connectWith},_getItemsAsjQuery:function(b){var g=[],e=[],j=this._connectWith();if(j&&b)for(b=j.length-1;b>=0;b--)for(var m=a(j[b]),r=m.length-1;r>=0;r--){var F=a.data(m[r],"sortable");if(F&&F!=
this&&!F.options.disabled)e.push([a.isFunction(F.options.items)?F.options.items.call(F.element):a(F.options.items,F.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),F])}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(b=e.length-1;b>=0;b--)e[b][0].each(function(){g.push(this)});return a(g)},_removeCurrentsFromItems:function(){for(var b=
this.currentItem.find(":data(sortable-item)"),g=0;g<this.items.length;g++)for(var e=0;e<b.length;e++)b[e]==this.items[g].item[0]&&this.items.splice(g,1)},_refreshItems:function(b){this.items=[];this.containers=[this];var g=this.items,e=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],b,{item:this.currentItem}):a(this.options.items,this.element),this]],j=this._connectWith();if(j)for(var m=j.length-1;m>=0;m--)for(var r=a(j[m]),F=r.length-1;F>=0;F--){var G=a.data(r[F],"sortable");
if(G&&G!=this&&!G.options.disabled){e.push([a.isFunction(G.options.items)?G.options.items.call(G.element[0],b,{item:this.currentItem}):a(G.options.items,G.element),G]);this.containers.push(G)}}for(m=e.length-1;m>=0;m--){b=e[m][1];j=e[m][0];F=0;for(r=j.length;F<r;F++){G=a(j[F]);G.data("sortable-item",b);g.push({item:G,instance:b,width:0,height:0,left:0,top:0})}}},refreshPositions:function(b){if(this.offsetParent&&this.helper)this.offset.parent=this._getParentOffset();for(var g=this.items.length-1;g>=
0;g--){var e=this.items[g],j=this.options.toleranceElement?a(this.options.toleranceElement,e.item):e.item;if(!b){e.width=j.outerWidth();e.height=j.outerHeight()}j=j.offset();e.left=j.left;e.top=j.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(g=this.containers.length-1;g>=0;g--){j=this.containers[g].element.offset();this.containers[g].containerCache.left=j.left;this.containers[g].containerCache.top=j.top;this.containers[g].containerCache.width=
this.containers[g].element.outerWidth();this.containers[g].containerCache.height=this.containers[g].element.outerHeight()}return this},_createPlaceholder:function(b){var g=b||this,e=g.options;if(!e.placeholder||e.placeholder.constructor==String){var j=e.placeholder;e.placeholder={element:function(){var m=a(document.createElement(g.currentItem[0].nodeName)).addClass(j||g.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!j)m.style.visibility="hidden";return m},
update:function(m,r){if(!(j&&!e.forcePlaceholderSize)){r.height()||r.height(g.currentItem.innerHeight()-parseInt(g.currentItem.css("paddingTop")||0,10)-parseInt(g.currentItem.css("paddingBottom")||0,10));r.width()||r.width(g.currentItem.innerWidth()-parseInt(g.currentItem.css("paddingLeft")||0,10)-parseInt(g.currentItem.css("paddingRight")||0,10))}}}}g.placeholder=a(e.placeholder.element.call(g.element,g.currentItem));g.currentItem.after(g.placeholder);e.placeholder.update(g,g.placeholder)},_contactContainers:function(b){for(var g=
null,e=null,j=this.containers.length-1;j>=0;j--)if(!a.ui.contains(this.currentItem[0],this.containers[j].element[0]))if(this._intersectsWith(this.containers[j].containerCache)){if(!(g&&a.ui.contains(this.containers[j].element[0],g.element[0]))){g=this.containers[j];e=j}}else if(this.containers[j].containerCache.over){this.containers[j]._trigger("out",b,this._uiHash(this));this.containers[j].containerCache.over=0}if(g)if(this.containers.length===1){this.containers[e]._trigger("over",b,this._uiHash(this));
this.containers[e].containerCache.over=1}else if(this.currentContainer!=this.containers[e]){g=1E4;j=null;for(var m=this.positionAbs[this.containers[e].floating?"left":"top"],r=this.items.length-1;r>=0;r--)if(a.ui.contains(this.containers[e].element[0],this.items[r].item[0])){var F=this.items[r][this.containers[e].floating?"left":"top"];if(Math.abs(F-m)<g){g=Math.abs(F-m);j=this.items[r]}}if(j||this.options.dropOnEmpty){this.currentContainer=this.containers[e];j?this._rearrange(b,j,null,true):this._rearrange(b,
null,this.containers[e].element,true);this._trigger("change",b,this._uiHash());this.containers[e]._trigger("change",b,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[e]._trigger("over",b,this._uiHash(this));this.containers[e].containerCache.over=1}}},_createHelper:function(b){var g=this.options;b=a.isFunction(g.helper)?a(g.helper.apply(this.element[0],[b,this.currentItem])):g.helper=="clone"?this.currentItem.clone():this.currentItem;b.parents("body").length||
a(g.appendTo!="parent"?g.appendTo:this.currentItem[0].parentNode)[0].appendChild(b[0]);if(b[0]==this.currentItem[0])this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};if(b[0].style.width==""||g.forceHelperSize)b.width(this.currentItem.width());if(b[0].style.height==""||g.forceHelperSize)b.height(this.currentItem.height());return b},_adjustOffsetFromHelper:function(b){if(typeof b==
"string")b=b.split(" ");if(a.isArray(b))b={left:+b[0],top:+b[1]||0};if("left"in b)this.offset.click.left=b.left+this.margins.left;if("right"in b)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if("top"in b)this.offset.click.top=b.top+this.margins.top;if("bottom"in b)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition==
"absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==
"relative"){var b=this.currentItem.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},
_setContainment:function(){var b=this.options;if(b.containment=="parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-
this.margins.top];if(!/^(document|window|parent)$/.test(b.containment)){var g=a(b.containment)[0];b=a(b.containment).offset();var e=a(g).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(g).css("borderLeftWidth"),10)||0)+(parseInt(a(g).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(g).css("borderTopWidth"),10)||0)+(parseInt(a(g).css("paddingTop"),10)||0)-this.margins.top,b.left+(e?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(a(g).css("borderLeftWidth"),
10)||0)-(parseInt(a(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(e?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(a(g).css("borderTopWidth"),10)||0)-(parseInt(a(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(b,g){if(!g)g=this.position;b=b=="absolute"?1:-1;var e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?
this.offsetParent:this.scrollParent,j=/(html|body)/i.test(e[0].tagName);return{top:g.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():j?0:e.scrollTop())*b),left:g.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:e.scrollLeft())*b)}},_generatePosition:function(b){var g=
this.options,e=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=/(html|body)/i.test(e[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var m=b.pageX,r=b.pageY;if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0])m=this.containment[0]+
this.offset.click.left;if(b.pageY-this.offset.click.top<this.containment[1])r=this.containment[1]+this.offset.click.top;if(b.pageX-this.offset.click.left>this.containment[2])m=this.containment[2]+this.offset.click.left;if(b.pageY-this.offset.click.top>this.containment[3])r=this.containment[3]+this.offset.click.top}if(g.grid){r=this.originalPageY+Math.round((r-this.originalPageY)/g.grid[1])*g.grid[1];r=this.containment?!(r-this.offset.click.top<this.containment[1]||r-this.offset.click.top>this.containment[3])?
r:!(r-this.offset.click.top<this.containment[1])?r-g.grid[1]:r+g.grid[1]:r;m=this.originalPageX+Math.round((m-this.originalPageX)/g.grid[0])*g.grid[0];m=this.containment?!(m-this.offset.click.left<this.containment[0]||m-this.offset.click.left>this.containment[2])?m:!(m-this.offset.click.left<this.containment[0])?m-g.grid[0]:m+g.grid[0]:m}}return{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():
j?0:e.scrollTop()),left:m-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:e.scrollLeft())}},_rearrange:function(b,g,e,j){e?e[0].appendChild(this.placeholder[0]):g.item[0].parentNode.insertBefore(this.placeholder[0],this.direction=="down"?g.item[0]:g.item[0].nextSibling);this.counter=this.counter?++this.counter:1;var m=this,r=this.counter;window.setTimeout(function(){r==
m.counter&&m.refreshPositions(!j)},0)},_clear:function(b,g){this.reverting=false;var e=[];!this._noFinalSort&&this.currentItem[0].parentNode&&this.placeholder.before(this.currentItem);this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var j in this._storedCSS)if(this._storedCSS[j]=="auto"||this._storedCSS[j]=="static")this._storedCSS[j]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!g&&e.push(function(m){this._trigger("receive",
m,this._uiHash(this.fromOutside))});if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!g)e.push(function(m){this._trigger("update",m,this._uiHash())});if(!a.ui.contains(this.element[0],this.currentItem[0])){g||e.push(function(m){this._trigger("remove",m,this._uiHash())});for(j=this.containers.length-1;j>=0;j--)if(a.ui.contains(this.containers[j].element[0],this.currentItem[0])&&!g){e.push(function(m){return function(r){m._trigger("receive",
r,this._uiHash(this))}}.call(this,this.containers[j]));e.push(function(m){return function(r){m._trigger("update",r,this._uiHash(this))}}.call(this,this.containers[j]))}}for(j=this.containers.length-1;j>=0;j--){g||e.push(function(m){return function(r){m._trigger("deactivate",r,this._uiHash(this))}}.call(this,this.containers[j]));if(this.containers[j].containerCache.over){e.push(function(m){return function(r){m._trigger("out",r,this._uiHash(this))}}.call(this,this.containers[j]));this.containers[j].containerCache.over=
0}}this._storedCursor&&a("body").css("cursor",this._storedCursor);this._storedOpacity&&this.helper.css("opacity",this._storedOpacity);if(this._storedZIndex)this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex);this.dragging=false;if(this.cancelHelperRemoval){if(!g){this._trigger("beforeStop",b,this._uiHash());for(j=0;j<e.length;j++)e[j].call(this,b);this._trigger("stop",b,this._uiHash())}return false}g||this._trigger("beforeStop",b,this._uiHash());this.placeholder[0].parentNode.removeChild(this.placeholder[0]);
this.helper[0]!=this.currentItem[0]&&this.helper.remove();this.helper=null;if(!g){for(j=0;j<e.length;j++)e[j].call(this,b);this._trigger("stop",b,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){a.Widget.prototype._trigger.apply(this,arguments)===false&&this.cancel()},_uiHash:function(b){var g=b||this;return{helper:g.helper,placeholder:g.placeholder||a([]),position:g.position,originalPosition:g.originalPosition,offset:g.positionAbs,item:g.currentItem,sender:b?b.element:null}}});
a.extend(a.ui.sortable,{version:"1.8.4"})})(jQuery);
jQuery.effects||function(a,b){function g(v){var u;if(v&&v.constructor==Array&&v.length==3)return v;if(u=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(v))return[parseInt(u[1],10),parseInt(u[2],10),parseInt(u[3],10)];if(u=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(v))return[parseFloat(u[1])*2.55,parseFloat(u[2])*2.55,parseFloat(u[3])*2.55];if(u=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(v))return[parseInt(u[1],16),
parseInt(u[2],16),parseInt(u[3],16)];if(u=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(v))return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)];if(/rgba\(0, 0, 0, 0\)/.exec(v))return F.transparent;return F[a.trim(v).toLowerCase()]}function e(){var v=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,u={},n,t;if(v&&v.length&&v[0]&&v[v[0]])for(var y=v.length;y--;){n=v[y];if(typeof v[n]=="string"){t=n.replace(/\-(\w)/g,function(i,X){return X.toUpperCase()});
u[t]=v[n]}}else for(n in v)if(typeof v[n]==="string")u[n]=v[n];return u}function j(v){var u,n;for(u in v){n=v[u];if(n==null||a.isFunction(n)||u in C||/scrollbar/.test(u)||!/color/i.test(u)&&isNaN(parseFloat(n)))delete v[u]}return v}function m(v,u){var n={_:0},t;for(t in u)if(v[t]!=u[t])n[t]=u[t];return n}function r(v,u,n,t){if(typeof v=="object"){t=u;n=null;u=v;v=u.effect}if(a.isFunction(u)){t=u;n=null;u={}}if(typeof u=="number"||a.fx.speeds[u]){t=n;n=u;u={}}if(a.isFunction(n)){t=n;n=null}u=u||{};
n=n||u.duration;n=a.fx.off?0:typeof n=="number"?n:a.fx.speeds[n]||a.fx.speeds._default;t=t||u.complete;return[v,u,n,t]}a.effects={};a.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(v,u){a.fx.step[u]=function(n){if(!n.colorInit){var t;t=n.elem;var y=u,i;do{i=a.curCSS(t,y);if(i!=""&&i!="transparent"||a.nodeName(t,"body"))break;y="backgroundColor"}while(t=t.parentNode);t=g(i);n.start=t;n.end=g(n.end);n.colorInit=true}n.elem.style[u]=
"rgb("+Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1],10),255),0)+","+Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2],10),255),0)+")"}});var F={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,
0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,
203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},G=["add","remove","toggle"],C={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};a.effects.animateClass=function(v,u,n,t){if(a.isFunction(n)){t=n;n=null}return this.each(function(){var y=a(this),i=y.attr("style")||" ",X=j(e.call(this)),Z,K=y.attr("className");a.each(G,function(ha,ia){v[ia]&&y[ia+
"Class"](v[ia])});Z=j(e.call(this));y.attr("className",K);y.animate(m(X,Z),u,n,function(){a.each(G,function(ha,ia){v[ia]&&y[ia+"Class"](v[ia])});if(typeof y.attr("style")=="object"){y.attr("style").cssText="";y.attr("style").cssText=i}else y.attr("style",i);t&&t.apply(this,arguments)})})};a.fn.extend({_addClass:a.fn.addClass,addClass:function(v,u,n,t){return u?a.effects.animateClass.apply(this,[{add:v},u,n,t]):this._addClass(v)},_removeClass:a.fn.removeClass,removeClass:function(v,u,n,t){return u?
a.effects.animateClass.apply(this,[{remove:v},u,n,t]):this._removeClass(v)},_toggleClass:a.fn.toggleClass,toggleClass:function(v,u,n,t,y){return typeof u=="boolean"||u===b?n?a.effects.animateClass.apply(this,[u?{add:v}:{remove:v},n,t,y]):this._toggleClass(v,u):a.effects.animateClass.apply(this,[{toggle:v},u,n,t])},switchClass:function(v,u,n,t,y){return a.effects.animateClass.apply(this,[{add:u,remove:v},n,t,y])}});a.extend(a.effects,{version:"1.8.4",save:function(v,u){for(var n=0;n<u.length;n++)u[n]!==
null&&v.data("ec.storage."+u[n],v[0].style[u[n]])},restore:function(v,u){for(var n=0;n<u.length;n++)u[n]!==null&&v.css(u[n],v.data("ec.storage."+u[n]))},setMode:function(v,u){if(u=="toggle")u=v.is(":hidden")?"show":"hide";return u},getBaseline:function(v,u){var n;switch(v[0]){case "top":n=0;break;case "middle":n=0.5;break;case "bottom":n=1;break;default:n=v[0]/u.height}switch(v[1]){case "left":v=0;break;case "center":v=0.5;break;case "right":v=1;break;default:v=v[1]/u.width}return{x:v,y:n}},createWrapper:function(v){if(v.parent().is(".ui-effects-wrapper"))return v.parent();
var u={width:v.outerWidth(true),height:v.outerHeight(true),"float":v.css("float")},n=a("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0});v.wrap(n);n=v.parent();if(v.css("position")=="static"){n.css({position:"relative"});v.css({position:"relative"})}else{a.extend(u,{position:v.css("position"),zIndex:v.css("z-index")});a.each(["top","left","bottom","right"],function(t,y){u[y]=v.css(y);if(isNaN(parseInt(u[y],10)))u[y]="auto"});
v.css({position:"relative",top:0,left:0})}return n.css(u).show()},removeWrapper:function(v){if(v.parent().is(".ui-effects-wrapper"))return v.parent().replaceWith(v);return v},setTransition:function(v,u,n,t){t=t||{};a.each(u,function(y,i){unit=v.cssUnit(i);if(unit[0]>0)t[i]=unit[0]*n+unit[1]});return t}});a.fn.extend({effect:function(v){var u=r.apply(this,arguments);u={options:u[1],duration:u[2],callback:u[3]};var n=a.effects[v];return n&&!a.fx.off?n.call(this,u):this},_show:a.fn.show,show:function(v){if(!v||
typeof v=="number"||a.fx.speeds[v])return this._show.apply(this,arguments);else{var u=r.apply(this,arguments);u[1].mode="show";return this.effect.apply(this,u)}},_hide:a.fn.hide,hide:function(v){if(!v||typeof v=="number"||a.fx.speeds[v])return this._hide.apply(this,arguments);else{var u=r.apply(this,arguments);u[1].mode="hide";return this.effect.apply(this,u)}},__toggle:a.fn.toggle,toggle:function(v){if(!v||typeof v=="number"||a.fx.speeds[v]||typeof v=="boolean"||a.isFunction(v))return this.__toggle.apply(this,
arguments);else{var u=r.apply(this,arguments);u[1].mode="toggle";return this.effect.apply(this,u)}},cssUnit:function(v){var u=this.css(v),n=[];a.each(["em","px","%","pt"],function(t,y){if(u.indexOf(y)>0)n=[parseFloat(u),y]});return n}});a.easing.jswing=a.easing.swing;a.extend(a.easing,{def:"easeOutQuad",swing:function(v,u,n,t,y){return a.easing[a.easing.def](v,u,n,t,y)},easeInQuad:function(v,u,n,t,y){return t*(u/=y)*u+n},easeOutQuad:function(v,u,n,t,y){return-t*(u/=y)*(u-2)+n},easeInOutQuad:function(v,
u,n,t,y){if((u/=y/2)<1)return t/2*u*u+n;return-t/2*(--u*(u-2)-1)+n},easeInCubic:function(v,u,n,t,y){return t*(u/=y)*u*u+n},easeOutCubic:function(v,u,n,t,y){return t*((u=u/y-1)*u*u+1)+n},easeInOutCubic:function(v,u,n,t,y){if((u/=y/2)<1)return t/2*u*u*u+n;return t/2*((u-=2)*u*u+2)+n},easeInQuart:function(v,u,n,t,y){return t*(u/=y)*u*u*u+n},easeOutQuart:function(v,u,n,t,y){return-t*((u=u/y-1)*u*u*u-1)+n},easeInOutQuart:function(v,u,n,t,y){if((u/=y/2)<1)return t/2*u*u*u*u+n;return-t/2*((u-=2)*u*u*u-2)+
n},easeInQuint:function(v,u,n,t,y){return t*(u/=y)*u*u*u*u+n},easeOutQuint:function(v,u,n,t,y){return t*((u=u/y-1)*u*u*u*u+1)+n},easeInOutQuint:function(v,u,n,t,y){if((u/=y/2)<1)return t/2*u*u*u*u*u+n;return t/2*((u-=2)*u*u*u*u+2)+n},easeInSine:function(v,u,n,t,y){return-t*Math.cos(u/y*(Math.PI/2))+t+n},easeOutSine:function(v,u,n,t,y){return t*Math.sin(u/y*(Math.PI/2))+n},easeInOutSine:function(v,u,n,t,y){return-t/2*(Math.cos(Math.PI*u/y)-1)+n},easeInExpo:function(v,u,n,t,y){return u==0?n:t*Math.pow(2,
10*(u/y-1))+n},easeOutExpo:function(v,u,n,t,y){return u==y?n+t:t*(-Math.pow(2,-10*u/y)+1)+n},easeInOutExpo:function(v,u,n,t,y){if(u==0)return n;if(u==y)return n+t;if((u/=y/2)<1)return t/2*Math.pow(2,10*(u-1))+n;return t/2*(-Math.pow(2,-10*--u)+2)+n},easeInCirc:function(v,u,n,t,y){return-t*(Math.sqrt(1-(u/=y)*u)-1)+n},easeOutCirc:function(v,u,n,t,y){return t*Math.sqrt(1-(u=u/y-1)*u)+n},easeInOutCirc:function(v,u,n,t,y){if((u/=y/2)<1)return-t/2*(Math.sqrt(1-u*u)-1)+n;return t/2*(Math.sqrt(1-(u-=2)*
u)+1)+n},easeInElastic:function(v,u,n,t,y){var i=0,X=t;if(u==0)return n;if((u/=y)==1)return n+t;i||(i=y*0.3);if(X<Math.abs(t)){X=t;v=i/4}else v=i/(2*Math.PI)*Math.asin(t/X);return-(X*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*2*Math.PI/i))+n},easeOutElastic:function(v,u,n,t,y){var i=0,X=t;if(u==0)return n;if((u/=y)==1)return n+t;i||(i=y*0.3);if(X<Math.abs(t)){X=t;v=i/4}else v=i/(2*Math.PI)*Math.asin(t/X);return X*Math.pow(2,-10*u)*Math.sin((u*y-v)*2*Math.PI/i)+t+n},easeInOutElastic:function(v,u,n,t,y){var i=
0,X=t;if(u==0)return n;if((u/=y/2)==2)return n+t;i||(i=y*0.3*1.5);if(X<Math.abs(t)){X=t;v=i/4}else v=i/(2*Math.PI)*Math.asin(t/X);if(u<1)return-0.5*X*Math.pow(2,10*(u-=1))*Math.sin((u*y-v)*2*Math.PI/i)+n;return X*Math.pow(2,-10*(u-=1))*Math.sin((u*y-v)*2*Math.PI/i)*0.5+t+n},easeInBack:function(v,u,n,t,y,i){if(i==b)i=1.70158;return t*(u/=y)*u*((i+1)*u-i)+n},easeOutBack:function(v,u,n,t,y,i){if(i==b)i=1.70158;return t*((u=u/y-1)*u*((i+1)*u+i)+1)+n},easeInOutBack:function(v,u,n,t,y,i){if(i==b)i=1.70158;
if((u/=y/2)<1)return t/2*u*u*(((i*=1.525)+1)*u-i)+n;return t/2*((u-=2)*u*(((i*=1.525)+1)*u+i)+2)+n},easeInBounce:function(v,u,n,t,y){return t-a.easing.easeOutBounce(v,y-u,0,t,y)+n},easeOutBounce:function(v,u,n,t,y){return(u/=y)<1/2.75?t*7.5625*u*u+n:u<2/2.75?t*(7.5625*(u-=1.5/2.75)*u+0.75)+n:u<2.5/2.75?t*(7.5625*(u-=2.25/2.75)*u+0.9375)+n:t*(7.5625*(u-=2.625/2.75)*u+0.984375)+n},easeInOutBounce:function(v,u,n,t,y){if(u<y/2)return a.easing.easeInBounce(v,u*2,0,t,y)*0.5+n;return a.easing.easeOutBounce(v,
u*2-y,0,t,y)*0.5+t*0.5+n}})}(jQuery);
(function(a){a.effects.shake=function(b){return this.queue(function(){var g=a(this),e=["position","top","left"];a.effects.setMode(g,b.options.mode||"effect");var j=b.options.direction||"left",m=b.options.distance||20,r=b.options.times||3,F=b.duration||b.options.duration||140;a.effects.save(g,e);g.show();a.effects.createWrapper(g);var G=j=="up"||j=="down"?"top":"left",C=j=="up"||j=="left"?"pos":"neg";j={};var v={},u={};j[G]=(C=="pos"?"-=":"+=")+m;v[G]=(C=="pos"?"+=":"-=")+m*2;u[G]=(C=="pos"?"-=":"+=")+
m*2;g.animate(j,F,b.options.easing);for(m=1;m<r;m++)g.animate(v,F,b.options.easing).animate(u,F,b.options.easing);g.animate(v,F,b.options.easing).animate(j,F/2,b.options.easing,function(){a.effects.restore(g,e);a.effects.removeWrapper(g);b.callback&&b.callback.apply(this,arguments)});g.queue("fx",function(){g.dequeue()});g.dequeue()})}})(jQuery);Raphael.fn.piechart=function(a,b,g,e,j,m,r,F,G,C){function v(ia,P,N,O,J,R){var V=ia+N*Math.cos(-O*n),T=ia+N*Math.cos(-J*n);return u.path(["M",ia,P,"L",V,P+N*Math.sin(-O*n),"A",N,N,0,+(J-O>180),0,T,P+N*Math.sin(-J*n),"z"]).attr(R)}var u=this,n=Math.PI/180,t=this.set(),y=90,i=0,X=0,Z=[["#f8faf3","rgba(230, 230, 230, .2)"],["#08c4eb","#07a6c7"]];j=function(ia){var P,N=360*e[ia]/i,O=y+N/2,J=v(a,b,g,y,y+N,{gradient:"90-"+Z[ia][1]+"-"+Z[ia][0],stroke:m,"stroke-width":r});if(G)P=u.text(a+0.4*(g+30-8)*Math.cos(-O*
n),b+(g+30-5)*Math.sin(-O*n),e[ia]+"%").attr({fill:"#333",stroke:"none",opacity:0,"font-family":"Calibri, Lucida Sans, Helvetica, Arial","font-size":"14px","font-weight":"normal"});C&&J.mouseover(function(){J.animate({scale:[1.1,1.1,a,b]},F,"backOut");P&&P.animate({opacity:1},F,"backOut")}).mouseout(function(){J.animate({scale:[1,1,a,b]},F,"backOut");P&&P.animate({opacity:0},F)});y+=N;t.push(J);P&&t.push(P);X+=0.1};for(var K=0,ha=e.length;K<ha;K++)i+=e[K];for(K=0;K<ha;K++)j(K);return t};(function(a){a.fn.piechart=function(b){var g={radius:50,xpos:100,ypos:100,width:250,height:250,stroke_color:"rgba(50, 50, 50, 0.1)",stroke_width:2,complete_text:"COMPLETE!",complete_label:"complete",complete_class:"complete",incomplete_label:"incomplete",duration:400,show_labels:true,is_hoverable:true};b&&a.extend(g,b);this.each(function(){var e=a(this),j=[],m=[],r=0,F="",G=false,C=false;e.find("tr").each(function(){if(!G&&!C){r=parseInt(a(this).find("td").text(),10);F=a(this).find("th").text();j.push(r);
m.push(F);if(F.toLowerCase()==g.complete_label.toLowerCase()&&r>=100){G=true;e.addClass("complete")}if(F.toLowerCase()==g.incomplete_label.toLowerCase()&&r>=100)C=true}});e.find("table").hide();if(G||C){var v=Raphael(e.attr("id"),g.width,g.height),u=v.set(),n=v.circle(g.xpos,g.ypos,g.radius).attr({gradient:G?"90-#fa0065-#fa2279":"90-#f8faf3-rgba(230, 230, 230, .2)",stroke:g.stroke_color,"stroke-width":g.stroke_width});u.push(n);if(G&&g.show_labels){v=v.text(g.xpos,g.ypos,g.complete_text).attr({fill:"#fff",
stroke:"none","font-family":"Calibri, Lucida Sans, Helvetica, Arial","font-size":"16px","font-weight":"bold"});u.push(v)}g.is_hoverable&&u.mouseover(function(){u.animate({scale:[1.1,1.1,g.xpos,g.ypos]},g.duration,"backOut")}).mouseout(function(){u.animate({scale:[1,1,g.xpos,g.ypos]},g.duration,"backOut")})}else Raphael(e.attr("id"),g.width,g.height).piechart(g.xpos,g.ypos,g.radius,j,m,g.stroke_color,g.stroke_width,g.duration,g.show_labels,g.is_hoverable)});return this}})(jQuery);(function(a){a.fn.jqm=function(n){var t={overlay:50,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:m,ajaxText:"",target:m,modal:m,toTop:m,onShow:m,onHide:m,onLoad:m};return this.each(function(){if(this._jqm)return g[this._jqm].c=a.extend({},g[this._jqm].c,n);b++;this._jqm=b;g[b]={c:a.extend(t,a.jqm.params,n),a:m,w:a(this).addClass("jqmID"+b),s:b};t.trigger&&a(this).jqmAddTrigger(t.trigger)})};a.fn.jqmAddClose=function(n){return u(this,n,"jqmHide")};a.fn.jqmAddTrigger=function(n){return u(this,
n,"jqmShow")};a.fn.jqmShow=function(n){return this.each(function(){n=n||window.event;a.jqm.open(this._jqm,n)})};a.fn.jqmHide=function(n){return this.each(function(){n=n||window.event;a.jqm.close(this._jqm,n)})};a.jqm={hash:{},open:function(n,t){var y=g[n],i=y.c,X="."+i.closeClass,Z=parseInt(y.w.css("z-index"));Z=Z>0?Z:3E3;var K=a("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":Z-1,opacity:i.overlay/100});if(y.a)return m;y.t=t;y.a=true;y.w.css("z-index",Z);if(i.modal){e[0]||
C("bind");e.push(n)}else if(i.overlay>0)y.w.jqmAddClose(K);else K=m;y.o=K?K.addClass(i.overlayClass).prependTo("body"):m;if(j){a("html,body").css({height:"100%",width:"100%"});if(K){K=K.css({position:"absolute"})[0];for(var ha in{Top:1,Left:1})K.style.setExpression(ha.toLowerCase(),"(_=(document.documentElement.scroll"+ha+" || document.body.scroll"+ha+"))+'px'")}}if(i.ajax){Z=i.target||y.w;K=i.ajax;Z=typeof Z=="string"?a(Z,y.w):a(Z);K=K.substr(0,1)=="@"?a(t).attr(K.substring(1)):K;Z.html(i.ajaxText).load(K,
function(){i.onLoad&&i.onLoad.call(this,y);X&&y.w.jqmAddClose(a(X,y.w));F(y)})}else X&&y.w.jqmAddClose(a(X,y.w));i.toTop&&y.o&&y.w.before('<span id="jqmP'+y.w[0]._jqm+'"></span>').insertAfter(y.o);i.onShow?i.onShow(y):y.w.show();F(y);return m},close:function(n){n=g[n];if(!n.a)return m;n.a=m;if(e[0]){e.pop();e[0]||C("unbind")}n.c.toTop&&n.o&&a("#jqmP"+n.w[0]._jqm).after(n.w).remove();if(n.c.onHide)n.c.onHide(n);else{n.w.hide();n.o&&n.o.remove()}return m},params:{}};var b=0,g=a.jqm.hash,e=[],j=a.browser.msie&&
a.browser.version=="6.0",m=false,r=a('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0}),F=function(n){if(j)if(n.o)n.o.html('<p style="width:100%;height:100%"/>').prepend(r);else a("iframe.jqm",n.w)[0]||n.w.prepend(r);G(n)},G=function(n){try{a(":input:visible",n.w)[0].focus()}catch(t){}},C=function(n){a()[n]("keypress",v)[n]("keydown",v)[n]("mousedown",v)},v=function(n){var t=g[e[e.length-1]];(n=!a(n.target).parents(".jqmID"+t.s)[0])&&G(t);return!n},u=function(n,
t,y){return n.each(function(){var i=this._jqm;a(t).each(function(){if(!this[y]){this[y]=[];a(this).click(function(){for(var X in{jqmShow:1,jqmHide:1})for(var Z in this[X])g[this[X][Z]]&&g[this[X][Z]].w[X](this);return m})}this[y].push(i)})})}})(jQuery);jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,g,e,j){return jQuery.easing[jQuery.easing.def](a,b,g,e,j)},easeInQuad:function(a,b,g,e,j){return e*(b/=j)*b+g},easeOutQuad:function(a,b,g,e,j){return-e*(b/=j)*(b-2)+g},easeInOutQuad:function(a,b,g,e,j){if((b/=j/2)<1)return e/2*b*b+g;return-e/2*(--b*(b-2)-1)+g},easeInCubic:function(a,b,g,e,j){return e*(b/=j)*b*b+g},easeOutCubic:function(a,b,g,e,j){return e*((b=b/j-1)*b*b+1)+g},easeInOutCubic:function(a,b,g,e,j){if((b/=j/2)<1)return e/
2*b*b*b+g;return e/2*((b-=2)*b*b+2)+g},easeInQuart:function(a,b,g,e,j){return e*(b/=j)*b*b*b+g},easeOutQuart:function(a,b,g,e,j){return-e*((b=b/j-1)*b*b*b-1)+g},easeInOutQuart:function(a,b,g,e,j){if((b/=j/2)<1)return e/2*b*b*b*b+g;return-e/2*((b-=2)*b*b*b-2)+g},easeInQuint:function(a,b,g,e,j){return e*(b/=j)*b*b*b*b+g},easeOutQuint:function(a,b,g,e,j){return e*((b=b/j-1)*b*b*b*b+1)+g},easeInOutQuint:function(a,b,g,e,j){if((b/=j/2)<1)return e/2*b*b*b*b*b+g;return e/2*((b-=2)*b*b*b*b+2)+g},easeInSine:function(a,
b,g,e,j){return-e*Math.cos(b/j*(Math.PI/2))+e+g},easeOutSine:function(a,b,g,e,j){return e*Math.sin(b/j*(Math.PI/2))+g},easeInOutSine:function(a,b,g,e,j){return-e/2*(Math.cos(Math.PI*b/j)-1)+g},easeInExpo:function(a,b,g,e,j){return b==0?g:e*Math.pow(2,10*(b/j-1))+g},easeOutExpo:function(a,b,g,e,j){return b==j?g+e:e*(-Math.pow(2,-10*b/j)+1)+g},easeInOutExpo:function(a,b,g,e,j){if(b==0)return g;if(b==j)return g+e;if((b/=j/2)<1)return e/2*Math.pow(2,10*(b-1))+g;return e/2*(-Math.pow(2,-10*--b)+2)+g},
easeInCirc:function(a,b,g,e,j){return-e*(Math.sqrt(1-(b/=j)*b)-1)+g},easeOutCirc:function(a,b,g,e,j){return e*Math.sqrt(1-(b=b/j-1)*b)+g},easeInOutCirc:function(a,b,g,e,j){if((b/=j/2)<1)return-e/2*(Math.sqrt(1-b*b)-1)+g;return e/2*(Math.sqrt(1-(b-=2)*b)+1)+g},easeInElastic:function(a,b,g,e,j){a=1.70158;var m=0,r=e;if(b==0)return g;if((b/=j)==1)return g+e;m||(m=j*0.3);if(r<Math.abs(e)){r=e;a=m/4}else a=m/(2*Math.PI)*Math.asin(e/r);return-(r*Math.pow(2,10*(b-=1))*Math.sin((b*j-a)*2*Math.PI/m))+g},easeOutElastic:function(a,
b,g,e,j){a=1.70158;var m=0,r=e;if(b==0)return g;if((b/=j)==1)return g+e;m||(m=j*0.3);if(r<Math.abs(e)){r=e;a=m/4}else a=m/(2*Math.PI)*Math.asin(e/r);return r*Math.pow(2,-10*b)*Math.sin((b*j-a)*2*Math.PI/m)+e+g},easeInOutElastic:function(a,b,g,e,j){a=1.70158;var m=0,r=e;if(b==0)return g;if((b/=j/2)==2)return g+e;m||(m=j*0.3*1.5);if(r<Math.abs(e)){r=e;a=m/4}else a=m/(2*Math.PI)*Math.asin(e/r);if(b<1)return-0.5*r*Math.pow(2,10*(b-=1))*Math.sin((b*j-a)*2*Math.PI/m)+g;return r*Math.pow(2,-10*(b-=1))*Math.sin((b*
j-a)*2*Math.PI/m)*0.5+e+g},easeInBack:function(a,b,g,e,j,m){if(m==undefined)m=1.70158;return e*(b/=j)*b*((m+1)*b-m)+g},easeOutBack:function(a,b,g,e,j,m){if(m==undefined)m=1.70158;return e*((b=b/j-1)*b*((m+1)*b+m)+1)+g},easeInOutBack:function(a,b,g,e,j,m){if(m==undefined)m=1.70158;if((b/=j/2)<1)return e/2*b*b*(((m*=1.525)+1)*b-m)+g;return e/2*((b-=2)*b*(((m*=1.525)+1)*b+m)+2)+g},easeInBounce:function(a,b,g,e,j){return e-jQuery.easing.easeOutBounce(a,j-b,0,e,j)+g},easeOutBounce:function(a,b,g,e,j){return(b/=
j)<1/2.75?e*7.5625*b*b+g:b<2/2.75?e*(7.5625*(b-=1.5/2.75)*b+0.75)+g:b<2.5/2.75?e*(7.5625*(b-=2.25/2.75)*b+0.9375)+g:e*(7.5625*(b-=2.625/2.75)*b+0.984375)+g},easeInOutBounce:function(a,b,g,e,j){if(b<j/2)return jQuery.easing.easeInBounce(a,b*2,0,e,j)*0.5+g;return jQuery.easing.easeOutBounce(a,b*2-j,0,e,j)*0.5+e*0.5+g}});(function(a){function b(O,J,R,V){V={data:V||(J?J.data:{}),_wrap:J?J._wrap:null,tmpl:null,parent:J||null,nodes:[],calls:G,nest:C,wrap:v,html:u,update:n};O&&a.extend(V,O,{nodes:[],parent:J});if(R){V.tmpl=R;V._ctnt=V._ctnt||V.tmpl(a,V);V.key=++ia;(N.length?Z:X)[ia]=V}return V}function g(O,J,R){var V;R=a.map(R,function(T){return typeof T==="string"?T.replace(/(<\w+)(?=[\s>])(?![^>]*_tmplitem)([^>]*)/g,"$1 "+y+'="'+O.key+'" $2'):g(T,O,T._ctnt)});if(J)return R;R=R.join("");R.replace(/^\s*([^<\s][^<]*)?(<[\w\W]+>)([^>]*[^>\s])?\s*$/,
function(T,aa,da,oa){V=a(da).get();F(V);if(aa)V=e(aa).concat(V);if(oa)V=V.concat(e(oa))});return V?V:e(R)}function e(O){var J=document.createElement("div");J.innerHTML=O;return a.makeArray(J.childNodes)}function j(O){return new Function("jQuery","$item","var $=jQuery,_=[],$data=$item.data;with($data){_.push('"+$.trim(O).replace(/([\\'])/g,"\\$1").replace(/[\r\t\n]/g," ").replace(/\${([^}]*)}/g,"{{= $1}}").replace(/{{(\/?)(\w+|.)(?:\(((?:.(?!}}))*?)?\))?(?:\s+(.*?)?)?(\((.*?)\))?\s*}}/g,function(J,
R,V,T,aa,da,oa){J=a.tmpl.tags[V];var na;if(!J)throw"Template command not found: "+V;V=J._default||[];if(aa){aa=r(aa);oa=oa?","+r(oa)+")":da?")":"";if(da&&aa.indexOf(".")>-1){aa+=da;oa=""}da=oa?"("+aa+").call($item"+oa:aa;na=oa?da:"(typeof("+aa+")==='function'?("+aa+").call($item):("+aa+"))"}else da=V.$1||"null";T=r(T);return"');"+J[R?"close":"open"].split("$notnull_1").join("typeof("+aa+")!=='undefined' && ("+aa+")!=null").split("$1a").join(na).split("$1").join(da).split("$2").join(T?T.replace(/\s*([^\(]+)\s*(\((.*?)\))?/g,
function(ra,Aa,ya,Ba){return(Ba=Ba?","+Ba+")":ya?")":"")?"("+Aa+").call($item"+Ba:ra}):V.$2||"")+"_.push('"})+"');}return _;")}function m(O){if(O.wrapped){var J=O.wrapped;O._wrap=g(O,true,a.isArray(J)?J:[i.test(J)?J:a(J).html()]).join("")}}function r(O){return O?O.replace(/\\'/g,"'").replace(/\\\\/g,"\\"):null}function F(O){function J(ra){function Aa(ma){ma+=R;Ca=aa[ma]=aa[ma]||b(Ca,X[Ca.parent.key+R]||Ca.parent,null,true)}var ya,Ba=ra,Ca,za;if(za=ra.getAttribute(y)){for(;(Ba=Ba.parentNode).nodeType===
1&&!(ya=Ba.getAttribute(y)););if(ya!==za){Ba=Ba.nodeType===11?0:Ba.getAttribute(y)||0;if(!(Ca=X[za])){Ca=Z[za];Ca=b(Ca,X[Ba]||Z[Ba],null,true);Ca.key=++ia;X[ia]=Ca}P&&Aa(za)}ra.removeAttribute(y)}else if(P&&(Ca=a.data(ra,"tmplItem"))){Aa(Ca.key);X[Ca.key]=Ca;Ba=(Ba=a.data(ra.parentNode,"tmplItem"))?Ba.key:0}if(Ca){for(ya=Ca;ya&&ya.key!=Ba;){ya.nodes.push(ra);ya=ya.parent}delete Ca._ctnt;delete Ca._wrap;a.data(ra,"tmplItem",Ca)}}for(var R="_"+P,V,T,aa={},da=0,oa=O.length;da<oa;da++)if((V=O[da]).nodeType===
1){T=V.getElementsByTagName("*");for(var na=T.length-1;na>=0;na--)J(T[na]);J(V)}}function G(O,J,R,V){if(!O)return N.pop();var T=N.length;N.push({_:O,tmpl:J,parent:T?N[T-1].item:this,item:this,data:R,options:V})}function C(O,J,R){return a.tmpl(a.template(O),J,R,this)}function v(O,J){var R=O.options||{};R.wrapped=J;return a.tmpl(a.template(O.tmpl),O.data,R,O.parent)}function u(O,J){var R=this._wrap;return a.map(a(a.isArray(R)?R.join(""):R).filter(O||"*"),function(V){if(J)V=V.innerText||V.textContent;
else{var T;if(!(T=V.outerHTML)){T=document.createElement("div");T.appendChild(V.cloneNode(true));T=T.innerHTML}V=T}return V})}function n(){var O=this.nodes;a.tmpl(null,null,null,this).insertBefore(O[0]);a(O).remove()}var t=a.fn.domManip,y="_tmplitem",i=/^[^<]*(<[\w\W]+>)[^>]*$/,X={},Z={},K,ha={key:0,data:{}},ia=0,P=0,N=[];a.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(O,J){a.fn[O]=function(R){var V=[];R=a(R);var T=this.length===
1&&this[0].parentNode;K=X||{};if(T&&T.nodeType===11&&T.childNodes.length===1&&R.length===1){R[J](this[0]);V=this}else{T=0;for(var aa=R.length;T<aa;T++){P=T;var da=(T>0?this.clone(true):this).get();a.fn[J].apply(a(R[T]),da);V=V.concat(da)}P=0;V=this.pushStack(V,O,R.selector)}R=K;K=null;a.tmpl.complete(R);return V}});a.fn.extend({tmpl:function(O,J,R){return a.tmpl(this[0],O,J,R)},tmplItem:function(){return a.tmplItem(this[0])},template:function(O){return a.template(O,this[0])},domManip:function(O,J,
R){if(O[0].nodeType){for(var V=a.makeArray(arguments),T=O.length,aa=0,da;aa<T&&!(da=a.data(O[aa++],"tmplItem")););if(T>1)V[0]=[a.makeArray(O)];if(da&&P)V[2]=function(oa){a.tmpl.afterManip(this,oa,R)};t.apply(this,V)}else t.apply(this,arguments);P=0;K||a.tmpl.complete(X);return this}});a.extend({tmpl:function(O,J,R,V){var T=!V;if(T){V=ha;O=a.template[O]||a.template(null,O)}else if(!O){O=V.tmpl;X[V.key]=V;V.nodes=[];m(V);return a(g(V,null,V.tmpl(a,V)))}if(!O)return[];if(typeof J==="function")J=J.call(V||
{});if(R&&R.wrapped){V=b(R,V,null,J);V.key=++ia;Z[ia]=V;V.tmpl=O;m(V)}J=a.isArray(J)?a.map(J,function(aa){return aa?b(R,V,O,aa):null}):[b(R,V,O,J)];return T?a(g(V,null,J)):J},tmplItem:function(O){var J;if(O instanceof a)O=tmpl[0];for(;O&&O.nodeType===1&&!(J=a.data(O,"tmplItem"))&&(O=O.parentNode););return J||ha},template:function(O,J){if(J){if(typeof J==="string")J=j(J);else if(J instanceof a)J=J[0]||{};if(J.nodeType)J=a.data(J,"tmpl")||a.data(J,"tmpl",j(J.innerHTML));return typeof O==="string"?a.template[O]=
J:J}return typeof O!=="string"?a.template(null,O):a.template[O]||a.template(null,i.test(O)?O:a(O))},encode:function(O){return(""+O).split("<").join("&lt;").split(">").join("&gt;").split('"').join("&#34;").split("'").join("&#39;")}});a.extend(a.tmpl,{tags:{tmpl:{_default:{$2:"null"},open:"if($notnull_1){_=_.concat($item.nest($1,$2));}"},wrap:{_default:{$2:"null"},open:"$item.calls(_,$1,$2);_=[];",close:"call=$item.calls();_=call._.concat($item.wrap(call,_));"},each:{_default:{$2:"$index, $value"},
open:"if($notnull_1){$.each($1a,function($2){with(this){",close:"}});}"},"if":{open:"if(($notnull_1) && $1a){",close:"}"},"else":{open:"}else{"},html:{open:"if($notnull_1){_.push($1a);}"},"=":{_default:{$1:"$data"},open:"if($notnull_1){_.push($.encode($1a));}"}},complete:function(){X={}},afterManip:function(O,J,R){var V=J.nodeType===11?a.makeArray(J.childNodes):J.nodeType===1?[J]:[];R.call(O,J);F(V);P++}})})(jQuery);(function(a){a.polling=function(b,g){if(a.isFunction(b)){g=b;wait=1E3}(function e(){setTimeout(function(){g.call(this,e)},b);b*=1.5})()}})(jQuery);(function(a){a.extend({tablesorter:new (function(){function g(P,N){e(P+","+((new Date).getTime()-N.getTime())+"ms")}function e(P){typeof console!="undefined"&&typeof console.debug!="undefined"?console.log(P):alert(P)}function j(P,N){if(P.config.debug)var O="";if(P.tBodies.length!=0){var J=P.tBodies[0].rows;if(J[0])for(var R=[],V=J[0].cells.length,T=0;T<V;T++){var aa=false;if(a.metadata&&a(N[T]).metadata()&&a(N[T]).metadata().sorter)aa=m(a(N[T]).metadata().sorter);else if(P.config.headers[T]&&P.config.headers[T].sorter)aa=
m(P.config.headers[T].sorter);if(!aa)a:{aa=P;for(var da=J,oa=-1,na=T,ra=ha.length,Aa=false,ya=false,Ba=true;ya==""&&Ba;){oa++;if(da[oa]){Aa=da[oa].cells[na];ya=a.trim(F(aa.config,Aa));aa.config.debug&&e("Checking if value was empty on row:"+oa)}else Ba=false}for(da=1;da<ra;da++)if(ha[da].is(ya,aa,Aa)){aa=ha[da];break a}aa=ha[0]}if(P.config.debug)O+="column:"+T+" parser:"+aa.id+"\n";R.push(aa)}P.config.debug&&e(O);return R}}function m(P){for(var N=ha.length,O=0;O<N;O++)if(ha[O].id.toLowerCase()==P.toLowerCase())return ha[O];
return false}function r(P){if(P.config.debug)var N=new Date;for(var O=P.tBodies[0]&&P.tBodies[0].rows.length||0,J=P.tBodies[0].rows[0]&&P.tBodies[0].rows[0].cells.length||0,R=P.config.parsers,V={row:[],normalized:[]},T=0;T<O;++T){var aa=a(P.tBodies[0].rows[T]),da=[];if(aa.hasClass(P.config.cssChildRow))V.row[V.row.length-1]=V.row[V.row.length-1].add(aa);else{V.row.push(aa);for(var oa=0;oa<J;++oa)da.push(R[oa].format(F(P.config,aa[0].cells[oa]),P,aa[0].cells[oa]));da.push(V.normalized.length);V.normalized.push(da)}}P.config.debug&&
g("Building cache for "+O+" rows:",N);return V}function F(P,N){var O="";if(!N)return"";if(!P.supportsTextContent)P.supportsTextContent=N.textContent||false;return O=P.textExtraction=="simple"?P.supportsTextContent?N.textContent:N.childNodes[0]&&N.childNodes[0].hasChildNodes()?N.childNodes[0].innerHTML:N.innerHTML:typeof P.textExtraction=="function"?P.textExtraction(N):a(N).text()}function G(P,N){if(P.config.debug)var O=new Date;for(var J=N.row,R=N.normalized,V=R.length,T=R[0].length-1,aa=a(P.tBodies[0]),
da=[],oa=0;oa<V;oa++){var na=R[oa][T];da.push(J[na]);if(!P.config.appender)for(var ra=J[na].length,Aa=0;Aa<ra;Aa++)aa[0].appendChild(J[na][Aa])}P.config.appender&&P.config.appender(P,da);da=null;P.config.debug&&g("Rebuilt table:",O);n(P);setTimeout(function(){a(P).trigger("sortEnd")},0)}function C(P){if(P.config.debug)var N=new Date;var O=v(P);$tableHeaders=a(P.config.selectorHeaders,P).each(function(J){this.column=O[this.parentNode.rowIndex+"-"+this.cellIndex];this.count=this.order=typeof P.config.sortInitialOrder!=
"Number"?P.config.sortInitialOrder.toLowerCase()=="desc"?1:0:P.config.sortInitialOrder==1?1:0;var R;if(!(R=a.metadata&&a(this).metadata().sorter===false?true:false))R=P.config.headers[J]&&P.config.headers[J].sorter===false?true:false;if(R)this.sortDisabled=true;if(u(P,J))this.order=this.lockedOrder=u(P,J);if(!this.sortDisabled){R=a(this).addClass(P.config.cssHeader);P.config.onRenderHeader&&P.config.onRenderHeader.apply(R)}P.config.headerList[J]=this});if(P.config.debug){g("Built headers:",N);e($tableHeaders)}return $tableHeaders}
function v(P){var N=[],O={};P=P.getElementsByTagName("THEAD")[0].getElementsByTagName("TR");for(var J=0;J<P.length;J++)for(var R=P[J].cells,V=0;V<R.length;V++){var T=R[V],aa=T.parentNode.rowIndex,da=aa+"-"+T.cellIndex,oa=T.rowSpan||1;T=T.colSpan||1;var na;if(typeof N[aa]=="undefined")N[aa]=[];for(var ra=0;ra<N[aa].length+1;ra++)if(typeof N[aa][ra]=="undefined"){na=ra;break}O[da]=na;for(ra=aa;ra<aa+oa;ra++){if(typeof N[ra]=="undefined")N[ra]=[];da=N[ra];for(var Aa=na;Aa<na+T;Aa++)da[Aa]="x"}}return O}
function u(P,N){if(P.config.headers[N]&&P.config.headers[N].lockedOrder)return P.config.headers[N].lockedOrder;return false}function n(P){for(var N=P.config.widgets,O=N.length,J=0;J<O;J++)t(N[J]).format(P)}function t(P){for(var N=ia.length,O=0;O<N;O++)if(ia[O].id.toLowerCase()==P.toLowerCase())return ia[O]}function y(P,N){for(var O=N.length,J=0;J<O;J++)if(N[J][0]==P)return true;return false}function i(P,N,O,J){N.removeClass(J[0]).removeClass(J[1]);var R=[];N.each(function(){this.sortDisabled||(R[this.column]=
a(this))});P=O.length;for(N=0;N<P;N++)R[O[N][0]].addClass(J[O[N][1]])}function X(P){if(P.config.widthFixed){var N=a("<colgroup>");a("tr:first td",P.tBodies[0]).each(function(){N.append(a("<col>").css("width",a(this).width()))});a(P).prepend(N)}}function Z(P,N,O){if(P.config.debug)var J=new Date;for(var R="var sortWrapper = function(a,b) {",V=N.length,T=0;T<V;T++){var aa=N[T][0],da=N[T][1];aa=P.config.parsers[aa].type=="text"?da==0?K("text","asc",aa):K("text","desc",aa):da==0?K("numeric","asc",aa):
K("numeric","desc",aa);var oa="e"+T;R+="var "+oa+" = "+aa;R+="if("+oa+") { return "+oa+"; } ";R+="else { "}T=O.normalized[0].length-1;R+="return a["+T+"]-b["+T+"];";for(T=0;T<V;T++)R+="}; ";R+="return 0; ";R+="}; ";P.config.debug&&g("Evaling expression:"+R,new Date);eval(R);O.normalized.sort(sortWrapper);P.config.debug&&g("Sorting on "+N.toString()+" and dir "+da+" time:",J);return O}function K(P,N,O){var J="a["+O+"]";O="b["+O+"]";if(P=="text"&&N=="asc")return"("+J+" == "+O+" ? 0 : ("+J+" === null ? Number.POSITIVE_INFINITY : ("+
O+" === null ? Number.NEGATIVE_INFINITY : ("+J+" < "+O+") ? -1 : 1 )));";else if(P=="text"&&N=="desc")return"("+J+" == "+O+" ? 0 : ("+J+" === null ? Number.POSITIVE_INFINITY : ("+O+" === null ? Number.NEGATIVE_INFINITY : ("+O+" < "+J+") ? -1 : 1 )));";else if(P=="numeric"&&N=="asc")return"("+J+" === null && "+O+" === null) ? 0 :("+J+" === null ? Number.POSITIVE_INFINITY : ("+O+" === null ? Number.NEGATIVE_INFINITY : "+J+" - "+O+"));";else if(P=="numeric"&&N=="desc")return"("+J+" === null && "+O+" === null) ? 0 :("+
J+" === null ? Number.POSITIVE_INFINITY : ("+O+" === null ? Number.NEGATIVE_INFINITY : "+O+" - "+J+"));"}var ha=[],ia=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:true,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:false,cancelSelection:true,sortList:[],headerList:[],dateFormat:"us",
decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:false};this.benchmark=g;this.construct=function(P){return this.each(function(){if(this.tHead&&this.tBodies){var N,O,J,R;this.config={};R=a.extend(this.config,a.tablesorter.defaults,P);N=a(this);a.data(this,"tablesorter",R);O=C(this);this.config.parsers=j(this,O);J=r(this);var V=[R.cssDesc,R.cssAsc];X(this);O.click(function(T){var aa=N[0].tBodies[0]&&N[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&aa>0){N.trigger("sortStart");
a(this);aa=this.column;this.order=this.count++%2;if(this.lockedOrder)this.order=this.lockedOrder;if(T[R.sortMultiSortKey])if(y(aa,R.sortList))for(T=0;T<R.sortList.length;T++){var da=R.sortList[T],oa=R.headerList[da[0]];if(da[0]==aa){oa.count=da[1];oa.count++;da[1]=oa.count%2}}else R.sortList.push([aa,this.order]);else{R.sortList=[];if(R.sortForce!=null){da=R.sortForce;for(T=0;T<da.length;T++)da[T][0]!=aa&&R.sortList.push(da[T])}R.sortList.push([aa,this.order])}setTimeout(function(){i(N[0],O,R.sortList,
V);G(N[0],Z(N[0],R.sortList,J))},1);return false}}).mousedown(function(){if(R.cancelSelection){this.onselectstart=function(){return false};return false}});N.bind("update",function(){var T=this;setTimeout(function(){T.config.parsers=j(T,O);J=r(T)},1)}).bind("updateCell",function(T,aa){var da=this.config,oa=[aa.parentNode.rowIndex-1,aa.cellIndex];J.normalized[oa[0]][oa[1]]=da.parsers[oa[1]].format(F(da,aa),aa)}).bind("sorton",function(T,aa){a(this).trigger("sortStart");R.sortList=aa;for(var da=R.sortList,
oa=this.config,na=da.length,ra=0;ra<na;ra++){var Aa=da[ra],ya=oa.headerList[Aa[0]];ya.count=Aa[1];ya.count++}i(this,O,da,V);G(this,Z(this,da,J))}).bind("appendCache",function(){G(this,J)}).bind("applyWidgetId",function(T,aa){t(aa).format(this)}).bind("applyWidgets",function(){n(this)});if(a.metadata&&a(this).metadata()&&a(this).metadata().sortlist)R.sortList=a(this).metadata().sortlist;R.sortList.length>0&&N.trigger("sorton",[R.sortList]);n(this)}})};this.addParser=function(P){for(var N=ha.length,
O=true,J=0;J<N;J++)if(ha[J].id.toLowerCase()==P.id.toLowerCase())O=false;O&&ha.push(P)};this.addWidget=function(P){ia.push(P)};this.formatFloat=function(P){P=parseFloat(P);return isNaN(P)?0:P};this.formatInt=function(P){P=parseInt(P);return isNaN(P)?0:P};this.isDigit=function(P){return/^[-+]?\d*$/.test(a.trim(P.replace(/[,.']/g,"")))};this.clearTableBody=function(P){if(a.browser.msie)(function(){for(;this.firstChild;)this.removeChild(this.firstChild)}).apply(P.tBodies[0]);else P.tBodies[0].innerHTML=
""}})});a.fn.extend({tablesorter:a.tablesorter.construct});var b=a.tablesorter;b.addParser({id:"text",is:function(){return true},format:function(g){return a.trim(g.toLocaleLowerCase())},type:"text"});b.addParser({id:"digit",is:function(g,e){return a.tablesorter.isDigit(g,e.config)},format:function(g){return a.tablesorter.formatFloat(g)},type:"numeric"});b.addParser({id:"currency",is:function(g){return/^[\u00a3$\u20ac?.]/.test(g)},format:function(g){return a.tablesorter.formatFloat(g.replace(RegExp(/[\u00a3$\u20ac]/g),
""))},type:"numeric"});b.addParser({id:"ipAddress",is:function(g){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(g)},format:function(g){g=g.split(".");for(var e="",j=g.length,m=0;m<j;m++){var r=g[m];e+=r.length==2?"0"+r:r}return a.tablesorter.formatFloat(e)},type:"numeric"});b.addParser({id:"url",is:function(g){return/^(https?|ftp|file):\/\/$/.test(g)},format:function(g){return jQuery.trim(g.replace(RegExp(/(https?|ftp|file):\/\//),""))},type:"text"});b.addParser({id:"isoDate",is:function(g){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(g)},
format:function(g){return a.tablesorter.formatFloat(g!=""?(new Date(g.replace(RegExp(/-/g),"/"))).getTime():"0")},type:"numeric"});b.addParser({id:"percent",is:function(g){return/\%$/.test(a.trim(g))},format:function(g){return a.tablesorter.formatFloat(g.replace(RegExp(/%/g),""))},type:"numeric"});b.addParser({id:"usLongDate",is:function(g){return g.match(RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(g){return a.tablesorter.formatFloat((new Date(g)).getTime())},
type:"numeric"});b.addParser({id:"shortDate",is:function(g){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(g)},format:function(g,e){var j=e.config;g=g.replace(/\-/g,"/");if(j.dateFormat=="us")g=g.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2");else if(j.dateFormat=="uk")g=g.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1");else if(j.dateFormat=="dd/mm/yy"||j.dateFormat=="dd-mm-yy")g=g.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3");return a.tablesorter.formatFloat((new Date(g)).getTime())},
type:"numeric"});b.addParser({id:"time",is:function(g){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(g)},format:function(g){return a.tablesorter.formatFloat((new Date("2000/01/01 "+g)).getTime())},type:"numeric"});b.addParser({id:"metadata",is:function(){return false},format:function(g,e,j){g=e.config;g=!g.parserMetadataName?"sortValue":g.parserMetadataName;return a(j).metadata()[g]},type:"numeric"});b.addWidget({id:"zebra",format:function(g){if(g.config.debug)var e=
new Date;var j,m=-1,r;a("tr:visible",g.tBodies[0]).each(function(){j=a(this);j.hasClass(g.config.cssChildRow)||m++;r=m%2==0;j.removeClass(g.config.widgetZebra.css[r?0:1]).addClass(g.config.widgetZebra.css[r?1:0])});g.config.debug&&a.tablesorter.benchmark("Applying Zebra widget",e)}})})(jQuery);(function(a){a.fn.toggle_form_field=function(b){var g={hint_class:"hint",opacity_focus:0.2,opacity_blur:0.5,opacity_keyup:0,duration:250};b&&a.extend(g,b);this.each(function(){var e=a(this);e.focus(function(){var j=a(this);j.val()==""&&j.parent().find("."+g.hint_class).animate({opacity:g.opacity_focus},g.duration)}).bind("blur reset.toggle_form_field",function(){var j=a(this);j.val()==""&&j.parent().find("."+g.hint_class).animate({opacity:g.opacity_blur},g.duration)}).keyup(function(){var j=a(this);
j.val()!=""&&j.parent().find("."+g.hint_class).animate({opacity:g.opacity_keyup},g.duration)});e.val()!=""&&e.parent().find("."+g.hint_class).animate({opacity:g.opacity_keyup},g.duration)});return this}})(jQuery);(function(a){a.fn.annotatableImage=function(b,g){g=a.extend({xPosition:"middle",yPosition:"middle"},g);var e=[],j=a("img",this)[0],m=(new Date).getTime();this.mousedown(function(r){if(r.target==j){r.preventDefault();var F=b();e.push(F);a(this).append(F);F.positionAtEvent(r,g.xPosition,g.yPosition);F.mousedown(function(){a(this).trigger("resize")}).mousedown();F.data("responseTime",(new Date).getTime()-m)}});return this};a.fn.addAnnotations=function(b,g,e){var j=this,m=a(j).height();e=a.extend({xPosition:"middle",
yPosition:"middle",containerHeight:e&&e.containerHeight?e.containerHeight:m},e);a.each(g,function(r){r=b(a.extend(e,g[r]));r.css({position:"absolute"});a(j).append(r);var F=this.x*a(j).width()-a(r).xOffset(e.xPosition),G=this.y*e.containerHeight-a(r).yOffset(e.yPosition);if(this.width&&this.height){r.css({width:this.width+"px",height:this.height+"px"});r.find(".frm-note").css({top:this.height+10+"px"})}r.css({left:F+"px",top:G+"px"});G>m&&r.hide()});return this};a.fn.positionAtEvent=function(b,g,
e){var j=a(this).parent("div");a(this).css("left",b.pageX-j.offset().left-a(this).xOffset(g)+"px");a(this).css("top",b.pageY-j.offset().top-a(this).yOffset(e)+"px");a(this).css("position","absolute")};a.fn.serializeAnnotations=function(b,g){var e=[];this.each(function(){e.push(a(this).serializeAnnotation(b,g))});return e};a.fn.serializeAnnotation=function(b,g){return{x:a(this).relativeX(b),y:a(this).relativeY(g),response_time:a(this).data("responseTime"),width:a(this).width(),height:a(this).height()}};
a.fn.relativeX=function(){var b=a(this).coordinates().x,g=a(this).parent().width();return b/g};a.fn.relativeY=function(){var b=a(this).coordinates().y,g=a(this).parent().height();return b/g};a.fn.relativeWidth=function(){return a(this).width()/a(this).parent().width()};a.fn.relativeHeight=function(){return a(this).height()/a(this).parent().height()};a.fn.xOffset=function(b){switch(b){case "left":return 0;case "right":return a(this).width();default:return a(this).width()/2}};a.fn.yOffset=function(b){switch(b){case "top":return 0;
case "bottom":return a(this).height();default:return a(this).height()/2}};a.fn.coordinates=function(){return{x:parseInt(a(this).css("left").replace("px","")),y:parseInt(a(this).css("top").replace("px",""))}}})(jQuery);(function(a){a.fn.editable=function(b,g){if("disable"==b)a(this).data("disabled.editable",true);else if("enable"==b)a(this).data("disabled.editable",false);else if("destroy"==b)a(this).unbind(a(this).data("event.editable")).removeData("disabled.editable").removeData("event.editable");else{var e=a.extend({},a.fn.editable.defaults,{target:b},g),j=a.editable.types[e.type].plugin||function(){},m=a.editable.types[e.type].submit||function(){},r=a.editable.types[e.type].buttons||a.editable.types.defaults.buttons,
F=a.editable.types[e.type].content||a.editable.types.defaults.content,G=a.editable.types[e.type].element||a.editable.types.defaults.element,C=a.editable.types[e.type].reset||a.editable.types.defaults.reset,v=e.callback||function(){},u=e.onedit||function(){},n=e.onsubmit||function(){},t=e.onreset||function(){},y=e.onerror||C;e.tooltip&&a(this).attr("title",e.tooltip);e.autowidth="auto"==e.width;e.autoheight="auto"==e.height;return this.each(function(){var i=this,X=a(i).width(),Z=a(i).height();a(this).data("event.editable",
e.event);a.trim(a(this).html())||a(this).html(e.placeholder);a(this).bind(e.event,function(K){if(true!==a(this).data("disabled.editable"))if(!i.editing)if(false!==u.apply(this,[e,i])){K.preventDefault();K.stopPropagation();e.tooltip&&a(i).removeAttr("title");if(0==a(i).width()){e.width=X;e.height=Z}else{if(e.width!="none")e.width=e.autowidth?a(i).width():e.width;if(e.height!="none")e.height=e.autoheight?a(i).height():e.height}a(this).html().toLowerCase().replace(/(;|")/g,"")==e.placeholder.toLowerCase().replace(/(;|")/g,
"")&&a(this).html("");i.editing=true;i.revert=a(i).html();a(i).html("");var ha=a("<form />");if(e.cssclass)"inherit"==e.cssclass?ha.attr("class",a(i).attr("class")):ha.attr("class",e.cssclass);if(e.style)if("inherit"==e.style){ha.attr("style",a(i).attr("style"));ha.css("display",a(i).css("display"))}else ha.attr("style",e.style);var ia=G.apply(ha,[e,i]),P;if(e.loadurl){var N=setTimeout(function(){ia.disabled=true;F.apply(ha,[e.loadtext,e,i])},100);K={};K[e.id]=i.id;a.isFunction(e.loaddata)?a.extend(K,
e.loaddata.apply(i,[i.revert,e])):a.extend(K,e.loaddata);a.ajax({type:e.loadtype,url:e.loadurl,data:K,async:false,success:function(O){window.clearTimeout(N);P=O;ia.disabled=false}})}else if(e.data){P=e.data;if(a.isFunction(e.data))P=e.data.apply(i,[i.revert,e])}else P=i.revert;F.apply(ha,[P,e,i]);ia.attr("name",e.name);r.apply(ha,[e,i]);a(i).append(ha);j.apply(ha,[e,i]);a(":input:visible:enabled:first",ha).focus();e.select&&ia.select();ia.keydown(function(O){if(O.keyCode==27){O.preventDefault();C.apply(ha,
[e,i])}});if("cancel"==e.onblur)ia.blur(function(){N=setTimeout(function(){C.apply(ha,[e,i])},500)});else if("submit"==e.onblur)ia.blur(function(){N=setTimeout(function(){ha.submit()},200)});else a.isFunction(e.onblur)?ia.blur(function(){e.onblur.apply(i,[ia.val(),e])}):ia.blur(function(){});ha.submit(function(O){N&&clearTimeout(N);O.preventDefault();if(false!==n.apply(ha,[e,i]))if(false!==m.apply(ha,[e,i]))if(a.isFunction(e.target)){O=e.target.apply(i,[ia.val(),e]);a(i).html(O);i.editing=false;v.apply(i,
[i.innerHTML,e]);a.trim(a(i).html())||a(i).html(e.placeholder)}else{O={};O[e.name]=ia.val();O[e.id]=i.id;a.isFunction(e.submitdata)?a.extend(O,e.submitdata.apply(i,[i.revert,e])):a.extend(O,e.submitdata);if("PUT"==e.method)O._method="put";a(i).html(e.indicator);var J={type:"POST",data:O,dataType:"html",url:e.target,success:function(R){J.dataType=="html"&&a(i).html(R);i.editing=false;v.apply(i,[R,e]);a.trim(a(i).html())||a(i).html(e.placeholder)},error:function(R){y.apply(ha,[e,i,R])}};a.extend(J,
e.ajaxoptions);a.ajax(J)}a(i).attr("title",e.tooltip);return false})}});this.reset=function(K){if(this.editing)if(false!==t.apply(K,[e,i])){a(i).html(i.revert);i.editing=false;a.trim(a(i).html())||a(i).html(e.placeholder);e.tooltip&&a(i).attr("title",e.tooltip)}}})}};a.editable={types:{defaults:{element:function(){var b=a('<input type="hidden"></input>');a(this).append(b);return b},content:function(b){a(":input:first",this).val(b)},reset:function(b,g){g.reset(this)},buttons:function(b,g){var e=this;
if(b.submit){if(b.submit.match(/>$/))var j=a(b.submit).click(function(){j.attr("type")!="submit"&&e.submit()});else{j=a('<button type="submit" class="btn" />');j.html(b.submit)}a(this).append(j)}if(b.cancel){if(b.cancel.match(/>$/))var m=a(b.cancel);else{m=a('<button type="cancel" class="btn" />');m.html(b.cancel)}a(this).append(m);a(m).click(function(){(a.isFunction(a.editable.types[b.type].reset)?a.editable.types[b.type].reset:a.editable.types.defaults.reset).apply(e,[b,g]);return false})}}},text:{element:function(b){var g=
a("<input />");b.width!="none"&&g.width(b.width);b.height!="none"&&g.height(b.height);g.attr("autocomplete","off");a(this).append(g);return g}},textarea:{element:function(b){var g=a("<textarea />");if(b.rows)g.attr("rows",b.rows);else b.height!="none"&&g.height(b.height);if(b.cols)g.attr("cols",b.cols);else b.width!="none"&&g.width(b.width);a(this).append(g);return g}},select:{element:function(){var b=a("<select />");a(this).append(b);return b},content:function(b,g,e){if(String==b.constructor)eval("var json = "+
b);else var j=b;for(var m in j)if(j.hasOwnProperty(m))if("selected"!=m){b=a("<option />").val(m).append(j[m]);a("select",this).append(b)}a("select",this).children().each(function(){if(a(this).val()==j.selected||a(this).text()==a.trim(e.revert))a(this).attr("selected","selected")})}}},addInputType:function(b,g){a.editable.types[b]=g}};a.fn.editable.defaults={name:"value",id:"id",type:"text",width:"auto",height:"auto",event:"click.editable",onblur:"cancel",loadtype:"GET",loadtext:"Loading...",placeholder:"Click to edit",
loaddata:{},submitdata:{},ajaxoptions:{}}})(jQuery);(function(a){a.fn.philter=function(b){var g={query_over:".paginate li",query_by:".title",min_chars:2,case_sensitive:false};b&&a.extend(g,b);this.each(function(){var e=a(this),j=a(g.query_over),m=j.length;e.keyup(function(){var r=a(this).val();if(r.length>g.min_chars)for(var F=0,G=0,C,v;F<m;F++){C=j.eq(F);v=C.find(g.query_by);v=v.text();if(!g.case_sensitive){v=v.toLowerCase();r=r.toLowerCase()}if(v.indexOf(r)!=-1){C.show();G++}else C.hide()}else{j.show();G=-1}e.trigger("complete.philter",G)})});return this}})(jQuery);(function(a){a.fn.filestyle=function(b){var g={width:250};b&&a.extend(g,b);return this.each(function(){var e=this,j=a("<div>").css({width:g.imagewidth+"px",height:g.imageheight+"px",background:"url("+g.image+") 0 0 no-repeat","background-position":"right",display:"inline",position:"absolute",overflow:"hidden"}),m=a('<input class="file">').addClass(a(e).attr("class")).css({display:"inline",width:g.width+"px"});a(e).before(m);a(e).wrap(j);a(e).css({position:"relative",height:g.imageheight+"px",width:g.width+
"px",display:"inline",cursor:"pointer",opacity:"0.0"});if(a.browser.mozilla)/Win/.test(navigator.platform)?a(e).css("margin-left","-142px"):a(e).css("margin-left","-168px");else a(e).css("margin-left",g.imagewidth-g.width+"px");a(e).bind("change",function(){m.val(a(e).val())})})}})(jQuery);(function(a){a.widget("ui.selectmenu",{_init:function(){var b=this,g=this.options;this.ids=[this.element.attr("id")+"-button",this.element.attr("id")+"-menu"];this._safemouseup=true;this.newelement=a('<a class="'+this.widgetBaseClass+' ui-widget ui-state-default ui-corner-all" id="'+this.ids[0]+'" role="button" href="#" aria-haspopup="true" aria-owns="'+this.ids[1]+'"></a>').insertAfter(this.element);var e=this.element.attr("tabindex");e&&this.newelement.attr("tabindex",e);this.newelement.data("selectelement",
this.element);this.selectmenuIcon=a('<span class="'+this.widgetBaseClass+'-icon ui-icon"></span>').prependTo(this.newelement).addClass(g.style=="popup"?"ui-icon-triangle-2-n-s":"ui-icon-triangle-1-s");a("label[for="+this.element.attr("id")+"]").attr("for",this.ids[0]).bind("click",function(){b.newelement[0].focus();return false});this.newelement.bind("mousedown",function(C){b._toggle(C);if(g.style=="popup"){b._safemouseup=false;setTimeout(function(){b._safemouseup=true},300)}return false}).bind("click",
function(){return false}).keydown(function(C){var v=true;switch(C.keyCode){case a.ui.keyCode.ENTER:v=true;break;case a.ui.keyCode.SPACE:v=false;b._toggle(C);break;case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:v=false;b._moveSelection(-1);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.RIGHT:v=false;b._moveSelection(1);break;case a.ui.keyCode.TAB:v=true;break;default:v=false;b._typeAhead(C.keyCode,"mouseup");break}return v}).bind("mouseover focus",function(){a(this).addClass(b.widgetBaseClass+"-focus ui-state-hover")}).bind("mouseout blur",
function(){a(this).removeClass(b.widgetBaseClass+"-focus ui-state-hover")});a(document).mousedown(function(C){b.close(C)});this.element.click(function(){this._refreshValue()}).focus(function(){this.newelement[0].focus()});this.list=a('<ul class="'+b.widgetBaseClass+"-menu ui-widget ui-widget-content"+(g.style=="dropdown"?" ui-corner-bottom":" ui-corner-all")+'" aria-hidden="true" role="listbox" aria-labelledby="'+this.ids[0]+'" id="'+this.ids[1]+'"></ul>').appendTo("body");var j=[];this.element.find("option").each(function(){j.push({value:a(this).attr("value"),
text:b._formatText(jQuery(this).text()),selected:a(this).attr("selected"),classes:a(this).attr("class"),parentOptGroup:a(this).parent("optgroup").attr("label")})});var m=b.options.style=="popup"?" ui-state-active":"";for(var r in j){e=a('<li role="presentation"><a href="#" tabindex="-1" role="option" aria-selected="false">'+j[r].text+"</a></li>").data("index",r).addClass(j[r].classes).data("optionClasses",j[r].classes||"").mousedown(function(C){if(b._safemouseup){var v=a(this).data("index")!=b._selectedIndex();
b.value(a(this).data("index"));b.select(C);v&&b.change(C);b.close(C,true)}return false}).click(function(){return false}).bind("mouseover focus",function(){b._selectedOptionLi().addClass(m);b._focusedOptionLi().removeClass(b.widgetBaseClass+"-item-focus ui-state-hover");a(this).removeClass("ui-state-active").addClass(b.widgetBaseClass+"-item-focus ui-state-hover")}).bind("mouseout blur",function(){a(this).is(b._selectedOptionLi())&&a(this).addClass(m);a(this).removeClass(b.widgetBaseClass+"-item-focus ui-state-hover")});
if(j[r].parentOptGroup){var F=b.widgetBaseClass+"-group-"+j[r].parentOptGroup;this.list.find("li."+F).size()?this.list.find("li."+F+":last ul").append(e):a('<li role="presentation" class="'+b.widgetBaseClass+"-group "+F+'"><span class="'+b.widgetBaseClass+'-group-label">'+j[r].parentOptGroup+"</span><ul></ul></li>").appendTo(this.list).find("ul").append(e)}else e.appendTo(this.list);this.list.bind("mousedown mouseup",function(){return false});if(g.icons)for(var G in g.icons)if(e.is(g.icons[G].find)){e.data("optionClasses",
j[r].classes+" "+b.widgetBaseClass+"-hasIcon").addClass(b.widgetBaseClass+"-hasIcon");F=g.icons[G].icon||"";e.find("a:eq(0)").prepend('<span class="'+b.widgetBaseClass+"-item-icon ui-icon "+F+'"></span>')}}this.list.find("li:last").addClass("ui-corner-bottom");g.style=="popup"&&this.list.find("li:first").addClass("ui-corner-top");if(g.transferClasses){r=this.element.attr("class")||"";this.newelement.add(this.list).addClass(r)}r=this.element.width();this.newelement.width(g.width?g.width:r);g.style==
"dropdown"?this.list.width(g.menuWidth?g.menuWidth:g.width?g.width:r):this.list.width(g.menuWidth?g.menuWidth:g.width?g.width-g.handleWidth:r-g.handleWidth);g.maxHeight&&g.maxHeight<this.list.height()&&this.list.height(g.maxHeight);this._optionLis=this.list.find("li:not(."+b.widgetBaseClass+"-group)");this.list.keydown(function(C){var v=true;switch(C.keyCode){case a.ui.keyCode.UP:case a.ui.keyCode.LEFT:v=false;b._moveFocus(-1);break;case a.ui.keyCode.DOWN:case a.ui.keyCode.RIGHT:v=false;b._moveFocus(1);
break;case a.ui.keyCode.HOME:v=false;b._moveFocus(":first");break;case a.ui.keyCode.PAGE_UP:v=false;b._scrollPage("up");break;case a.ui.keyCode.PAGE_DOWN:v=false;b._scrollPage("down");break;case a.ui.keyCode.END:v=false;b._moveFocus(":last");break;case a.ui.keyCode.ENTER:case a.ui.keyCode.SPACE:v=false;b.close(C,true);a(C.target).parents("li:eq(0)").trigger("mouseup");break;case a.ui.keyCode.TAB:v=true;b.close(C,true);break;case a.ui.keyCode.ESCAPE:v=false;b.close(C,true);break;default:v=false;b._typeAhead(C.keyCode,
"focus");break}return v});if(g.style=="dropdown"){this.newelement.addClass(b.widgetBaseClass+"-dropdown");this.list.addClass(b.widgetBaseClass+"-menu-dropdown")}else{this.newelement.addClass(b.widgetBaseClass+"-popup");this.list.addClass(b.widgetBaseClass+"-menu-popup")}this.newelement.prepend('<span class="'+b.widgetBaseClass+'-status">'+j[this._selectedIndex()].text+"</span>");this.element.hide();this.element.attr("disabled")==true&&this.disable();this.value(this._selectedIndex())},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+
"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled");a("label[for="+this.newelement.attr("id")+"]").attr("for",this.element.attr("id")).unbind("click");this.newelement.remove();this.list.remove();this.element.show()},_typeAhead:function(b,g){var e=this;if(!e._prevChar)e._prevChar=["",0];var j=String.fromCharCode(b);c=j.toLowerCase();var m=false;this.list.find("li a").each(function(r){if(!m){var F=a(this).text();if(F.indexOf(j)==0||F.indexOf(c)==0)if(e._prevChar[0]==j){if(e._prevChar[1]<
r){m=true;a(this).trigger(g);e._prevChar[1]=r}}else{m=true;a(this).trigger(g);e._prevChar[1]=r}}});this._prevChar[0]=j},_uiHash:function(){return{value:this.value()}},open:function(b){if(this.newelement.attr("aria-disabled")!="true"){this._refreshPosition();this._closeOthers(b);this.newelement.addClass("ui-state-active");this.list.appendTo("body").addClass(this.widgetBaseClass+"-open").attr("aria-hidden",false).find("li:not(."+this.widgetBaseClass+"-group):eq("+this._selectedIndex()+") a")[0].focus();
this.options.style=="dropdown"&&this.newelement.removeClass("ui-corner-all").addClass("ui-corner-top");this._refreshPosition();this._trigger("open",b,this._uiHash())}},close:function(b,g){if(this.newelement.is(".ui-state-active")){this.newelement.removeClass("ui-state-active");this.list.attr("aria-hidden",true).removeClass(this.widgetBaseClass+"-open");this.options.style=="dropdown"&&this.newelement.removeClass("ui-corner-top").addClass("ui-corner-all");g&&this.newelement[0].focus();this._trigger("close",
b,this._uiHash())}},change:function(b){this.element.trigger("change");this._trigger("change",b,this._uiHash())},select:function(b){this._trigger("select",b,this._uiHash())},_closeOthers:function(b){a("."+this.widgetBaseClass+".ui-state-active").not(this.newelement).each(function(){a(this).data("selectelement").selectmenu("close",b)});a("."+this.widgetBaseClass+".ui-state-hover").trigger("mouseout")},_toggle:function(b,g){this.list.is("."+this.widgetBaseClass+"-open")?this.close(b,g):this.open(b)},
_formatText:function(b){return this.options.format?this.options.format(b):b},_selectedIndex:function(){return this.element[0].selectedIndex},_selectedOptionLi:function(){return this._optionLis.eq(this._selectedIndex())},_focusedOptionLi:function(){return this.list.find("."+this.widgetBaseClass+"-item-focus")},_moveSelection:function(b){return this._optionLis.eq(parseInt(this._selectedOptionLi().data("index"),10)+b).trigger("mouseup")},_moveFocus:function(b){b=isNaN(b)?parseInt(this._optionLis.filter(b).data("index"),
10):parseInt(this._focusedOptionLi().data("index"),10)+b;if(b<0)b=0;if(b>this._optionLis.size()-1)b=this._optionLis.size()-1;var g=this.widgetBaseClass+"-item-"+Math.round(Math.random()*1E3);this._focusedOptionLi().find("a:eq(0)").attr("id","");this._optionLis.eq(b).find("a:eq(0)").attr("id",g)[0].focus();this.list.attr("aria-activedescendant",g)},_scrollPage:function(b){var g=Math.floor(this.list.outerHeight()/this.list.find("li:first").outerHeight());g=b=="up"?-g:g;this._moveFocus(g)},_setData:function(b,
g){this.options[b]=g;if(b=="disabled"){this.close();this.element.add(this.newelement).add(this.list)[g?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",g)}},value:function(b){if(arguments.length){this.element[0].selectedIndex=b;this._refreshValue();this._refreshPosition()}return this.element[0].selectedIndex},_refreshValue:function(){var b=this.options.style=="popup"?" ui-state-active":"",g=this.widgetBaseClass+"-item-"+Math.round(Math.random()*
1E3);this.list.find("."+this.widgetBaseClass+"-item-selected").removeClass(this.widgetBaseClass+"-item-selected"+b).find("a").attr("aria-selected","false").attr("id","");this._selectedOptionLi().addClass(this.widgetBaseClass+"-item-selected"+b).find("a").attr("aria-selected","true").attr("id",g);b=this.newelement.data("optionClasses")?this.newelement.data("optionClasses"):"";var e=this._selectedOptionLi().data("optionClasses")?this._selectedOptionLi().data("optionClasses"):"";this.newelement.removeClass(b).data("optionClasses",
e).addClass(e).find("."+this.widgetBaseClass+"-status").html(this._selectedOptionLi().find("a:eq(0)").html());this.list.attr("aria-activedescendant",g)},_refreshPosition:function(){this.list.css("left",this.newelement.offset().left);var b=this.newelement.offset().top,g=this.list[0].scrollTop;this.list.find("li:lt("+this._selectedIndex()+")").each(function(){g-=a(this).outerHeight()});b+=this.newelement.is("."+this.widgetBaseClass+"-popup")?g:this.newelement.height();this.list.css("top",b)}});a.extend(a.ui.selectmenu,
{getter:"value",version:"@VERSION",eventPrefix:"selectmenu",defaults:{transferClasses:true,style:"popup",width:null,menuWidth:null,handleWidth:26,maxHeight:null,icons:null,format:null}})})(jQuery);jQuery.fn.numeric=function(a,b){a=a||".";b=typeof b=="function"?b:function(){};this.keypress(function(g){var e=g.charCode?g.charCode:g.keyCode?g.keyCode:0;if(e==13&&this.nodeName.toLowerCase()=="input")return true;else if(e==13)return false;var j=false;if(g.ctrlKey&&e==97||g.ctrlKey&&e==65)return true;if(g.ctrlKey&&e==120||g.ctrlKey&&e==88)return true;if(g.ctrlKey&&e==99||g.ctrlKey&&e==67)return true;if(g.ctrlKey&&e==122||g.ctrlKey&&e==90)return true;if(g.ctrlKey&&e==118||g.ctrlKey&&e==86||g.shiftKey&&
e==45)return true;if(e<48||e>57){if(e==45&&this.value.length==0)return true;if(e==a.charCodeAt(0)&&this.value.indexOf(a)!=-1)j=false;if(e!=8&&e!=9&&e!=13&&e!=35&&e!=36&&e!=37&&e!=39&&e!=46)j=false;else if(typeof g.charCode!="undefined")if(g.keyCode==g.which&&g.which!=0)j=true;else if(g.keyCode!=0&&g.charCode==0&&g.which==0)j=true;if(e==a.charCodeAt(0)&&this.value.indexOf(a)==-1)j=true}else j=true;return j}).blur(function(){var g=jQuery(this).val();if(g!="")RegExp("^\\d+$|\\d*"+a+"\\d+").exec(g)||
b.apply(this)});return this};(function(a){a.fn.validation=function(b){function g(r,F){r.delegate(F.elt,(F.checkevent||m.checkevent)+" rulecheck.validate",function(G){var C=a(this),v=m.trim?a.trim(C.val()):C.val();if(F.rule)if(F.rule=="match"&&F.matching_field&&a(F.matching_field).length)v.length&&v==a(F.matching_field).val()?e(G,r,C,F):j(G,r,C,F);else if(F.rule=="ajax"&&F.url){var u={};u[F.data||"data"]=v;a.ajax({type:F.type,url:F.url,data:u,dataType:"text",success:function(n){n==(F.success||"success")?e(G,r,C,F):j(G,r,C,F)}})}else if(F.rule==
"custom"&&a.isFunction(F.success))F.success(G,C)?e(G,r,C,F):j(G,r,C,F);else F.rule.test(v)?e(G,r,C,F):j(G,r,C,F);else elt.is(":filled")?e(G,r,C,F):j(G,r,C,F)})}function e(r,F,G,C){if(!G.hasClass(m.success_class))if(m.onsuccess(r,G)){G.removeClass(m.error_class).addClass(m.success_class);a.isFunction(C.onsuccess)&&C.onsuccess(r,G)}F.trigger("rule.validate",true)}function j(r,F,G,C){if(!G.hasClass(m.error_class))if(m.onerror(r,G)){G.removeClass(m.success_class).addClass(m.error_class);a.isFunction(C.onerror)&&
C.onerror(r,G)}F.trigger("rule.validate",false)}var m={rules:[],error_class:"error",success_class:"success",checkevent:"blur",trim:true,onerror:function(){return true},onsuccess:function(){return true}};b&&a.extend(m,b);this.each(function(r){if(this.length)if(m.rules.length){var F=m.rules.length,G=a(this).data("validation",{rules_count:F,is_validating:false,validation_count:0,is_valid:true});for(r=0;r<F;r++)g(G,m.rules[r]);G.bind("validate",function(){var C=a(this),v=C.data("validation");v.is_validating=
true;v.validation_count=0;v.is_valid=true;C.data("validation",v);for(C=0;C<F;C++){v=m.rules[C];a(v.elt).trigger("rulecheck.validate")}}).bind("rule.validate",function(C,v){var u=a(this),n=u.data("validation"),t=n.validation_count+1,y=true;v||(y=false);if(t>=n.rules_count){y=y&&n.is_valid;u.trigger("complete.validate",y)}u.data("validation",{rules_count:n.rules_count,is_validating:true,validation_count:t,is_valid:y})}).bind("reset.validate",function(){for(var C=0,v;C<F;C++){v=m.rules[C];a(v.elt).removeClass(m.error_class+
" "+m.success_class)}G[0].reset()})}else window.console&&window.console.warn&&console.warn("No rules set in jquery validation plugin.")});return this};a.validation={EMAIL:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i}})(jQuery);
$.extend($.expr[":"],{blank:function(a){return!$.trim(""+a.value)},filled:function(a){return!!$.trim(""+a.value)}});(function(a){a.fn.lastfieldentersubmit=function(b){var g={submit:null};b&&a.extend(g,b);this.each(function(){$frm=a(this);$frm.find("input:last").keypress(function(e){if(e.keyCode==13)g.submit&&a.isFunction(g.submit)?g.submit(a(this).parents("form")):$frm.submit()})});return this}})(jQuery);(function(a){var b,g=/:([\w\d]+)/g,e=/\?([^#]*)$/,j=function(n){return Array.prototype.slice.call(n)},m=function(n){return Object.prototype.toString.call(n)==="[object Function]"},r=function(n){return Object.prototype.toString.call(n)==="[object Array]"},F=decodeURIComponent,G=function(n){return n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},C=function(n){return function(t,y){return this.route.apply(this,[n,t,y])}},v={},u=[];b=function(){var n=j(arguments),t,y;b.apps=b.apps||{};
if(n.length===0||n[0]&&m(n[0]))return b.apply(b,["body"].concat(n));else if(typeof(y=n.shift())=="string"){t=b.apps[y]||new b.Application;t.element_selector=y;n.length>0&&a.each(n,function(i,X){t.use(X)});t.element_selector!=y&&delete b.apps[y];return b.apps[t.element_selector]=t}};b.VERSION="0.6.0";b.addLogger=function(n){u.push(n)};b.log=function(){var n=j(arguments);n.unshift("["+Date()+"]");a.each(u,function(t,y){y.apply(b,n)})};if(typeof window.console!="undefined")m(console.log.apply)?b.addLogger(function(){window.console.log.apply(console,
arguments)}):b.addLogger(function(){window.console.log(arguments)});else typeof console!="undefined"&&b.addLogger(function(){console.log.apply(console,arguments)});a.extend(b,{makeArray:j,isFunction:m,isArray:r});b.Object=function(n){return a.extend(this,n||{})};a.extend(b.Object.prototype,{escapeHTML:G,h:G,toHash:function(){var n={};a.each(this,function(t,y){m(y)||(n[t]=y)});return n},toHTML:function(){var n="";a.each(this,function(t,y){m(y)||(n+="<strong>"+t+"</strong> "+y+"<br />")});return n},
keys:function(n){var t=[];for(var y in this)if(!m(this[y])||!n)t.push(y);return t},has:function(n){return this[n]&&a.trim(this[n].toString())!=""},join:function(){var n=j(arguments),t=n.shift();return n.join(t)},log:function(){b.log.apply(b,arguments)},toString:function(n){var t=[];a.each(this,function(y,i){if(!m(i)||n)t.push('"'+y+'": '+i.toString())});return"Sammy.Object: {"+t.join(",")+"}"}});b.HashLocationProxy=function(n,t){this.app=n;this.is_native=false;this._startPolling(t)};b.HashLocationProxy.prototype=
{bind:function(){var n=this,t=this.app;a(window).bind("hashchange."+this.app.eventNamespace(),function(y,i){if(n.is_native===false&&!i){b.log("native hash change exists, using");n.is_native=true;clearInterval(b.HashLocationProxy._interval)}t.trigger("location-changed")});if(!b.HashLocationProxy._bindings)b.HashLocationProxy._bindings=0;b.HashLocationProxy._bindings++},unbind:function(){a(window).unbind("hashchange."+this.app.eventNamespace());b.HashLocationProxy._bindings--;b.HashLocationProxy._bindings<=
0&&clearInterval(b.HashLocationProxy._interval)},getLocation:function(){var n=window.location.toString().match(/^[^#]*(#.+)$/);return n?n[1]:""},setLocation:function(n){return window.location=n},_startPolling:function(n){var t=this;if(!b.HashLocationProxy._interval){n||(n=10);var y=function(){current_location=t.getLocation();if(!b.HashLocationProxy._last_location||current_location!=b.HashLocationProxy._last_location)setTimeout(function(){a(window).trigger("hashchange",[true])},13);b.HashLocationProxy._last_location=
current_location};y();b.HashLocationProxy._interval=setInterval(y,n)}}};b.Application=function(n){var t=this;this.routes={};this.listeners=new b.Object({});this.arounds=[];this.befores=[];this.namespace=(new Date).getTime()+"-"+parseInt(Math.random()*1E3,10);this.context_prototype=function(){b.EventContext.apply(this,arguments)};this.context_prototype.prototype=new b.EventContext;m(n)&&n.apply(this,[this]);this._location_proxy||this.setLocationProxy(new b.HashLocationProxy(this,this.run_interval_every));
this.debug&&this.bindToAllEvents(function(y,i){t.log(t.toString(),y.cleaned_type,i||{})})};b.Application.prototype=a.extend({},b.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect"],_last_route:null,_location_proxy:null,_running:false,element_selector:"body",debug:false,raise_errors:false,run_interval_every:50,template_engine:null,
toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(){return a(this.element_selector)},use:function(){var n=j(arguments),t=n.shift(),y=t||"";try{n.unshift(this);if(typeof t=="string"){y="Sammy."+t;t=b[t]}t.apply(this,n)}catch(i){if(typeof t==="undefined")this.error("Plugin Error: called use() but plugin ("+y.toString()+") is not defined",i);else m(t)?this.error("Plugin Error",i):this.error("Plugin Error: called use() but '"+y.toString()+"' is not a function",i)}return this},
setLocationProxy:function(n){var t=this._location_proxy;this._location_proxy=n;if(this.isRunning()){t&&t.unbind();this._location_proxy.bind()}},route:function(n,t,y){var i=this,X=[],Z;if(!y&&m(t)){y=t=n;n="any"}n=n.toLowerCase();if(t.constructor==String){for(g.lastIndex=0;(path_match=g.exec(t))!==null;)X.push(path_match[1]);t=RegExp("^"+t.replace(g,"([^/]+)")+"$")}if(typeof y=="string")y=i[y];Z=function(K){var ha={verb:K,path:t,callback:y,param_names:X};i.routes[K]=i.routes[K]||[];i.routes[K].push(ha)};
n==="any"?a.each(this.ROUTE_VERBS,function(K,ha){Z(ha)}):Z(n);return this},get:C("get"),post:C("post"),put:C("put"),del:C("delete"),any:C("any"),mapRoutes:function(n){var t=this;a.each(n,function(y,i){t.route.apply(t,i)});return this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(n,t,y){var i=this;if(typeof y=="undefined")y=t;t=function(X,Z){var K;if(Z&&Z.context){K=Z.context;delete Z.context}else K=new i.context_prototype(i,"bind",X.type,Z,X.target);X.cleaned_type=
X.type.replace(i.eventNamespace(),"");y.apply(K,[X,Z])};this.listeners[n]||(this.listeners[n]=[]);this.listeners[n].push(t);this.isRunning()&&this._listen(n,t);return this},trigger:function(n,t){this.$element().trigger([n,this.eventNamespace()].join("."),[t]);return this},refresh:function(){this.last_location=null;this.trigger("location-changed");return this},before:function(n,t){if(m(n)){t=n;n={}}this.befores.push([n,t]);return this},after:function(n){return this.bind("event-context-after",n)},around:function(n){this.arounds.push(n);
return this},isRunning:function(){return this._running},helpers:function(n){a.extend(this.context_prototype.prototype,n);return this},helper:function(n,t){this.context_prototype.prototype[n]=t;return this},run:function(n){if(this.isRunning())return false;var t=this;a.each(this.listeners.toHash(),function(y,i){a.each(i,function(X,Z){t._listen(y,Z)})});this.trigger("run",{start_url:n});this._running=true;this.last_location=null;this.getLocation()==""&&typeof n!="undefined"&&this.setLocation(n);this._checkLocation();
this._location_proxy.bind();this.bind("location-changed",function(){t._checkLocation()});this.bind("submit",function(y){return t._checkFormSubmission(a(y.target).closest("form"))===false?y.preventDefault():false});a(window).bind("beforeunload",function(){t.unload()});return this.trigger("changed")},unload:function(){if(!this.isRunning())return false;var n=this;this.trigger("unload");this._location_proxy.unbind();this.$element().unbind("submit").removeClass(n.eventNamespace());a.each(this.listeners.toHash(),
function(t,y){a.each(y,function(i,X){n._unlisten(t,X)})});this._running=false;return this},bindToAllEvents:function(n){var t=this;a.each(this.APP_EVENTS,function(y,i){t.bind(i,n)});a.each(this.listeners.keys(true),function(y,i){t.APP_EVENTS.indexOf(i)==-1&&t.bind(i,n)});return this},routablePath:function(n){return n.replace(e,"")},lookupRoute:function(n,t){var y=this,i=false;this.trigger("lookup-route",{verb:n,path:t});typeof this.routes[n]!="undefined"&&a.each(this.routes[n],function(X,Z){if(y.routablePath(t).match(Z.path)){i=
Z;return false}});return i},runRoute:function(n,t,y,i){var X=this,Z=this.lookupRoute(n,t),K,ha,ia,P,N,O;this.log("runRoute",[n,t].join(" "));this.trigger("run-route",{verb:n,path:t,params:y});if(typeof y=="undefined")y={};a.extend(y,this._parseQueryString(t));if(Z){this.trigger("route-found",{route:Z});if((path_params=Z.path.exec(this.routablePath(t)))!==null){path_params.shift();a.each(path_params,function(R,V){if(Z.param_names[R])y[Z.param_names[R]]=F(V);else{if(!y.splat)y.splat=[];y.splat.push(F(V))}})}K=
new this.context_prototype(this,n,t,y,i);i=this.arounds.slice(0);ia=this.befores.slice(0);N=[K].concat(y.splat);ha=function(){for(var R;ia.length>0;){P=ia.shift();if(X.contextMatchesOptions(K,P[0])){R=P[1].apply(K,[K]);if(R===false)return false}}X.last_route=Z;K.trigger("event-context-before",{context:K});R=Z.callback.apply(K,N);K.trigger("event-context-after",{context:K});return R};a.each(i.reverse(),function(R,V){var T=ha;ha=function(){return V.apply(K,[T])}});try{O=ha()}catch(J){this.error(["500 Error",
n,t].join(" "),J)}return O}else return this.notFound(n,t)},contextMatchesOptions:function(n,t,y){t=t;if(typeof t==="undefined"||t=={})return true;if(typeof y==="undefined")y=true;if(typeof t==="string"||m(t.test))t={path:t};if(t.only)return this.contextMatchesOptions(n,t.only,true);else if(t.except)return this.contextMatchesOptions(n,t.except,false);var i=true,X=true;if(t.path)i=m(t.path.test)?t.path.test(n.path):t.path.toString()===n.path;if(t.verb)X=t.verb===n.verb;return y?X&&i:!(X&&i)},getLocation:function(){return this._location_proxy.getLocation()},
setLocation:function(n){return this._location_proxy.setLocation(n)},swap:function(n){return this.$element().html(n)},templateCache:function(n,t){return typeof t!="undefined"?v[n]=t:v[n]},notFound:function(n,t){var y=this.error(["404 Not Found",n,t].join(" "));return n==="get"?y:true},error:function(n,t){t||(t=Error());t.message=[n,t.message].join(" ");this.trigger("error",{message:t.message,error:t});if(this.raise_errors)throw t;else this.log(t.message,t)},_checkLocation:function(){var n,t;n=this.getLocation();
if(n!=this.last_location){this.last_location=n;t=this.runRoute("get",n)}return t},_getFormVerb:function(n){n=a(n);var t;$_method=n.find('input[name="_method"]');if($_method.length>0)t=$_method.val();t||(t=n[0].getAttribute("method"));return a.trim(t.toString().toLowerCase())},_checkFormSubmission:function(n){var t,y,i;this.trigger("check-form-submission",{form:n});t=a(n);y=t.attr("action");i=this._getFormVerb(t);if(!i||i=="")i="get";this.log("_checkFormSubmission",t,y,i);if(i==="get"){this.setLocation(y+
"?"+t.serialize());n=false}else{t=a.extend({},this._parseFormParams(t));n=this.runRoute(i,y,t,n.get(0))}return typeof n=="undefined"?false:n},_parseFormParams:function(n){var t={};n=n.serializeArray();var y;for(y=0;y<n.length;y++)t=this._parseParamPair(t,n[y].name,n[y].value);return t},_parseQueryString:function(n){var t={},y,i;if(n=n.match(e)){n=n[1].split("&");for(i=0;i<n.length;i++){y=n[i].split("=");t=this._parseParamPair(t,F(y[0]),F(y[1]))}}return t},_parseParamPair:function(n,t,y){if(n[t])if(r(n[t]))n[t].push(y);
else n[t]=[n[t],y];else n[t]=y;return n},_listen:function(n,t){return this.$element().bind([n,this.eventNamespace()].join("."),t)},_unlisten:function(n,t){return this.$element().unbind([n,this.eventNamespace()].join("."),t)}});b.RenderContext=function(n){this.event_context=n;this.callbacks=[];this.content=this.previous_content=null;this.waiting=this.next_engine=false};a.extend(b.RenderContext.prototype,{then:function(n){if(m(n)){var t=this;if(this.waiting)this.callbacks.push(n);else{this.wait();setTimeout(function(){var y=
n.apply(t,[t.content,t.previous_content]);y!==false&&t.next(y)},13)}}return this},wait:function(){this.waiting=true},next:function(n){this.waiting=false;if(typeof n!=="undefined"){this.previous_content=this.content;this.content=n}this.callbacks.length>0&&this.then(this.callbacks.shift())},load:function(n,t,y){var i=this;return this.then(function(){var X,Z;if(m(t)){y=t;t={}}else t=a.extend({},t);y&&this.then(y);if(typeof n==="string"){X=t.cache!==false;delete t.cache;if(t.engine){i.next_engine=t.engine;
delete t.engine}if(X&&(Z=this.event_context.app.templateCache(n)))return Z;this.wait();a.ajax(a.extend({url:n,data:{},type:"get",success:function(K){X&&i.event_context.app.templateCache(n,K);i.next(K)}},t));return false}else{if(n.nodeType)return n.innerHTML;if(n.selector){i.next_engine=n.attr("data-engine");return t.clone===false?n.remove()[0].innerHTML.toString():n[0].innerHTML.toString()}}})},render:function(n,t,y){return m(n)&&!t?this.then(n):this.load(n).interpolate(t,n).then(y)},collect:function(n,
t){var y=this;return this.then(function(){var i="";a.each(n,function(X,Z){var K=t.apply(y,[X,Z]);i+=K;return K});return i})},renderEach:function(n,t,y,i){if(r(t)){i=y;y=t;t=null}if(!y&&r(this.content))y=this.content;return this.load(n).collect(y,function(X,Z){var K={};t?K[t]=Z:K=Z;return this.event_context.interpolate(this.content,K,n)})},interpolate:function(n,t,y){var i=this;return this.then(function(X,Z){if(this.next_engine){t=this.next_engine;this.next_engine=false}var K=i.event_context.interpolate(X,
n,t);return y?Z+K:K})},swap:function(){return this.then(function(n){this.event_context.swap(n)}).trigger("changed",{})},appendTo:function(n){return this.then(function(t){a(n).append(t)}).trigger("changed",{})},prependTo:function(n){return this.then(function(t){a(n).prepend(t)}).trigger("changed",{})},replace:function(n){return this.then(function(t){a(n).html(t)}).trigger("changed",{})},trigger:function(n,t){return this.then(function(y){if(typeof t=="undefined")t={content:y};this.event_context.trigger(n,
t)})}});b.EventContext=function(n,t,y,i,X){this.app=n;this.verb=t;this.path=y;this.params=new b.Object(i);this.target=X};b.EventContext.prototype=a.extend({},b.Object.prototype,{$element:function(){return this.app.$element()},engineFor:function(n){var t;if(m(n))return n;n=n.toString();if(t=n.match(/\.([^\.]+)$/))n=t[1];if(n&&m(this[n]))return this[n];if(this.app.template_engine)return this.engineFor(this.app.template_engine);return function(y){return y}},interpolate:function(n,t,y){return this.engineFor(y).apply(this,
[n,t])},render:function(n,t,y){return(new b.RenderContext(this)).render(n,t,y)},load:function(n,t,y){return(new b.RenderContext(this)).load(n,t,y)},partial:function(n,t){return this.render(n,t).swap()},redirect:function(){var n;n=j(arguments);var t=this.app.getLocation();if(n.length>1){n.unshift("/");n=this.join.apply(this,n)}else n=n[0];this.trigger("redirect",{to:n});this.app.last_location=this.path;this.app.setLocation(n);t==n&&this.app.trigger("location-changed")},trigger:function(n,t){if(typeof t==
"undefined")t={};if(!t.context)t.context=this;return this.app.trigger(n,t)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(n){return this.app.swap(n)},notFound:function(){return this.app.notFound(this.verb,this.path)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}});a.sammy=window.Sammy=b})(jQuery);(function(a){var b={};Sammy=Sammy||{};Sammy.Template=function(g,e){e||(e="template");g.helper(e,function(j,m,r){if(typeof r=="undefined")r=j;a:{r=r;m=a.extend({},this,m);if(b[r])fn=b[r];else{if(typeof j=="undefined"){j=false;break a}fn=b[r]=new Function("obj",'var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push("'+j.replace(/[\r\t\n]/g," ").replace(/\"/g,'\\"').split("<%").join("\t").replace(/((^|%>)[^\t]*)/g,"$1\r").replace(/\t=(.*?)%>/g,'",$1,"').split("\t").join('");').split("%>").join('p.push("').split("\r").join("")+
"\");}return p.join('');")}j=typeof m!="undefined"?fn(m):fn}return j})}})(jQuery);(function(a){Sammy=Sammy||{};Sammy.Title=function(){this.setTitle=function(b){this.title_function=a.isFunction(b)?b:function(g){return[b,g].join(" ")}};this.helper("title",function(){var b=a.makeArray(arguments).join(" ");if(this.app.title_function)b=this.app.title_function(b);document.title=b})}})(jQuery);function peeq(){var a,b=function(C){return"/resources/templates/"+C+".template"},g=function(C,v,u){a.$element().stop(false,true).animate({opacity:0},200,"linear",function(){$(this).html(C);v(this);$(this).animate({opacity:1},300,"linear",function(){$.isFunction(u)&&u(this)})})},e=function(){a=$.sammy("#main",function(){Sammy.log=this.log=function(){};this.use(Sammy.Template);this.use(Sammy.Title);this.notFound=function(){window.location="/";return true};var C=function(v){window.location=v||"http://yss.com/sign-up.php";
return true};this.setTitle("peeq");this.get("",function(v){j();peeq.api.request("/handler",{service:"project"},"get",function(u){u.ok||C();v.title("\u00bb "+u.result.account.name);u=u.result||{};v.render(b(u.projects.length?"projects":"projects-none"),{projects:u.projects,account:u.account},function(n){g(n,function(){$(".pie-chart").piechart();$("body").attr("id","projects");G();$(".search").philter({query_over:".paginate li",query_by:".title"}).bind("complete.philter",function(t,y){$(".paginate li.last").removeClass("last");
if(y>0){$(".no-matches").hide();var i=y>1?"matches":"match";$(".matches").html('<span class="complete">'+y+"</span> "+i);$(".paginate li:visible:last").addClass("last")}else{y==0?$(".no-matches").show():$(".no-matches").hide();$(".matches").text("")}}).parents("form").submit(function(){return false});$("input").toggle_form_field();$(".excerpt").each(function(){$(this).html($(this).html().replace(/&lt;br \/&gt;/g,"<br />"))})})})})}).get("#/:project",function(v){j();v.params.project.toLowerCase()==
"settings"?this.trigger("settings",v):peeq.api.request("/handler",{service:"view",project:v.params.project},"get",function(u){u.ok||C();u=u.result||{};u.project||v.notFound();v.title("\u00bb "+u.account.name+" \u00bb "+u.project.label);v.render(b(u.views.length&&u.views[0]?"views":"views-none"),{views:u.views,project:u.project},function(n){g(n,function(){r("views");$(".pie-chart:not(#pie-chart-project)").piechart({radius:10,xpos:10,ypos:10,width:20,height:20,show_labels:false,is_hoverable:false});
$("#pie-chart-project").piechart({radius:60,xpos:90,ypos:90,width:190,height:170});$("body").attr("id","views");$(".search").philter({query_over:".paginate li",query_by:".title"}).bind("complete.philter",function(t,y){$(".paginate li.last").removeClass("last");if(y>0){$(".no-matches").hide();var i=y>1?"matches":"match";$(".matches").html('<span class="complete">'+y+"</span> "+i);$(".paginate li:visible:last").addClass("last")}else{y==0?$(".no-matches").show():$(".no-matches").hide();$(".matches").text("")}}).parents("form").submit(function(){return false});
$("input").toggle_form_field();$("#table-attachments tbody").delegate("tr","click",function(){var t=$(this).find(".btn-delete").attr("href").substr(1);window.open("/api/attachments/project"+encodeURIComponent("/"+v.params.project+"/attachment/"+t))});G();peeq.editable.main()})})})}).get("#/:project/:view",function(){this.redirect("")}).get("#/:project/:view/:state",function(v){j();peeq.api.request("/handler",{service:"state",project:v.params.project,view:v.params.view,state:v.params.state},"get",
function(u){u.ok||C();u=u.result||{};var n=peeq.utils.template.states.get_current(u.states,v.path.replace("#","project"));v.title("\u00bb "+u.account.name+" \u00bb "+u.project.label+" \u00bb "+u.view.label+" \u00bb "+n.label);v.render(b("states"),{view:u.view,state:n,annotations:u.annotations},function(t){g(t,function(){r("states");$("#pie-chart-project").piechart({radius:60,xpos:90,ypos:90,width:190,height:170});$("body").attr("id","");G();peeq.editable.main();$("#table-states tbody").delegate("tr:not(.current)",
"click",function(){var y=$(this).find(".btn-delete").attr("href").substr(1);document.location.href="#/"+v.params.project+"/"+v.params.view+"/"+y});if(u.annotations.length){$("#table-annotations-container").find(".table-sortable").tablesorter({cssAsc:"icon-sort-asc",cssDesc:"icon-sort-desc",sortList:[[0,1]]});$("#table-annotations-container").delegate(".annotation-item","click",function(){var y=peeq.utils.template.annotations.get_id_from_elt($(this));$(".annotate-preview-container ."+y).click()});
$("#annotate-preview-image").load(function(){var y=null;y=$(this);var i=y.width(),X=y.height();$("#annotate-preview").addAnnotations(function(ia){return $("<a />",{href:document.location.href+"/annotate:"+peeq.utils.template.annotations.sanitize_id(ia._id),"class":"annotation-item annotation-id-"+peeq.utils.template.annotations.sanitize_id(ia._id)+" icon "+peeq.utils.template.get_annotation_marker_class(ia)+" ir",html:ia.type})},u.annotations,{containerHeight:X});for(var Z=0,K=u.annotations.length,
ha=$("#annotate-preview").find(".annotation-item");Z<K;Z++){$preview_annotation=$(ha[Z]);y=$preview_annotation.position();if(y.top<-5||y.top>X||y.left<-5||y.left>i)$preview_annotation.css("visibility","hidden")}$("#main").delegate(".annotation-item","mouseover",function(){var ia=peeq.utils.template.annotations.get_id_from_elt($(this));$("."+ia).addClass("on")}).delegate(".annotation-item","mouseout",function(){$(".annotation-item.on").removeClass("on")}).delegate(".annotation-item","click",function(){if($(this).attr("href"))document.location.href=
$(this).attr("href")})})}})})})}).get("#/:project/:view/:state/annotate",function(v){this.trigger("annotate",v)}).get("#/:project/:view/:state/annotate::id",function(v){this.trigger("annotate",v)});this.bind("settings",function(v,u){j();peeq.api.request("/handler",{service:"settings"},"get",function(n){n.ok||C();u.title("\u00bb "+n.result.account.name+" \u00bb Settings");u.render(b("settings"),n.result,function(t){g(t,function(){r("settings");G();$("body").attr("id","");$(".settings").find(".table-sortable").tablesorter({cssAsc:"icon-sort-asc",
cssDesc:"icon-sort-desc",sortList:[[0,0]]});if(peeq.utils.template.user.is_admin(n.result.account.user_level)){$(".table-users").find(".btn-edit").click(function(){var y=$(this).parents("tr"),i=y.find(".table-column-name").text().split(","),X=$.trim(i[1]);i=$.trim(i[0]);var Z=y.find(".table-column-username").text(),K=y.find(".table-column-email").text(),ha=y.find(".table-column-admin").text().length;y=y.hasClass("is_me");var ia=$(".modal-view-edit-user");ia.find("input[name=firstname]").val(y?X.replace("(ME)",
""):X);ia.find("input[name=lastname]").val(i);ia.find("input[name=username]").val(Z).data("original",Z);ia.find("input[name=email]").val(K);ia.find("input[name=admin]").attr("checked",ha?"checked":"");ia.find(".btn-admin-change").click().click()});$(".btn-admin-change").click(function(){var y=$(this).parents("li"),i=y.find(".msg-admin"),X=y.find(".msg-user");y=y.find("input[name=admin]");if(y.is(":checked")){i.hide();X.show();y.attr("checked","")}else{i.show();X.hide();y.attr("checked","checked")}return false})}})})})});
this.bind("annotate",function(v,u){j();peeq.api.request("/handler",{service:"annotate",project:u.params.project,view:u.params.view,state:u.params.state},"get",function(n){n.ok||C();n=n.result||{};u.render(b("annotate"),n.state,function(t){g(t,function(){u.title("\u00bb "+n.account.name);r("annotate");$("body").attr("id","annotate");var y=$("#representation");y.find("img:eq(0)").load(function(){y.width($(this)[0].naturalWidth).height($(this)[0].naturalHeight);$("header .btn-back").attr("href","#/"+
u.params.project+"/"+u.params.view+"/"+u.params.state).click(function(){peeq.annotate.cleanup()});peeq.annotate.config.users={};for(var i=n.users.length,X=0;X<i;X++)peeq.annotate.config.users[n.users[X].username]=n.users[X].firstname+" "+n.users[X].lastname;i={"0":"None"};if(n.task_groups){X=0;for(var Z=n.task_groups.groups.length;X<Z;X++)i[n.task_groups.groups[X]._id]=n.task_groups.groups[X].label}i["-1"]="Create New Group";peeq.annotate.config.task_groups=$.extend(peeq.annotate.config.task_groups,
i);peeq.annotate.main();peeq.annotate.add_annotations(n.annotations,u.params.id||null)})})})})})})},j=function(){var C=document.location.hash,v=$("header");v.find("a").removeClass("off");v.find("a[href="+C+"]").addClass("on")},m=function(){$.polling(200,function(C){if(this.is_online!=navigator.onLine)(this.is_online=navigator.onLine)?$("#network-connectivity:visible").animate({bottom:"-30px"},200,"easeOutBack"):$("#network-connectivity").animate({bottom:"-3px"},200,"easeOutBack");C()})},r=function(C){$("#bg img:not(#bg-default):visible").animate({opacity:0},
400);C&&$("#bg img[src$="+C+".png]").animate({opacity:1},400)},F=function(){try{peeq.forms.main()}catch(C){}$("#main").delegate(".expander","click",function(){$(this).parents(".column").toggleClass("wide")});$("#btn-logout").click(function(){$.post("/api/account/logout",function(){document.location.href="http://yss.com"})})},G=function(){function C(v){v=$(v)[0].className.match(/modal-view-(\w|\d|-)*/);return v.length?"."+v[0]:""}$(".modal").addClass("jqmWindow").jqm({overlay:90,trigger:false,closeClass:"btn-modal-close",
onShow:function(v){v.w.css({top:"-1000px",display:"block",opacity:0}).animate({top:"7%",opacity:1},300,"easeOutQuad");$("input").toggle_form_field();$("textarea").toggle_form_field()},onHide:function(v){v.w.animate({top:"-1000px",opacity:0},150,"easeOutQuad");v.o.fadeOut(150,function(){$(this).remove()})}}).find("form").lastfieldentersubmit({submit:function(v){v.find(".btn-submit").click()}});$(".btn-modal").click(function(){$(".modal"+C(this)).jqmShow();if($(this).hasClass("modal-view-delete-attachment")||
$(this).hasClass("modal-view-delete-state")||$(this).hasClass("modal-view-delete-user")){var v=$(this),u=v.attr("href").substr(1),n=".table-column-title",t;if(v.hasClass("modal-view-delete-attachment"))t=$("#frm-attachment-delete");else if(v.hasClass("modal-view-delete-state"))t=$("#frm-state-delete");else{t=$("#frm-user-delete");n=".table-column-username"}t.find("input[name=id]").val(u);t.find("p strong").append(" "+v.parents("tr").find(n).text())}return false});$(".btn-modal-cancel").click(function(){$(".btn-modal-close").click();
return false});$("input[type=file]").filestyle({image:"/resources/imgs/btn-browse.png",imageheight:50,imagewidth:87,width:260})};this.is_online=navigator.onLine;this.main=function(){e();a.run();F();$("footer").css({top:"+=10"}).delay(250).animate({top:"-=10",opacity:1},250,"easeOutQuad");m()};this.toString=function(){return"No peeqing!"}};peeq.prototype.api={successCallbackHandler:function(a,b){$.isFunction(a)&&a(b)},do_ajax_upload:function(a,b){$("#iframe-ajax-on-demand").remove();var g=$('<iframe name="iframe-ajax-on-demand" id="iframe-ajax-on-demand" style="display:none;width:0;height:0" src="http://blitz.yss.com/#/settings" target="_self" />');g.insertAfter("#"+b.attr("id"));b.attr("action",a).submit();g.load(function(){document.location.reload(true);$("#iframe-ajax-on-demand").remove()});return false},request:function(a,b,g,e,
j){j=j||false;if(a){a="/api"+a;if(j)peeq.api.do_ajax_upload(a,b,e);else{if(g=="PUT")g="POST";$.ajax({beforeSend:function(m){m.setRequestHeader("X-HTTP-Method-Override",g||"GET")},type:"POST",data:b,dataType:"json",url:a,success:function(m){peeq.api.successCallbackHandler(e,m)}})}}}};peeq.prototype.forms={main:function(){$("#main").delegate("form .btn-submit","click",function(){var a=$(this).parents("form").attr("id"),b=a.split("-");if(b[2]=="delete")b[2]="remove";peeq.forms[b[1]][b[2]](a);return false})},project:{validate:function(a){var b=$("#"+a);b.one("complete.validate",function(g,e){e&&peeq.forms.project.submit(b,"PUT",function(j){j.ok&&document.location.reload(true)})});b.data("validation")||b.validation({rules:[{elt:"input[name=label]",rule:/[\w\d- ]{2,}/,checkevent:"keypress",
onerror:function(g,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}}]});b.trigger("validate")},add:function(a){peeq.forms.project.validate(a)},remove:function(a){peeq.forms.project.submit($("#"+a),"DELETE",function(b){if(b.ok)document.location.href="/"})},submit:function(a,b,g){var e=peeq.forms.utils.gen_id_from_label(a.find("[input[name=label]").val());peeq.api.request("/project/"+e,a.serialize(),b||"POST",function(j){$.isFunction(g)&&g(j)})}},view:{validate:function(a){var b=
$("#"+a);b.one("complete.validate",function(g,e){e&&peeq.forms.view.submit(b,"PUT",function(j){j.ok&&document.location.reload(true)})});b.data("validation")||b.validation({rules:[{elt:"input[name=label]",rule:/[\w\d- ]{2,}/,onerror:function(g,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=attachment]",rule:/.jpg$/,onerror:function(g,e){var j=e.parents(".field");j.find(".icon-error").text("jpg only.").show();j.find(".icon-success").hide()},onsuccess:function(g,
e){var j=e.parents(".field");j.find(".icon-error").hide();j.find(".icon-success").show()}}]});b.trigger("validate")},add:function(a){peeq.forms.view.validate(a)},remove:function(a){var b=$("#"+a);a=peeq.forms.utils.gen_id_from_label(b.find("[input[name=label]").val());var g=peeq.forms.utils.get_pathname(1,2);peeq.api.request("/project/"+g+"/"+a,{},"DELETE",function(e){if(e.ok){b.parents(".modal").find(".btn-modal-close").click();document.location.href="/#/"+g}})},submit:function(a,b,g){var e=peeq.forms.utils.gen_id_from_label(a.find("[input[name=label]").val()),
j=peeq.forms.utils.get_pathname();peeq.api.request("/project/"+j+"/"+e,a,b||"POST",function(m){$.isFunction(g)&&g(m)},true)}},state:{validate:function(a){var b=$("#"+a);b.one("complete.validate",function(g,e){e&&peeq.forms.state.submit(b,"PUT",function(j){j.ok&&document.location.reload(true)})});b.data("validation")||b.validation({rules:[{elt:"input[name=label]",rule:/[\w\d- ]{2,}/,onerror:function(g,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=attachment]",
rule:/.jpg$/,onerror:function(g,e){var j=e.parents(".field");j.find(".icon-error").text("jpg only.").show();j.find(".icon-success").hide()},onsuccess:function(g,e){var j=e.parents(".field");j.find(".icon-error").hide();j.find(".icon-success").show()}}]});b.trigger("validate")},add:function(a){peeq.forms.state.validate(a)},remove:function(a){peeq.forms.state.submit($("#"+a),"DELETE",function(b){if(b.ok){b=peeq.forms.utils.get_pathname(1,3);$form.parents(".modal").find(".btn-modal-close").click();document.location.href=
"/#/"+b}})},submit:function(a,b,g){var e=peeq.forms.utils.gen_id_from_label(a.find("[input[name=label]").val()),j=peeq.forms.utils.get_pathname(1,3);peeq.api.request("/project/"+j+"/"+e,a,b||"POST",function(m){$.isFunction(g)&&g(m)},true)}},attachment:{validate:function(a){var b=$("#"+a);b.one("complete.validate",function(g,e){e&&peeq.forms.attachment.submit(b,"PUT",function(j){j.ok&&document.location.reload(true)})});b.data("validation")||b.validation({rules:[{elt:"input[name=label]",rule:/[\w\d- ]{2,}/,
onerror:function(g,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=attachment]",rule:/\.(jpg|png|doc|docx|pdf|xls|xlsx|swf|txt)$/,onerror:function(g,e){var j=e.parents(".field");j.find(".icon-error").text("jpg, png, swf, txt, doc, pdf, xls only").show();j.find(".icon-success").hide()},onsuccess:function(g,e){var j=e.parents(".field");j.find(".icon-error").hide();j.find(".icon-success").show()}}]});b.trigger("validate")},validate_update:function(a){var b=
$("#"+a);b.one("complete.validate",function(g,e){if(e){var j=peeq.forms.utils.get_pathname(1);peeq.api.request("/project/"+j,b,"POST",function(m){m.ok&&document.location.reload(true)},true)}});b.data("validation")||b.validation({rules:[{elt:"input[name=attachment]",rule:/\.(jpg)$/,onerror:function(g,e){var j=e.parents(".field");j.find(".icon-error").text("jpg only").show();j.find(".icon-success").hide()},onsuccess:function(g,e){var j=e.parents(".field");j.find(".icon-error").hide();j.find(".icon-success").show()}}]});
b.trigger("validate")},add:function(a){peeq.forms.attachment.validate(a)},remove:function(a){var b=$("#"+a);a=encodeURIComponent(b.find("[input[name=id]").val());var g=peeq.forms.utils.get_pathname();peeq.api.request("/project/"+g+"/attachment/"+a,b.serialize(),"DELETE",function(e){e.ok&&document.location.reload(true)})},submit:function(a,b,g){var e=peeq.forms.utils.gen_id_from_label(a.find("[input[name=label]").val()),j=peeq.forms.utils.get_pathname();peeq.api.request("/project/"+j+"/attachment/"+
e,a,b||"POST",function(m){$.isFunction(g)&&g(m)},true)},update:function(a){peeq.forms.attachment.validate_update(a)}},user:{validate_add:function(a){var b=$("#"+a);b.one("complete.validate",function(g,e){e&&peeq.api.request("/account/"+peeq.utils.get_subdomain()+"/users",b.serialize(),"POST",function(j){if(j.ok)$(".modal").jqmHide();else if(j.errors)for(var m=0,r=j.errors.length,F;m<r;m++){F=b.find("input[name="+j.errors[m].key+"]").parents("li");F.find(".icon-success").hide();F.find(".icon-error").html(j.errors[m].message).show()}})});
b.data("validation")||b.validation({rules:[{elt:"input[name=firstname]",rule:/^[a-zA-Z]{2,}[a-zA-Z ]{0,}$/,onerror:function(g,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=lastname]",rule:/^[a-zA-Z]{2,}[a-zA-Z ]{0,}$/,onerror:function(g,e){e.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=email]",rule:$.validation.EMAIL,onerror:function(g,e){e.parent().find(".icon-error").text("Invalid email address.")}},{elt:"input[name=username]",
rule:/^[\w\d]{4,}$/,onerror:function(g,e){e.parent().find(".icon-error").text("Must be at least 4 characters.")}}]});b.trigger("validate")},validate_edit:function(a,b){var g=$("#"+a);g.one("complete.validate",function(e,j){j&&peeq.api.request("/account/"+peeq.utils.get_subdomain()+"/users/"+b,g.serialize(),"POST",function(m){if(m.ok){var r=$(".table-users").find(".username-"+b);peeq.forms.user.update_row_in_table(r,m.user,b);$(".modal").jqmHide()}else if(m.errors){r=0;for(var F=m.errors.length,G;r<
F;r++){G=g.find("input[name="+m.errors[r].key+"]").parents("li");G.find(".icon-success").hide();G.find(".icon-error").html(m.errors[r].message).show()}}})});g.data("validation")||g.validation({rules:[{elt:"input[name=firstname]",rule:/^[a-zA-Z]{2,}[a-zA-Z ]{0,}$/,onerror:function(e,j){j.parent().find(".icon-error").text("Must be at least 2 characters.")}},{elt:"input[name=lastname]",rule:/^[a-zA-Z]{2,}[a-zA-Z ]{0,}$/,onerror:function(e,j){j.parent().find(".icon-error").text("Must be at least 2 characters.")}},
{elt:"input[name=email]",rule:$.validation.EMAIL,onerror:function(e,j){j.parent().find(".icon-error").text("Invalid email address.")}},{elt:"input[name=username]",rule:/^[\w\d]{4,}$/,onerror:function(e,j){j.parent().find(".icon-error").text("Must be at least 4 characters.")}}]});g.trigger("validate")},validate_company_logo:function(a){var b=$("#"+a);b.one("complete.validate",function(g,e){e&&peeq.api.request("/account/"+peeq.utils.get_subdomain(),b,"POST",function(j){j.ok&&document.location.reload(true)},
true)});b.data("validation")||b.validation({rules:[{elt:"input[name=logo]",rule:/\.(jpg)$/,onerror:function(g,e){var j=e.parents(".field");j.find(".icon-error").text("jpg only").show();j.find(".icon-success").hide()},onsuccess:function(g,e){var j=e.parents(".field");j.find(".icon-error").hide();j.find(".icon-success").show()}}]});b.trigger("validate")},add:function(a){peeq.forms.user.validate_add(a)},edit:function(a){var b=$("#"+a),g=b.find("input[name=username]").data("original");b.find("input[name=username]").data("original",
"");peeq.forms.user.validate_edit(a,g)},remove:function(a){a=$("#"+a);var b=a.find("[input[name=id]").val();peeq.api.request("/account/"+peeq.utils.get_subdomain()+"/users/"+b,a.serialize(),"DELETE",function(g){if(g.ok){$(".table-users").find(".username-"+b).remove();$(".modal").jqmHide()}})},changepassword:function(a){a=$("#"+a);var b=$(".modal-view-changepassword-user").attr("href").substr(1);peeq.api.request("/account/"+peeq.utils.get_subdomain()+"/users/"+b,a.serialize(),"POST",function(g){g.ok&&
$(".settings").find(".msg-password-changed").fadeIn().delay(5E3).fadeOut();$(".modal").jqmHide()})},updatecompanylogo:function(a){peeq.forms.user.validate_company_logo(a)},update_row_in_table:function(a,b,g){a.removeClass("username-"+g).addClass("username-"+g);a.find(".table-column-name").text(b.lastname+", "+b.firstname);a.find(".table-column-username").text(b.username);a.find(".table-column-email").text(b.email);a.find(".table-column-admin").text(b.level>=7?'<td class="table-column-admin"><span class="icon icon-success ir">admin</span></td>':
"")}},utils:{gen_id_from_label:function(a){return a.replace(/(_|\s)/g,"-").toLowerCase()},get_pathname:function(a,b){var g=document.location.hash.split("/");return g.slice(a||1,b||g.length).join("/")},reset:function(){}}};peeq.prototype.editable={main:function(){$(".editable").editable(function(a){peeq.editable.save({label:a},function(b){console.log(b)});return a},{indicator:"Saving...",tooltip:"Click to edit...",onblur:"ignore",submit:"Save",cancel:"Cancel",cssclass:"frm-editable",width:"none",height:"none"});$(".editable-textarea").editable(function(a){a=peeq.utils.template.nl2br(a);peeq.editable.save({description:a},function(b){console.log(b)});return a},{type:"textarea",indicator:"Saving...",tooltip:"Click to edit...",
onblur:"ignore",submit:"Save",cancel:"Cancel",cssclass:"frm-editable",width:"none",height:"none",data:function(a){return $.trim(a.replace(/<br[\s\/]?>/gi,"\n"))}}).each(function(){$(this).html($(this).html().replace(/&lt;br \/&gt;/g,"<br />"))})},save:function(a,b){var g=document.location.hash.split("/");resource="/project/"+g.slice(1,g.length>2?g.length-1:2).join("/");peeq.api.request(resource,a,"POST",function(e){$.isFunction(b)&&b(e)})}};peeq.prototype.annotate={config:{users:{},context_options:{Flash:"Flash",HTML:"HTML",PHP:"PHP",dotnet:".NET",design:"Design",general:"General"},task_groups:{}},main:function(){var a=$("#representation");a.annotatableImage(peeq.annotate.ui_annotation,{xPosition:"left",yPosition:"top"});a.delegate(".annotation .btn-save","click",function(){var b=$(this).parents(".annotation"),g=b.find(".frm-annotation"),e=b.find("input[name=label]").val(),j=b.find("textarea[name=description]").val(),m=peeq.utils.querystring_to_object(g.serialize());
g=b.serializeAnnotation();m=$.extend(m,g);m.label=e||"No Title";m.description=j;m.estimate=m.estimate!=""?m.estimate+" "+m.estimate_time:"";m.priority=m.priority=="on"?1:0;m.status=m.status=="on"?1:0;delete m.estimate_time;e=b.data("annotation-id");j=document.location.hash.split("/");j=j.slice(1,j.length-1).join("/");if(e){e="project/"+j+"/"+peeq.utils.template.annotations.sanitize_id(e);method="POST"}else{e="project/"+j+"/annotations";method="PUT"}peeq.api.request("/"+e,m,method,function(r){if(r.ok){b.data("annotation-id",
r.id);b.addClass("annotation-"+peeq.utils.template.annotations.sanitize_id(r.id));m.type=="task"&&peeq.annotate.save_group(b,m.task_groups,m.new_group)}b.trigger("deactivate")});return false}).delegate(".annotation .btn-cancel","click",function(){var b=$(this).parents(".annotation");peeq.annotate.is_empty_annotation(b)?b.find(".btn-delete").click():b.find(".annotation-num").trigger("click",true);return false}).delegate(".annotation .btn-delete","click",function(){var b=$(this).parents(".annotation");
b.fadeOut(function(){$(this).remove()});(b=b.data("annotation-id"))&&peeq.api.request("/"+b,{},"DELETE",function(g){console.log(g)});return false}).delegate(".tbl-related-tasks a","click",function(){var b=$(this).attr("href").split(":"),g=document.location.hash.split(":");if(b[0]==g[0]){peeq.annotate.deeplink_to_annotation(b[1]);return false}})},save_group:function(a,b,g){var e=a.data("group-id");e=e?e.split("/")[4]:"";var j=a.data("annotation-id"),m=document.location.hash.split("/")[1];if(b.indexOf("/")!=
-1)b=b.split("/")[4];if(m)if(b==-1)peeq.api.request("/project/"+m+"/group/task",{label:g,task_id:j},"POST",function(r){if(r.ok){a.data("group-id",r.id);peeq.annotate.cleanup();var F=$("#representation").find(".annotation .dd-task-groups");$("<option value='"+r.id+"'>"+g+"</option>").insertBefore(F.find("option:last"));a.find(".dd-task-groups option[value="+r.id+"]").attr("selected","selected");a.find("input[name=new_group]").val("").hide();a.find(".btn-see-related-tasks").show();F.selectmenu({width:175})}});
else if(e&&b!=e)peeq.api.request("/project/"+m+"/group/task/"+e,{},"DELETE",function(r){r.ok&&b>0&&peeq.api.request("/project/"+m+"/group/task/"+b+"/"+encodeURIComponent(j),{},"POST",function(F){a.data("group-id",F.id)})});else b!=e&&b!=0&&peeq.api.request("/project/"+m+"/group/task/"+b+"/"+encodeURIComponent(j),{},"POST",function(r){a.data("group-id",r.id)})},cleanup:function(){$("ul[id^=dd-task-groups]").remove();$("a[id^=dd-task-groups]").remove()},get_annotations:function(){return $("#representation .annotation").serializeAnnotations()},
add_annotations:function(a,b){$("#representation").addAnnotations(peeq.annotate.ui_annotation,a,{xPosition:"left",yPosition:"top"}).trigger("mouseup");$(".annotation:last").trigger("deactivate").addClass("minimized");b&&peeq.annotate.deeplink_to_annotation(b)},deeplink_to_annotation:function(a){a=$("#representation .annotation-"+a);var b=parseInt(a.css("top"));a.trigger("activate");window.scrollTo(0,b)},get_next_annotation_count:function(){return $("#representation .annotation").length?parseInt($("#representation .annotation:last .annotation-num").text())+
1:1},is_empty_annotation:function(a){return a.find("input[name=label]").val()==""&&!a.data("annotation-id")},ui_annotation:function(a){a=$.extend({id:"",context:"",description:"",height:0,width:0,label:"",type:"note",x:null,y:null,group:"none"},a);if(a._id){a.id=a._id;delete a._id}a.type_class=a.type=="note"?"type-note":"type-task";var b=$("#representation");b.find(".annotation").each(function(){var m=$(this);peeq.annotate.is_empty_annotation(m)?m.find(".btn-delete").click():m.find(".annotation-num").trigger("click",
true)});var g=$("<div />",{"class":"annotation "+a.type_class+" annotation-"+peeq.utils.template.annotations.sanitize_id(a.id)}).resizable({handles:"e, s, w, ne, se, sw",containment:"parent",start:function(){$(this).trigger("deactivate")},stop:function(m,r){$(this).find(".frm-annotation").css({top:r.size.height+10})}}).draggable({containment:"parent",handle:".overlay",start:function(){$(this).trigger("deactivate")}}).mouseup(function(){$(this).addClass("active")}).bind("activate",function(){$(".annotation").removeClass("active").addClass("minimized");
$(this).addClass("active").removeClass("minimized")}).bind("deactivate",function(){$(this).removeClass("active")});b.mousemove(function(m){var r=g.position();g.width(m.pageX-r.left-b.offset().left).height(m.pageY-r.top-50);g.find(".frm-annotation").css({top:g.height()+10});return false}).mouseup(function(){$(this).unbind("mousemove").unbind("mouseup")});$("<div />",{"class":"border"}).appendTo(g);$("<div />",{"class":"overlay",click:function(){$(this).parents(".annotation").trigger("activate")}}).appendTo(g);
var e=peeq.annotate.get_next_annotation_count();$("<span />",{"class":"annotation-num",html:e,click:function(m,r){var F=$(this).parents(".annotation"),G=F.find(".frm-annotation");if(r||!F.hasClass("minimized")){F.hasClass("minimized")||F.data("peeq",{width:F.width(),height:F.height()});F.addClass("minimized")}else{var C=F.data("peeq");b.find(".annotation").each(function(){$(this)!=F&&$(this).find(".annotation-num").trigger("click",true)});F.removeClass("minimized").addClass("active").css({width:C.width,
height:C.height});G.fadeIn()}return false}}).appendTo(g);var j=$("<form />",{"class":"frm-annotation",action:"post"}).appendTo(g);$("<div />",{html:'<div class="type"><a href="#" class="btn btn-note selected"><span class="icon icon-note"></span></a><a href="#" class="btn btn-task"><span class="icon icon-task"></span></a><input type="radio" value="note" name="type" checked="checked" class="visuallyhidden" /><input type="radio" value="task" name="type" class="visuallyhidden" /></div><div class="frm-annotation-container"><div class="frm-annotation-inner"><p class="field"><a href="#" class="btn btn-priority" title="Low Priority">!</a><input type="checkbox" name="priority" class="visuallyhidden"/><input type="text" name="label" value="'+
a.label+'" /><label for="label">Title</label></p><p class="field"><textarea name="description">'+a.description+'</textarea><label for="description">Description</label></p><div class="task-fields"><p><label for="context">Context</label><select id="dd-context-'+e+'" class="dd-context" name="context"></select></p><p><label for="assigned_to">Assigned To</label><select id="dd-assigned-to-'+e+'" class="dd-assigned-to" name="assigned_to"></select><a href="#" class="btn btn-status status-close">Close Task</a><input type="checkbox" name="status" class="visuallyhidden" /></p><p class="field field-estimate"><label for="estimate">Estimate</label><input type="text" name="estimate" maxlength="4" /> <select id="dd-estimate-'+
e+'" class="dd-estimate" name="estimate_time"><option value="hours">hours</option><option value="days">days</option><option value="weeks">weeks</option></select></p><p class="field field-groups"><label for="task-groups">Group</label><select id="dd-task-groups-'+e+'" class="dd-task-groups" name="task_groups"></select><input type="text" name="new_group" /><a href="#" class="btn-see-related-tasks">See Related Tasks &raquo;</a></p></div><p class="group-cta"><a href="#" class="btn btn-save">Save</a><a href="#" class="btn btn-cancel">Cancel</a><a href="#" class="btn btn-delete">Delete</a></p><div class="view-related-tasks"><a href="#" class="btn btn-back btn-back-to-form">Back</a><ol class="tbl-related-tasks"></ol></div></div></div>'}).appendTo(j);
peeq.utils.add_options_to_select(peeq.annotate.config.context_options,j.find(".dd-context"));peeq.utils.add_options_to_select(peeq.annotate.config.users,j.find(".dd-assigned-to"));peeq.utils.add_options_to_select(peeq.annotate.config.task_groups,j.find(".dd-task-groups"));j.find(".type .btn-note").click(function(){var m=$(this).parents(".annotation");$(this).addClass("selected");j.find("input[name=type]:eq(1)").removeAttr("checked");j.find("input[name=type]:eq(0)").attr("checked","checked");j.find(".task-fields").hide();
m.removeClass("type-task").addClass("type-note");m.find(".type .btn-task").removeClass("selected");return false});j.find(".type .btn-task").click(function(){var m=$(this).parents(".annotation");$(this).addClass("selected");j.find("input[name=type]:eq(0)").removeAttr("checked");j.find("input[name=type]:eq(1)").attr("checked","checked");j.find(".task-fields").show();m.removeClass("type-note").addClass("type-task");m.find(".type .btn-note").removeClass("selected");return false});j.find(".dd-task-groups").change(function(){var m=
$(this).val(),r=j.find("input[name=new_group]"),F=j.find(".btn-see-related-tasks");if(m==0)F.hide();else if(m==-1){F.hide();r.show();var G=setTimeout(function(){r.focus();clearTimeout(G)},100)}else{r.hide();F.show()}});j.find(".btn-see-related-tasks").click(function(){var m=j.find(".dd-task-groups").val();peeq.api.request("/"+m,{},"GET",function(r){if(r.ok){var F=j.find(".tbl-related-tasks"),G=[],C="",v=[],u="",n=j.parents(".annotation").data("annotation-id"),t=r.tasks.length;if(t>0)for(var y=0;y<
t;y++){if(y>6){G.push('<li class="plus-more">plus <span class="count incomplete">'+(t-y)+"</span> more.</li>");break}C=r.tasks[y];if(C._id!=n){v=C._id.split("/").slice(1);u=v.pop();v.push("annotate:"+u);v=v.join("/");G.push('<li><a href="#/'+v+'"><span class="title">'+peeq.utils.template.truncate(C.label,50)+"</span><br />in "+C.view.label+" &raquo; "+C.state.label+"</a></li>")}}G.length<1&&G.push('<li class="none">No related tasks found.</li>');F.html(G.join(""));g.find(".frm-annotation-inner").animate({left:-402},
250,"easeOutQuad")}});return false});j.find(".btn-back-to-form").click(function(){g.find(".frm-annotation-inner").animate({left:0},250,"easeOutQuad");return false});j.find(".btn-priority").click(function(){var m=$(this),r=m.next("input[name=priority]"),F="Low";m.toggleClass("checked");r.attr("checked",false);if(m.hasClass("checked")){F="High";r.attr("checked",true)}m.attr("title",F+" Priority");return false});j.find(".btn-status").click(function(){var m=$(this),r=m.next("input[name=status]");if(m.hasClass("status-close")){m.removeClass("status-close").text("Reopen task");
r.attr("checked",true)}else{m.addClass("status-close").text("Close Task");r.attr("checked",false)}return false});j.find("input[name=estimate]").numeric(".");if(a.width&&a.height){g.data("peeq",{width:a.width,height:a.height});j.css({top:10+parseInt(a.height)})}if(a.type=="task"){j.find(".type .btn-task").click();j.find(".task-fields").show()}a.context&&j.find(".dd-context option[value="+a.context+"]").attr("selected","selected");a.assigned_to&&j.find(".dd-assigned-to option[value="+a.assigned_to+
"]").attr("selected","selected");if(a.estimate){e=a.estimate.split(" ");j.find("input[name=estimate]").val(e[0]);j.find(".estimate_time option[value="+e[1]+"]")}if(a.group)if(a.group=="none"||a.group<1)j.find(".btn-see-related-tasks").hide();else{j.find(".dd-task-groups option[value="+a.group+"]").attr("selected","selected");g.data("group-id",a.group)}else j.find(".btn-see-related-tasks").hide();a.priority&&a.priority==1&&j.find(".btn-priority").click();a.status&&a.status=="1"&&j.find(".btn-status").click();
a.id&&g.data("annotation-id",a.id);j.find("select:not(.dd-estimate)").selectmenu({width:175,format:function(m){m=m;var r=[{find:/^([^\-]+) \- /g,rep:'<span class="ui-selectmenu-item-header">$1</span>'},{find:/([^\|><]+) \| /g,rep:'<span class="ui-selectmenu-item-content">$1</span>'},{find:/([^\|><\(\)]+) (\()/g,rep:'<span class="ui-selectmenu-item-content">$1</span>$2'},{find:/([^\|><\(\)]+)$/g,rep:'<span class="ui-selectmenu-item-content">$1</span>'},{find:/(\([^\|><]+\))$/g,rep:'<span class="ui-selectmenu-item-footer">$1</span>'}];
for(var F in r)m=m.replace(r[F].find,r[F].rep);return m}});j.find("select.dd-estimate").selectmenu({width:95,menuWidth:75});return g}};peeq.prototype.utils={template:{index:function(a,b){return $.inArray(a,b)+1},percentage:function(a,b){return b>0?parseInt(a/b*100,10):100},truncate:function(a,b){var g,e;if("string"!==typeof a)return"";g=a.split("");if(g.length>b){for(e=g.length-1;e>-1;--e)if(e>b)g.length=e;else if(" "===g[e]){g.length=e;break}g.push("...")}return g.join("")},elapsed_time:function(a){var b=new Date,g=new Date;g.setFullYear(a.substr(0,4));g.setMonth(a.substr(5,2)-1);g.setDate(a.substr(8,2));g.setHours(a.substr(11,
2));g.setMinutes(a.substr(14,2));g.setSeconds(a.substr(17,2));b.setHours(b.getHours()-1);b=(b.getTime()-g.getTime())/1E3;a=function(e){return e==1?"":"s"};if(b<0)return"just now";if(b<60){b=b;return b+" second"+a(b)+" ago"}if(b<3600){b=Math.floor(b/60);return b+" minute"+a(b)+" ago"}if(b<86400){b=Math.floor(b/60/60);return b+" hour"+a(b)+" ago"}if(b<604800){b=Math.floor(b/60/60/24);return b+" day"+a(b)+" ago"}if(b<2678400){b=Math.floor(b/60/60/24/7);return b+" week"+a(b)+" ago"}if(b<31536E3){b=Math.floor(b/
60/60/24/31);return b+" month"+a(b)+" ago"}b=Math.floor(b/60/60/24/365);return b+" year"+a(b)+" ago"},get_completed_projects_count:function(a){for(var b=0,g=0,e=a.length,j;g<e;g++){j=a[g];j.tasks.complete>0&&j.tasks.complete==j.tasks.total&&b++}return b},sanitize_id:function(a){return"#/"+a.split("/").slice(1).join("/")},completed_views:function(a){for(var b=0,g=0,e=a.length;g<e;g++)a[g].tasks.total>0&&a[g].tasks.completed>=a[g].tasks.total&&b++;return b},completed_tasks_in_project:function(a){for(var b=
0,g=0,e=a.length;g<e;g++)b+=a[g].tasks.completed;return b},total_tasks_in_project:function(a){for(var b=0,g=0,e=a.length;g<e;g++)b+=a[g].tasks.total;return b},icon_from_content_type:function(a){var b="icon-view";switch(a){case "application/pdf":b="icon-pdf";break;case "image/gif":b="icon-gif";break;case "image/jpeg":b="icon-jpg";break;case "image/png":b="icon-png";break;case "text/html":b="icon-html";break;case "text/javascript":b="icon-js";break;case "text/xml":b="icon-xml";break}return b},get_annotation_marker_class:function(a){var b=
"icon-marker-incomplete";switch(a.type){case "note":b="icon-note";break;case "task":b+=" icon-marker";if(a.status==1)b+=" icon-marker-complete";break}return b},annotations:{sanitize_id:function(a){return a.split("/").slice(-1)},get_id_from_elt:function(a){return a.attr("class").match(/annotation-id-(\w|\d)*/)[0]},get_priority:function(a){return a&&a>0?"!":""},get_status:function(a){return a>0?"complete":"incomplete"},get_status_icon:function(a){return a>0?"icon icon-success":""}},states:{get_id_from_elt:function(a){return a.attr("class").match(/state-id-(\w|\d|-)*/)[0]},
get_current:function(a,b){for(var g=a[0],e=0,j=a.length;e<j;e++)if(a[e]._id==b){g=a[e];break}return g}},user:{is_admin:function(a){return a>=7}},nl2br:function(a){return a.replace(RegExp("\\n","g"),"<br />")}},add_options_to_select:function(a,b){var g=[];for(var e in a)g.push('<option value="'+e+'">'+a[e]+"</option>");b.html(g.join(""))},querystring_to_object:function(a){var b={};a.replace(/([^=&]+)=([^&]*)/g,function(g,e,j){b[unescape(e)]=unescape(j)});return b},get_subdomain:function(){return document.location.host.split(".")[0]}};peeq=new peeq;$(function(){peeq.main()});
